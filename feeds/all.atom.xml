<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Rasor's Tech Blog</title><link href="https://rasor.github.io/" rel="alternate"></link><link href="https://rasor.github.io/feeds/all.atom.xml" rel="self"></link><id>https://rasor.github.io/</id><updated>2021-03-13T18:00:00+01:00</updated><subtitle>... still playing with this Lego</subtitle><entry><title>Install apps on Ubuntu on Wsl2 in Windows 10</title><link href="https://rasor.github.io/install-apps-on-ubuntu-on-wsl2-in-windows-10.html" rel="alternate"></link><published>2021-03-13T00:00:00+01:00</published><updated>2021-03-13T18:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2021-03-13:/install-apps-on-ubuntu-on-wsl2-in-windows-10.html</id><summary type="html">&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;This blog is a continuation from &lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;, where I installed WSL2 on a Windows 10 laptop including &lt;a href="https://www.microsoft.com/da-dk/p/opensuse-leap-15-1/9njfzk00fgkv?rtc=1&amp;amp;activetab=pivot:overviewtab"&gt;openSUSE-Leap-15-1&lt;/a&gt; as default distro in WSL2.  &lt;/p&gt;
&lt;p&gt;In this blog I want to start using Ubuntu 20.04 and see if it gives an ok …&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;This blog is a continuation from &lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;, where I installed WSL2 on a Windows 10 laptop including &lt;a href="https://www.microsoft.com/da-dk/p/opensuse-leap-15-1/9njfzk00fgkv?rtc=1&amp;amp;activetab=pivot:overviewtab"&gt;openSUSE-Leap-15-1&lt;/a&gt; as default distro in WSL2.  &lt;/p&gt;
&lt;p&gt;In this blog I want to start using Ubuntu 20.04 and see if it gives an ok experience running Linux on Windows (and using it as a developer PC).  &lt;/p&gt;
&lt;p&gt;If you have installed WSL2 and a default linux disto and in Visual Studio Code have installed &lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl"&gt;Remote WSL&lt;/a&gt; then you should open Remote WSL and be able to see your default distro:&lt;br&gt;
&lt;img alt="Default distro in WSL2" src="../img/2021/2021-03-13-wsl2-01.png"&gt;  &lt;/p&gt;
&lt;h2&gt;Install Linux distro&lt;/h2&gt;
&lt;p&gt;Now I want to use Ubuntu instead. 
&lt;a href="https://www.microsoft.com/en-us/p/ubuntu-2004-lts/9n6svws3rx71?rtc=1&amp;amp;activetab=pivot:overviewtab"&gt;Get Ubuntu 20.04 LTS - Microsoft Store&lt;/a&gt;
&lt;img alt="Ubuntu distro on the web" src="../img/2021/2021-03-13-wsl2-03.png"&gt;&lt;br&gt;
Press &lt;code&gt;Get&lt;/code&gt;. This will open &lt;code&gt;Microsoft Store&lt;/code&gt; on your PC and yet again press &lt;code&gt;Get&lt;/code&gt;. It will download 0.5 GB!&lt;br&gt;
When downloaded it will ask you to &lt;code&gt;Launch&lt;/code&gt; or to &lt;code&gt;Pin to start&lt;/code&gt;. When you Launch you start installing Ubuntu - you just follow the steps.&lt;br&gt;
&lt;img alt="Ubuntu distro install" src="../img/2021/2021-03-13-wsl2-04.png"&gt;  &lt;/p&gt;
&lt;p&gt;Open CMD in your PC.&lt;br&gt;
Now you can see the Ubuntu running, but not default (*)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# CMD on Win10&lt;/span&gt;
wsl -l -v
&lt;span class="c1"&gt;#   NAME                   STATE           VERSION&lt;/span&gt;
&lt;span class="c1"&gt;# * openSUSE-Leap-15-1     Stopped         2&lt;/span&gt;
&lt;span class="c1"&gt;#   docker-desktop-data    Stopped         2&lt;/span&gt;
&lt;span class="c1"&gt;#   Ubuntu-20.04           Running         2&lt;/span&gt;
&lt;span class="c1"&gt;#   docker-desktop         Stopped         2&lt;/span&gt;

&lt;span class="c1"&gt;# Set Ubunto default&lt;/span&gt;
wsl --set-default Ubuntu-20.04
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And you can see it in VSCode
&lt;img alt="Ubuntu is now Default distro in WSL2" src="../img/2021/2021-03-13-wsl2-05.png"&gt;  &lt;/p&gt;
&lt;p&gt;Next you should right-click the distro and &lt;code&gt;Connect to WSL&lt;/code&gt;.&lt;br&gt;
This will open up a new VSCode which is directly connected to your WSL, so you can browse its files, edit the files and run the terminal.  &lt;/p&gt;
&lt;h2&gt;Install apps into the distro&lt;/h2&gt;
&lt;h3&gt;What's in the box?&lt;/h3&gt;
&lt;p&gt;Open a terminal. You will be in your home folder &lt;code&gt;~&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;&lt;img alt="Terminal in WSL2" src="../img/2021/2021-03-13-wsl2-06.png"&gt;.&lt;br&gt;
Nice - so what's in the box?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
&lt;span class="c1"&gt;# Do we have curl?&lt;/span&gt;
curl --version
&lt;span class="c1"&gt;# curl 7.68.0 (x86_64-pc-linux-gnu) libcurl/7.68.0 OpenSSL/1.1.1f zlib/1.2.11 brotli/1.0.7 libidn2/2.2.0 libpsl/0.21.0 (+libidn2/2.2.0) libssh/0.9.3/openssl/zlib nghttp2/1.40.0 librtmp/2.3&lt;/span&gt;

&lt;span class="c1"&gt;# Do we have wget?&lt;/span&gt;
wget --version
&lt;span class="c1"&gt;# GNU Wget 1.20.3 built on linux-gnu.&lt;/span&gt;

&lt;span class="c1"&gt;# Do we have git?&lt;/span&gt;
git --version
&lt;span class="c1"&gt;# git version 2.25.1&lt;/span&gt;

&lt;span class="c1"&gt;# update packages&lt;/span&gt;
sudo apt update

&lt;span class="c1"&gt;# Do we have python?&lt;/span&gt;
python3 -V
&lt;span class="c1"&gt;# Python 3.8.5&lt;/span&gt;
pip3 -V
&lt;span class="c1"&gt;# Command &amp;#39;pip3&amp;#39; not found, but can be installed with:&lt;/span&gt;
&lt;span class="c1"&gt;# sudo apt install python3-pip&lt;/span&gt;
sudo apt install python3-pip
pip3 -V
&lt;span class="c1"&gt;# pip 20.0.2 from /usr/lib/python3/dist-packages/pip (python 3.8)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;xClip&lt;/h3&gt;
&lt;p&gt;A copy-paste tool  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Used during Git config &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Install &lt;a href="https://www.cyberciti.biz/faq/xclip-linux-insert-files-command-output-intoclipboard/"&gt;xClip&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
sudo apt-get install xclip
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Git&lt;/h3&gt;
&lt;p&gt;Though git is installed you'll probably want configuraions like SSH access to your github repo.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Guides&lt;ul&gt;
&lt;li&gt;&lt;a href="https://help.github.com/en/articles/connecting-to-github-with-ssh"&gt;Connecting to GitHub with SSH&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/en/articles/changing-a-remotes-url#switching-remote-urls-from-https-to-ssh"&gt;Changing a remote URL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Optionally add some author info:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
git config --global user.name &lt;span class="s2"&gt;&amp;quot;Your Name&amp;quot;&lt;/span&gt;
git config --global user.email &lt;span class="s2"&gt;&amp;quot;youremail@domain.com&amp;quot;&lt;/span&gt;
git config --list
&lt;span class="c1"&gt;# The information you entered is stored in your Git configuration file ~/.gitconfig&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you use 2FA on github, then SSH access with a private key avoids having a &lt;code&gt;Personal Access Token&lt;/code&gt; to risk to loose and having to cache. More info on &lt;a href="https://help.github.com/en/articles/which-remote-url-should-i-use#cloning-with-ssh-urls"&gt;Which remote URL should I use?&lt;/a&gt;.&lt;br&gt;
So from VSCode rather like to use SSH access (opposed to HTTPS access).&lt;br&gt;
Since you can just regenerate a new SSH key pair, then you don't have to save your private key for later use.  &lt;/p&gt;
&lt;p&gt;Warning: You should not give the SSH key a passphrase to avoid trouble in VSCode
* Ref: 
&lt;a href="https://code.visualstudio.com/docs/editor/versioncontrol#_can-i-use-ssh-git-authentication-with-vs-code"&gt;Version Control in Visual Studio Code&lt;/a&gt;
* But you might get it working by &lt;a href="https://wiki.archlinux.org/index.php/KDE_Wallet#Using_the_KDE_Wallet_to_store_ssh_key_passphrases"&gt;Storing SSH key passphrase in KDE Wallet&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
&lt;span class="c1"&gt;# Check for existing SSH keys&lt;/span&gt;
ls -al ~/.ssh
&lt;span class="c1"&gt;# Are there any you want to reuse?&lt;/span&gt;
&lt;span class="c1"&gt;# ls: cannot access &amp;#39;/home/rasor/.ssh&amp;#39;: No such file or directory&lt;/span&gt;
mkdir ~/.ssh

&lt;span class="c1"&gt;# I want to generate a new key pair&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; ~/.ssh
ssh-keygen -t rsa -b &lt;span class="m"&gt;4096&lt;/span&gt; -C &lt;span class="s2"&gt;&amp;quot;youremail@domain.com&amp;quot;&lt;/span&gt; -f id_rsa_youruserid_github
&lt;span class="c1"&gt;# Generating public/private rsa key pair.&lt;/span&gt;
&lt;span class="c1"&gt;# Enter file in which to save the key (/home/youruserid/.ssh/id_rsa): id_rsa_youruserid_github&lt;/span&gt;
&lt;span class="c1"&gt;# Enter passphrase (empty for no passphrase): &lt;/span&gt;
&lt;span class="c1"&gt;# Enter same passphrase again: &lt;/span&gt;
&lt;span class="c1"&gt;# Your identification has been saved in id_rsa_youruserid_github.&lt;/span&gt;
&lt;span class="c1"&gt;# Your public key has been saved in id_rsa_youruserid_github.pub.&lt;/span&gt;
&lt;span class="c1"&gt;# The key fingerprint is:&lt;/span&gt;
&lt;span class="c1"&gt;# SHA256:X4uMb123456789012345678901234567rWzWRZD1Szl youremail@domain.com&lt;/span&gt;
&lt;span class="c1"&gt;# The key&amp;#39;s randomart image is:&lt;/span&gt;
&lt;span class="c1"&gt;# +---[RSA 4096]----+&lt;/span&gt;

&lt;span class="c1"&gt;# Avoid error &amp;quot;Can&amp;#39;t clone git repo and getting error ssh_askpass: exec(/usr/bin/ssh-askpass): No such file or directory Host key verification failed&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# https://stackoverflow.com/questions/52711525/cant-clone-git-repo-and-getting-error-ssh-askpass-exec-usr-bin-ssh-askpass&lt;/span&gt;
ssh-keyscan -t rsa github.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
&lt;span class="c1"&gt;# github.com:22 SSH-2.0-OpenSSH_7.2p2 Ubuntu-4ubuntu2.8&lt;/span&gt;
ssh-keyscan -t rsa gitlab.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
ssh-keyscan -t rsa bitbucket.org &amp;gt;&amp;gt; ~/.ssh/known_hosts
ssh-keyscan -t rsa ssh.dev.azure.com &amp;gt;&amp;gt; ~/.ssh/known_hosts

&lt;span class="c1"&gt;# later on you will put your keys in a keychain - for that you need to install one&lt;/span&gt;
sudo apt install keychain
&lt;span class="c1"&gt;# vExtra info on [keychain...](https://www.funtoo.org/Keychain)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now you are ready to use your keychain.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; ~/
touch ~/.bash_profile
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In VSCode you can blowse to  ~/.bash_profile add your newly generated ssh key to the keychain whenever you open a terminal&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ~/.bash_profile&lt;/span&gt;
&lt;span class="c1"&gt;# Add your SSH key to SSH Agent&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="sb"&gt;`&lt;/span&gt;keychain --eval --agents ssh id_rsa_youruserid_github&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="c1"&gt;# Now you don&amp;#39;t have to add your SSH key to agent (`ssh-add`) before you commit to github.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Open a new terminal to make it take effect.&lt;/p&gt;
&lt;p&gt;Add a new SSH key to your GitHub (bitbucket, gitlab, etc) account&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
&lt;span class="c1"&gt;# verify that keychain in installed&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="sb"&gt;`&lt;/span&gt;keychain&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="c1"&gt;# * keychain 2.8.5 ~ http://www.funtoo.org&lt;/span&gt;
&lt;span class="c1"&gt;# * Starting ssh-agent...&lt;/span&gt;

&lt;span class="c1"&gt;# Copy the contents of the id_rsa_youruserid_github.pub file to your clipboard&lt;/span&gt;
xclip -sel clip &amp;lt; ~/.ssh/id_rsa_youruserid_github.pub
&lt;span class="c1"&gt;# Error: Can&amp;#39;t open display: (null)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hmm - xclip not working in WSL - then instead open the file ~/.ssh/id_rsa_youruserid_github.pub in VSCode and select-all and copy (ctrl-a ctrl-c).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Goto &lt;a href="https://github.com/settings/keys"&gt;https://github.com/settings/keys&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;or &lt;a href="https://bitbucket.org/account/user/your_userid/"&gt;bitbucket&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;or &lt;a href="https://dev.azure.com/your_userid/_usersSettings/keys"&gt;dev.azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;or &lt;a href="https://gitlab.com/profile/keys"&gt;gitlab.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;New SSH key&lt;/li&gt;
&lt;li&gt;Paste key: Ctrl-V&lt;/li&gt;
&lt;li&gt;Title: vscode_youruserid_github&lt;/li&gt;
&lt;li&gt;Save key: Add SSH key&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finally you need to change urls on your local repos remote origin from HTTPS to SSH&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; your_local_repo
&lt;span class="c1"&gt;# Print remote url&lt;/span&gt;
git remote -v
&lt;span class="c1"&gt;# is it using HTTPS?&lt;/span&gt;

&lt;span class="c1"&gt;# Change to SSH (get the SSH url from your remote repo on github)&lt;/span&gt;
git remote set-url origin git@github.com:USERNAME/REPOSITORY.git
&lt;span class="c1"&gt;# or if origin was removed:&lt;/span&gt;
git remote add origin git@github.com:USERNAME/REPOSITORY.git
&lt;span class="c1"&gt;# Print remote url&lt;/span&gt;
git remote -v
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Troubleshooting github connection:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
git clone git@github.com:USERNAME/REPOSITORY.git
&lt;span class="c1"&gt;# Cloning into &amp;#39;REPOSITORY&amp;#39;...&lt;/span&gt;
&lt;span class="c1"&gt;# Warning: Permanently added the RSA host key for IP address &amp;#39;250.50.50.50&amp;#39; to the list of known hosts.&lt;/span&gt;
&lt;span class="c1"&gt;# git@github.com: Permission denied (publickey).&lt;/span&gt;
&lt;span class="c1"&gt;# fatal: Could not read from remote repository.&lt;/span&gt;

&lt;span class="c1"&gt;# hmmm - do we have our key in the keychain?&lt;/span&gt;
keychain --list
&lt;span class="c1"&gt;# Could not open a connection to your authentication agent.&lt;/span&gt;

&lt;span class="c1"&gt;# does not seem so.&lt;/span&gt;
&lt;span class="c1"&gt;# Try close VSCode - re-open VSCode and a terminal and retry&lt;/span&gt;
keychain --list
&lt;span class="c1"&gt;#v4096 SHA256:X4uMb123456789012345678901234567rWzWRZD1Szl youremail@aa.bb (RSA)&lt;/span&gt;

&lt;span class="c1"&gt;# Nice - try clone again&lt;/span&gt;
git clone git@github.com:USERNAME/REPOSITORY.git
&lt;span class="c1"&gt;# Cloning into &amp;#39;REPOSITORY&amp;#39;...&lt;/span&gt;
&lt;span class="c1"&gt;# remote: Enumerating objects: 3, done.&lt;/span&gt;
&lt;span class="c1"&gt;# Receiving objects: 100% (3/3), done.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we can clone using the SSH key, then add a file, commit and try to see if you can push, too.&lt;/p&gt;
&lt;h3&gt;NVM and NodeJs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/nvm-sh/nvm"&gt;nvm @ github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bash&lt;/span&gt;
&lt;span class="c1"&gt;# Do we have nvm?&lt;/span&gt;
nvm -list
&lt;span class="c1"&gt;# Nope&lt;/span&gt;
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh &lt;span class="p"&gt;|&lt;/span&gt; bash
&lt;span class="c1"&gt;# =&amp;gt; Appending nvm source string to /home/rasor/.bashrc&lt;/span&gt;
&lt;span class="c1"&gt;# =&amp;gt; Appending bash_completion source string to /home/rasor/.bashrc&lt;/span&gt;
&lt;span class="c1"&gt;# internal/modules/cjs/loader.js:796&lt;/span&gt;
&lt;span class="c1"&gt;#     throw err;&lt;/span&gt;
&lt;span class="c1"&gt;#     ^&lt;/span&gt;

&lt;span class="c1"&gt;# Error: Cannot find module &amp;#39;\\wsl$\Ubuntu-20.04\mnt\c\Program Files\nodejs\node_modules\npm\bin\npm-cli.js&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;#     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:793:17)&lt;/span&gt;
&lt;span class="c1"&gt;#     at Function.Module._load (internal/modules/cjs/loader.js:686:27)&lt;/span&gt;
&lt;span class="c1"&gt;#     at Function.Module.runMain (internal/modules/cjs/loader.js:1043:10)&lt;/span&gt;
&lt;span class="c1"&gt;#     at internal/main/run_main_module.js:17:11 {&lt;/span&gt;
&lt;span class="c1"&gt;#   code: &amp;#39;MODULE_NOT_FOUND&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#   requireStack: []&lt;/span&gt;
&lt;span class="c1"&gt;# }&lt;/span&gt;
&lt;span class="c1"&gt;# =&amp;gt; Close and reopen your terminal to start using nvm or run the following to use it now:&lt;/span&gt;

&lt;span class="c1"&gt;# export NVM_DIR=&amp;quot;$HOME/.nvm&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# [ -s &amp;quot;$NVM_DIR/nvm.sh&amp;quot; ] &amp;amp;&amp;amp; \. &amp;quot;$NVM_DIR/nvm.sh&amp;quot;  # This loads nvm&lt;/span&gt;
&lt;span class="c1"&gt;# [ -s &amp;quot;$NVM_DIR/bash_completion&amp;quot; ] &amp;amp;&amp;amp; \. &amp;quot;$NVM_DIR/bash_completion&amp;quot;  # This loads nvm bash_completion&lt;/span&gt;

&lt;span class="c1"&gt;# ..... something went wrong - but did it matter? Check if it added a NVM envir key:&lt;/span&gt;
printenv NVM_DIR
&lt;span class="c1"&gt;# /home/rasor/.nvm&lt;/span&gt;

&lt;span class="c1"&gt;# Now start yet a terminal and&lt;/span&gt;
nvm -list
&lt;span class="c1"&gt;#             N/A&lt;/span&gt;
&lt;span class="c1"&gt;# iojs -&amp;gt; N/A (default)&lt;/span&gt;
&lt;span class="c1"&gt;# node -&amp;gt; stable (-&amp;gt; N/A) (default)&lt;/span&gt;
&lt;span class="c1"&gt;# unstable -&amp;gt; N/A (default)&lt;/span&gt;

&lt;span class="c1"&gt;# nice - it is installed. Now install latest Node LTS - see https://nodejs.org/en/&lt;/span&gt;
nvm install &lt;span class="m"&gt;14&lt;/span&gt;.16.0
nvm list
&lt;span class="c1"&gt;# -&amp;gt;     v14.16.0&lt;/span&gt;
&lt;span class="c1"&gt;# default -&amp;gt; 14.16.0 (-&amp;gt; v14.16.0)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Great - now I have a fine start with git, python and nodejs in my Ubuntu box on Windows :-)&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#ubuntu"></category><category term="#wsl2"></category><category term="#win10"></category></entry><entry><title>Setting Pelican blogs in "draft" - 4 review. HowTo</title><link href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html" rel="alternate"></link><published>2021-01-17T00:00:00+01:00</published><updated>2021-01-17T17:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2021-01-17:/setting-pelican-blogs-in-draft-4-review-howto.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-themes.html"&gt;Using Pelican Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html"&gt;Setting Pelican blogs in "draft"&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Sometimes you want your pelican blog to be set into draft for review.&lt;br&gt;
I always forget some part of howto do.&lt;br&gt;
So here is a small HowTo …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-themes.html"&gt;Using Pelican Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html"&gt;Setting Pelican blogs in "draft"&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Sometimes you want your pelican blog to be set into draft for review.&lt;br&gt;
I always forget some part of howto do.&lt;br&gt;
So here is a small HowTo.  &lt;/p&gt;
&lt;p&gt;First you need the top metadata of your blog. For this blog it is:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Title: Setting Pelican blogs in draft - 4 review. HowTo
Status: draft
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;From the title you transform it into an url: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Metadata&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;Pelican&lt;/span&gt; &lt;span class="n"&gt;blogs&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;draft&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="n"&gt;review&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;HowTo&lt;/span&gt;
&lt;span class="n"&gt;Url&lt;/span&gt;     &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;setting&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;blogs&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;draft&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;review&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;howto&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;html&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;From cmd run &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;.\serve&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and browse to
http://localhost:8000/drafts/setting-pelican-blogs-in-draft-4-review-howto.html&lt;/p&gt;
&lt;p&gt;Tip: After running &lt;code&gt;serve&lt;/code&gt; you will also find the file in &lt;code&gt;\output\drafts\&lt;/code&gt;, if you don´t want to do this manual transform.  &lt;/p&gt;
&lt;p&gt;When you then decide to deploy using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;.\publish &amp;quot;commit msg&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;then you can find your blog on&lt;br&gt;
https://rasor.github.io/drafts/setting-pelican-blogs-in-draft-4-review-howto.html&lt;/p&gt;
&lt;p&gt;The blog wil not be visible in any of the lists in this mode.&lt;br&gt;
First when you change the blogs state to&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Status: published
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then you will find it  on&lt;br&gt;
https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html&lt;/p&gt;
&lt;p&gt;Notice: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The commands &lt;code&gt;serve&lt;/code&gt; and &lt;code&gt;publish&lt;/code&gt; are two small scrips I created in &lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;After &lt;code&gt;publish&lt;/code&gt; has run it will take 1 - 2 minutes before you see it deployed to Github pages&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End  &lt;/p&gt;</content><category term="DevOps"></category><category term="#blog"></category><category term="#pelican"></category><category term="#cms"></category><category term="#python"></category></entry><entry><title>Install "Raspberry Pi OS with desktop" on Pi 400</title><link href="https://rasor.github.io/install-raspberry-pi-os-with-desktop-on-pi-400.html" rel="alternate"></link><published>2020-12-14T00:00:00+01:00</published><updated>2020-12-20T16:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-12-14:/install-raspberry-pi-os-with-desktop-on-pi-400.html</id><summary type="html">&lt;h1&gt;Intro&lt;/h1&gt;
&lt;p&gt;I wanted to use a &lt;a href="https://www.raspberrypi.org/products/raspberry-pi-400"&gt;Raspberry Pi 400&lt;/a&gt; as a desktop alternative to a ChromeBook meaning a cheap PC mostly just for browsing the internet.&lt;br&gt;
The price is approx &lt;strong&gt;EUR 140,-&lt;/strong&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;including &lt;ul&gt;
&lt;li&gt;shipping&lt;/li&gt;
&lt;li&gt;128 GB SD Card&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;excluding&lt;ul&gt;
&lt;li&gt;mouse&lt;/li&gt;
&lt;li&gt;monitor&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This blog is about setting up the Pi and …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Intro&lt;/h1&gt;
&lt;p&gt;I wanted to use a &lt;a href="https://www.raspberrypi.org/products/raspberry-pi-400"&gt;Raspberry Pi 400&lt;/a&gt; as a desktop alternative to a ChromeBook meaning a cheap PC mostly just for browsing the internet.&lt;br&gt;
The price is approx &lt;strong&gt;EUR 140,-&lt;/strong&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;including &lt;ul&gt;
&lt;li&gt;shipping&lt;/li&gt;
&lt;li&gt;128 GB SD Card&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;excluding&lt;ul&gt;
&lt;li&gt;mouse&lt;/li&gt;
&lt;li&gt;monitor&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This blog is about setting up the Pi and prepare a bootable SD Card from Windows.  &lt;/p&gt;
&lt;p&gt;Info: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A Pi 400 is almost a Pi 4B with keyboard included and fixed 4GB RAM&lt;/li&gt;
&lt;li&gt;A Pi 4B typical bare-board active current consumption is just &lt;a href="https://www.raspberrypi.org/documentation/hardware/raspberrypi/power/README.md"&gt;600mA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;HW&lt;/h2&gt;
&lt;p&gt;The Pi 400 comes with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;quad-core 64-bit ARM processor&lt;/li&gt;
&lt;li&gt;4GB of RAM&lt;/li&gt;
&lt;li&gt;wireless networking&lt;/li&gt;
&lt;li&gt;dual-display output, and 4K video playback&lt;/li&gt;
&lt;li&gt;a 40-pin GPIO header&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Apart from the Pi 400 I also bought&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.raspberrypi.org/products/type-c-power-supply"&gt;Raspberry Pi 15.3W USB-C Power Supply&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.amazon.de/-/en/gp/product/B07G5JV2B5/"&gt;USB Reader for microSD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.amazon.de/-/en/gp/product/B07G3H5RBT"&gt;microSD card, 128 GB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Monitor + hdmi cable&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.deltaco.lt/lten/adapter-deltaco-hdmi-m-hdmi-f-micro-0-1m-hdmi-24b-k.html"&gt;micro hdmi to hdmi adapter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;OS&lt;/h2&gt;
&lt;p&gt;Raspberry supplies  &lt;a href="https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit"&gt;two desktop OS's&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Raspberry Pi OS with desktop and recommended software (Size: 2,949MB)&lt;/li&gt;
&lt;li&gt;Raspberry Pi OS with desktop (Size: 1,177MB)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alternatively there is also a 3rd-party &lt;a href="https://www.raspberrypi.org/software/operating-systems/#third-party-software"&gt;Ubuntu Desktop&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I want to see if the minimal Pi without extra sw (#2 in the list) will be enough for my needs.  &lt;/p&gt;
&lt;p&gt;Info: According to &lt;a href="https://en.wikipedia.org/wiki/Raspberry_Pi_OS"&gt;Wikipedia&lt;/a&gt; &lt;code&gt;Raspberry Pi OS&lt;/code&gt; is a &lt;code&gt;Debian&lt;/code&gt; distru (as also is Ubuntu). This will do just fine.  &lt;/p&gt;
&lt;p&gt;The current &lt;code&gt;Pi OS&lt;/code&gt; release &lt;code&gt;August 2020&lt;/code&gt; includes&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Debian: &lt;code&gt;10 (Buster)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Browser: &lt;a href="https://www.chromium.org/"&gt;Chromium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GUI/Desktop: LXDE&lt;/li&gt;
&lt;li&gt;GCC (GNU Compiler Collection): &lt;code&gt;8.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Linux kernel: &lt;code&gt;5.4.51&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://ostoday.org/linux/what-is-gcc-in-linux.html"&gt;&lt;img alt="Linux OS Components" src="https://ostoday.org/wp-content/uploads/2019/06/what-is-gcc-in-linux-300x225.png"&gt;&lt;/a&gt;&lt;br&gt;
&lt;em&gt;(Image on ostoday.org)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;On the download page there is also an integrety hash&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# Powershell:&lt;/span&gt;
&lt;span class="c"&gt;# Check file integrety hash&lt;/span&gt;
&lt;span class="nb"&gt;Get-Filehash&lt;/span&gt; &lt;span class="n"&gt;-path&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;&lt;span class="n"&gt;Users&lt;/span&gt;&lt;span class="p"&gt;\&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;\&lt;/span&gt;&lt;span class="n"&gt;Downloads&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;&lt;span class="n"&gt;2020&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt;&lt;span class="n"&gt;12&lt;/span&gt;&lt;span class="p"&gt;-&lt;/span&gt;&lt;span class="n"&gt;02-raspios-buster-armhf&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zip&lt;/span&gt; &lt;span class="n"&gt;-algorithm&lt;/span&gt; &lt;span class="n"&gt;SHA256&lt;/span&gt;
&lt;span class="c"&gt;# Hash&lt;/span&gt;
&lt;span class="c"&gt;# 32034189474585C521748A6A4B21388FDE9AE2C6B0C5C2D32F8ABFBF508EE865&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Installation&lt;/h1&gt;
&lt;h2&gt;OS&lt;/h2&gt;
&lt;p&gt;The OS installation steps I follow are mostly part of these articles: 
* &lt;a href="https://www.raspberrypi.org/help/noobs-setup./"&gt;Raspberry Pi NOOBS Setup&lt;/a&gt;
* &lt;a href="https://www.raspberrypi.org/documentation/installation/noobs.md"&gt;NOOBS - Raspberry Pi Documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Format your SD card:&lt;ul&gt;
&lt;li&gt;Download &lt;a href="https://www.sdcard.org/downloads/formatter/index.html"&gt;SD Memory Card Formatter 5.0 for SD/SDHC/SDXC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Extract the setup from the zip&lt;/li&gt;
&lt;li&gt;Install &lt;code&gt;SD Card Formatter 5.0.1 Setup.exe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Insert the empty micro SD Card into SD Card adapter and insert it into PC SD Card slot&lt;/li&gt;
&lt;li&gt;Start &lt;code&gt;SD Card Formatter&lt;/code&gt;&lt;br&gt;
&lt;img alt="SD Card Formatter" src="../img/2020/2020-12-13-Pi01.PNG"&gt;  &lt;/li&gt;
&lt;li&gt;Press Format&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Burn OS to SD card:&lt;ul&gt;
&lt;li&gt;Download &lt;a href="https://www.raspberrypi.org/software/"&gt;Raspberry Pi Imager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install the Imager by running &lt;code&gt;imager_1.4.exe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run the Imager&lt;/li&gt;
&lt;li&gt;Select OS &lt;code&gt;Raspberry Pi OS with desktop&lt;/code&gt;&lt;br&gt;
&lt;img alt="OS selected" src="../img/2020/2020-12-13-Pi02.PNG"&gt;  &lt;/li&gt;
&lt;li&gt;Select SD card&lt;br&gt;
&lt;img alt="Card selected" src="../img/2020/2020-12-13-Pi03.PNG"&gt;  &lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;Write&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;This burn these files on the card:&lt;br&gt;
&lt;img alt="OS Files" src="../img/2020/2020-12-13-Pi04.PNG"&gt;  &lt;/li&gt;
&lt;li&gt;In the config.txt there are settings you can modify:  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# For more options and information see&lt;/span&gt;
&lt;span class="c1"&gt;# http://rpf.io/configtxt&lt;/span&gt;
&lt;span class="c1"&gt;# Some settings may impact device functionality. See link above for details&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment if you get no picture on HDMI for a default &amp;quot;safe&amp;quot; mode&lt;/span&gt;
&lt;span class="c1"&gt;#hdmi_safe=1&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment this if your display has a black border of unused pixels visible&lt;/span&gt;
&lt;span class="c1"&gt;# and your display can output without overscan&lt;/span&gt;
&lt;span class="c1"&gt;#disable_overscan=1&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment the following to adjust overscan. Use positive numbers if console&lt;/span&gt;
&lt;span class="c1"&gt;# goes off screen, and negative if there is too much border&lt;/span&gt;
&lt;span class="c1"&gt;#overscan_left=16&lt;/span&gt;
&lt;span class="c1"&gt;#overscan_right=16&lt;/span&gt;
&lt;span class="c1"&gt;#overscan_top=16&lt;/span&gt;
&lt;span class="c1"&gt;#overscan_bottom=16&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment to force a console size. By default it will be display&amp;#39;s size minus&lt;/span&gt;
&lt;span class="c1"&gt;# overscan.&lt;/span&gt;
&lt;span class="c1"&gt;#framebuffer_width=1280&lt;/span&gt;
&lt;span class="c1"&gt;#framebuffer_height=720&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment if hdmi display is not detected and composite is being output&lt;/span&gt;
&lt;span class="c1"&gt;#hdmi_force_hotplug=1&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment to force a specific HDMI mode (this will force VGA)&lt;/span&gt;
&lt;span class="c1"&gt;#hdmi_group=1&lt;/span&gt;
&lt;span class="c1"&gt;#hdmi_mode=1&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment to force a HDMI mode rather than DVI. This can make audio work in&lt;/span&gt;
&lt;span class="c1"&gt;# DMT (computer monitor) modes&lt;/span&gt;
&lt;span class="c1"&gt;#hdmi_drive=2&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment to increase signal to HDMI, if you have interference, blanking, or&lt;/span&gt;
&lt;span class="c1"&gt;# no display&lt;/span&gt;
&lt;span class="c1"&gt;#config_hdmi_boost=4&lt;/span&gt;

&lt;span class="c1"&gt;# uncomment for composite PAL&lt;/span&gt;
&lt;span class="c1"&gt;#sdtv_mode=2&lt;/span&gt;

&lt;span class="c1"&gt;#uncomment to overclock the arm. 700 MHz is the default.&lt;/span&gt;
&lt;span class="c1"&gt;#arm_freq=800&lt;/span&gt;

&lt;span class="c1"&gt;# Uncomment some or all of these to enable the optional hardware interfaces&lt;/span&gt;
&lt;span class="c1"&gt;#dtparam=i2c_arm=on&lt;/span&gt;
&lt;span class="c1"&gt;#dtparam=i2s=on&lt;/span&gt;
&lt;span class="c1"&gt;#dtparam=spi=on&lt;/span&gt;

&lt;span class="c1"&gt;# Uncomment this to enable infrared communication.&lt;/span&gt;
&lt;span class="c1"&gt;#dtoverlay=gpio-ir,gpio_pin=17&lt;/span&gt;
&lt;span class="c1"&gt;#dtoverlay=gpio-ir-tx,gpio_pin=18&lt;/span&gt;

&lt;span class="c1"&gt;# Additional overlays and parameters are documented /boot/overlays/README&lt;/span&gt;

&lt;span class="c1"&gt;# Enable audio (loads snd_bcm2835)&lt;/span&gt;
&lt;span class="na"&gt;dtparam&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;audio=on&lt;/span&gt;

&lt;span class="k"&gt;[pi4]&lt;/span&gt;
&lt;span class="c1"&gt;# Enable DRM VC4 V3D driver on top of the dispmanx display stack&lt;/span&gt;
&lt;span class="na"&gt;dtoverlay&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;vc4-fkms-v3d&lt;/span&gt;
&lt;span class="na"&gt;max_framebuffers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;2&lt;/span&gt;

&lt;span class="k"&gt;[all]&lt;/span&gt;
&lt;span class="c1"&gt;#dtoverlay=vc4-fkms-v3d&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Boot the Pi:&lt;ul&gt;
&lt;li&gt;The card is auto dismounted by the app, so you can just take it out of the slot and put it into your Pi&lt;/li&gt;
&lt;li&gt;Plug in &lt;code&gt;SD Card&lt;/code&gt;, &lt;code&gt;Monitor&lt;/code&gt; and &lt;code&gt;Mouse&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Plug in &lt;code&gt;Power&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Written on the screen: &lt;code&gt;Resized root filesystem booting in 5 sec&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;After boot it will start up the desktop&lt;/li&gt;
&lt;li&gt;According to &lt;a href="https://www.raspberrypi.org/help/noobs-setup./"&gt;Pi NOOBS Setup&lt;/a&gt; it uses&lt;ul&gt;
&lt;li&gt;Username: &lt;code&gt;pi&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Psw: &lt;code&gt;raspberry&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;and starts the desktop with &lt;code&gt;startx&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;When you open the &lt;code&gt;File Manager&lt;/code&gt; it will tell you &lt;strong&gt;Free space: 109,2 GiB (Total: 116.9 GiB)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;An app &lt;code&gt;Get Started&lt;/code&gt; auto runs on first run.&lt;ul&gt;
&lt;li&gt;Click &lt;code&gt;Next&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Set Time Zone and Keyboard&lt;/li&gt;
&lt;li&gt;Set psw - unclick Hide characters, so you are sure the keyboards layout match your typing&lt;/li&gt;
&lt;li&gt;Select Wifi network and enter Wifi psw&lt;/li&gt;
&lt;li&gt;On the &lt;code&gt;Update Software&lt;/code&gt; you might want to skip download system updates, but  if you have time why not do it now&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I tested running Youtube from the browser in the box: Chromium on a TV.&lt;br&gt;
Sound and picture and responsivenes are all great.&lt;br&gt;
It has to 4k hdmi ports, so you can have two monitors.&lt;/p&gt;
&lt;p&gt;Enjoy.  &lt;/p&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.raspberrypi.org/documentation/"&gt;Raspberry Pi Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.raspberrypi.org/documentation/usage/"&gt;Pi Apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.raspberrypi.org/documentation/installation/sdxc_formatting.md"&gt;Formatting an SDXC card for use with NOOBS - Raspberry Pi Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.raspberrypi.org/documentation/configuration/wireless/"&gt;Wireless connectivity - Raspberry Pi Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Get help: &lt;a href="https://www.raspberrypi.org/forums/"&gt;Raspberry Pi Forums&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#linux"></category><category term="#os"></category><category term="#debian"></category><category term="#pi"></category><category term="#pi400"></category></entry><entry><title>k3s hosted in Civo - Part 2.0</title><link href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html" rel="alternate"></link><published>2020-11-02T00:00:00+01:00</published><updated>2020-11-02T00:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-11-02:/k3s-hosted-in-civo-part-20.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html"&gt;Part 2.0: Deploy containers to Civo&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.civo.com/features"&gt;Civo&lt;/a&gt; offers a hosted k3s cluster with an app market: &lt;a href="https://github.com/civo/kubernetes-marketplace"&gt;civo/kubernetes-marketplace&lt;/a&gt;, like Arkade.&lt;/p&gt;
&lt;p&gt;At time of writing Civo k8s is in beta. You can &lt;a href="https://www.civo.com/kube100"&gt;apply&lt;/a&gt; for $70 monthly free service.&lt;/p&gt;
&lt;p&gt;You can work with Civo from  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Civo web via &lt;a href="https://www.civo.com/account/kubernetes"&gt;https://www.civo.com/account/kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/learn/kubernetes-cluster-administration-using-civo-cli"&gt;Civo CLI&lt;/a&gt; that you download from &lt;a href="https://github.com/civo/cli/releases/tag/v0.6.39"&gt;Release v0.6.39 · civo/cli&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;From those you create a k8s cluster.&lt;br&gt;
Then you download the kubeconfig and continue work on that remote cluster via your local installed kubectl.  &lt;/p&gt;
&lt;h2&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;You must have &lt;code&gt;kubectl&lt;/code&gt; installed.  &lt;/p&gt;
&lt;h2&gt;Get started - using apps from Civo's k8s marketplace&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;First you &lt;a href="https://github.com/civo/cli/releases/tag/v0.6.39"&gt;download civo cli&lt;/a&gt; and save it into &lt;code&gt;C:\Program Files\Civo&lt;/code&gt;.  &lt;/li&gt;
&lt;li&gt;Next add that path to environment path.  &lt;/li&gt;
&lt;li&gt;Test civo:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# is civo reachable?&lt;/span&gt;
civo version
&lt;span class="c1"&gt;# Civo CLI v0.6.39&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Get &lt;a href="https://www.civo.com/account/security"&gt;API key&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# save API key into civo CLI&lt;/span&gt;
civo apikey add My_Api_Key DAb75oyqVeaE7BI6Aa74FaRSP0E2tMZXkDWLC9wNQdcpGfH51r
&lt;span class="c1"&gt;# Saved the API Key DAb75oyqVeaE7BI6Aa74FaRSP0E2tMZXkDWLC9wNQdcpGfH51r as My_Api_Key&lt;/span&gt;

&lt;span class="c1"&gt;# Set the key as current&lt;/span&gt;
civo apikey current My_Api_Key
&lt;span class="c1"&gt;# The current API Key is now My_Api_Key&lt;/span&gt;

&lt;span class="c1"&gt;# help me create a cluster&lt;/span&gt;
civo k8s create -h
&lt;span class="c1"&gt;# create a cluster and wait for it to finish&lt;/span&gt;
civo k8s create Cluster-1-just-dashboard --size&lt;span class="o"&gt;=&lt;/span&gt;g2.xsmall --nodes&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; --wait -a&lt;span class="o"&gt;=&lt;/span&gt;kubernetes-dashboard

&lt;span class="c1"&gt;# print kube config for the created cluster&lt;/span&gt;
civo k8s config Cluster-1-just-dashboard
&lt;span class="c1"&gt;# apiVersion: v1&lt;/span&gt;
&lt;span class="c1"&gt;# clusters:&lt;/span&gt;
&lt;span class="c1"&gt;# - cluster:&lt;/span&gt;
&lt;span class="c1"&gt;#   name: cluster-1-just-dashboard&lt;/span&gt;

&lt;span class="c1"&gt;# save (or merge) the config into your kubeconfig&lt;/span&gt;
civo k8s config Cluster-1-just-dashboard --save
&lt;span class="c1"&gt;# Saved config to ~/.kube/config&lt;/span&gt;

&lt;span class="c1"&gt;# print nodes and apps in your cluster&lt;/span&gt;
civo k8s show Cluster-1-just-dashboard
&lt;span class="c1"&gt;#           ID : 18779094-3e4e-4db5-85d4-6294c5ffffff&lt;/span&gt;
&lt;span class="c1"&gt;#         Name : Cluster-1-just-dashboard&lt;/span&gt;
&lt;span class="c1"&gt;#        Nodes : 1&lt;/span&gt;
&lt;span class="c1"&gt;#         Size : g2.xsmall&lt;/span&gt;
&lt;span class="c1"&gt;#       Status : ACTIVE&lt;/span&gt;
&lt;span class="c1"&gt;#      Version : 1.18.6+k3s1&lt;/span&gt;
&lt;span class="c1"&gt;# API Endpoint : https://91.211.144.244:6443&lt;/span&gt;
&lt;span class="c1"&gt;#    Master IP : 91.211.144.244&lt;/span&gt;
&lt;span class="c1"&gt;# DNS A record : 18779094-3e4e-4db5-85d4-6294c5ffffff.k8s.civo.com&lt;/span&gt;

&lt;span class="c1"&gt;# Nodes:&lt;/span&gt;
&lt;span class="c1"&gt;# +------------------+----+--------+-----------+-----------+------+----------+&lt;/span&gt;
&lt;span class="c1"&gt;# | Name             | IP | Status | Size      | Cpu Cores | Ram  | SSD disk |&lt;/span&gt;
&lt;span class="c1"&gt;# +------------------+----+--------+-----------+-----------+------+----------+&lt;/span&gt;
&lt;span class="c1"&gt;# | kube-master-5cbc |    | ACTIVE | g2.xsmall |         1 | 1024 |       25 |&lt;/span&gt;
&lt;span class="c1"&gt;# +------------------+----+--------+-----------+-----------+------+----------+&lt;/span&gt;
&lt;span class="c1"&gt;# Applications:&lt;/span&gt;
&lt;span class="c1"&gt;# +----------------------+---------+-----------+------------+&lt;/span&gt;
&lt;span class="c1"&gt;# | Name                 | Version | Installed | Category   |&lt;/span&gt;
&lt;span class="c1"&gt;# +----------------------+---------+-----------+------------+&lt;/span&gt;
&lt;span class="c1"&gt;# | kubernetes-dashboard | v2.0.0  | true      | management |&lt;/span&gt;
&lt;span class="c1"&gt;# +----------------------+---------+-----------+------------+&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;With the cluster up browse to&lt;br&gt;
https://www.civo.com/account/kubernetes/18779094-3e4e-4db5-85d4-6294c5ffffff&lt;br&gt;
and expand kubernetes-dashboard.
It will tell you howto connect:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get login token&lt;/span&gt;
kubectl -n kubernetes-dashboard describe secret admin-user-token &lt;span class="p"&gt;|&lt;/span&gt; grep ^token
&lt;span class="c1"&gt;# get api access&lt;/span&gt;
kubectl proxy

&lt;span class="c1"&gt;# Open dashboard in browser&lt;/span&gt;
start http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/
&lt;span class="c1"&gt;# Signin and paste token&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can add more apps out of the box:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Print the apps you can install&lt;/span&gt;
civo k8s applications list
&lt;span class="c1"&gt;# +---------------------------+------------------+--------------+-----------------+-----------------------------+&lt;/span&gt;
&lt;span class="c1"&gt;# | Name                      | Version          | Category     | Plans           | Dependencies                |&lt;/span&gt;
&lt;span class="c1"&gt;# +---------------------------+------------------+--------------+-----------------+-----------------------------+&lt;/span&gt;
&lt;span class="c1"&gt;# | argo                      | (default)        | ci_cd        |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | cert-manager              | v1.0.2           | architecture |                 | Helm                        |&lt;/span&gt;
&lt;span class="c1"&gt;# | docker-registry           | ALPHA            | architecture |                 | Helm, cert-manager, Traefik |&lt;/span&gt;
&lt;span class="c1"&gt;# | dynamic-pv-scaler         | 0.1.0            | storage      |                 | prometheus-operator         |&lt;/span&gt;
&lt;span class="c1"&gt;# | Ghost                     | 3.35.5           | management   | 5GB, 10GB, 15GB | longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | gitea                     | 1.12.5           | management   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | haproxy                   | 1.4.6            | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Helm                      | 2.16.5           | management   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Jaeger-Operator           | 1.2.0            | monitoring   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Jenkins                   | 2.190.1          | ci_cd        | 5GB, 10GB, 20GB | Longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | keptn                     | 0.7.1            | ci_cd        |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | kube-hunter               | latest           | security     |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | kube-scan                 | v20.5            | security     |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | KubeDB                    | v0.12.0-r1       | database     |                 | Longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | Kubei                     | 1.0.7            | security     |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Kubeless                  | 1.0.5            | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | kubernetes-dashboard      | v2.0.0           | management   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Linkerd                   | Latest           | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | loki-stack                | v0.41.2          | monitoring   |                 | prometheus-operator         |&lt;/span&gt;
&lt;span class="c1"&gt;# | Longhorn                  | 1.0.2            | storage      |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Maesh                     | Latest           | architecture |                 | Helm                        |&lt;/span&gt;
&lt;span class="c1"&gt;# | MariaDB                   | 10.4.7           | database     | 5GB, 10GB, 20GB | Longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | metrics-server            | (default)        | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | MinIO                     | 2019-08-29       | storage      | 5GB, 10GB, 20GB | Longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | MongoDB                   | 4.2.0            | database     | 5GB, 10GB, 20GB | Longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | Netdata                   | Latest           | monitoring   |                 | Helm                        |&lt;/span&gt;
&lt;span class="c1"&gt;# | Nginx                     | latest           | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | OpenFaaS                  | 0.18.0           | architecture |                 | Helm                        |&lt;/span&gt;
&lt;span class="c1"&gt;# | permission-manager        | 1.6.0            | management   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Polaris                   | 1.2.0            | security     |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Portainer                 | ce               | management   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | PostgreSQL                |             11.5 | database     | 5GB, 10GB, 20GB | Longhorn                    |&lt;/span&gt;
&lt;span class="c1"&gt;# | prometheus-operator       | 0.35.0           | monitoring   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | RabbitMQ                  | 3.8.8-management | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Rancher                   | v2.5.0           | management   |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Redis                     |              3.2 | database     |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | sealed-secrets            | v0.12.4          | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Selenium                  | 3.141.59-r1      | ci_cd        |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | system-upgrade-controller | v0.6.2           | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Tekton                    | v0.17.0          | ci_cd        |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Traefik                   | (default)        | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Traefik-v2                |              2.3 | architecture |                 |                             |&lt;/span&gt;
&lt;span class="c1"&gt;# | Wordpress                 | 5.5.1            | management   | 5GB, 10GB, 20GB | longhorn, mariadb:5GB       |&lt;/span&gt;
&lt;span class="c1"&gt;# +---------------------------+------------------+--------------+-----------------+-----------------------------+&lt;/span&gt;

civo kubernetes applications add PostgreSQL --cluster&lt;span class="o"&gt;=&lt;/span&gt;Cluster-1-just-dashboard
&lt;span class="c1"&gt;# You requested to add PostgreSQL but didn&amp;#39;t select a plan. Please choose one... (5GB, 10GB, 20GB) [5GB]: 5GB&lt;/span&gt;
&lt;span class="c1"&gt;# Thank you, next time you could use &amp;quot;PostgreSQL:5GB&amp;quot; to choose automatically&lt;/span&gt;
&lt;span class="c1"&gt;# Added PostgreSQL 11.5 to Kubernetes cluster Cluster-1-just-dashboard&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And finally - tear down and stop costs:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Delete cluster&lt;/span&gt;
civo kubernetes remove Cluster-1-just-dashboard
&lt;span class="c1"&gt;# The Kubernetes cluster called Cluster-1-just-dashboard with ID 18779094-3e4e-4db5-85d4-6294c5ffffff was deleted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Hosting your own image in Civo&lt;/h2&gt;
&lt;p&gt;If you read &lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt;, then you probably want to host your image in Civo. In that previous lab the image was hosted on your own dev PC. Now we want to host it in the cloud instead.  &lt;/p&gt;
&lt;p&gt;We created a &lt;a href="https://github.com/rasor/eBook-UsingNETCoreDockerKubernetes/blob/master/cpt2/frontend/k8s-deploy-dev.yml"&gt;k8s-deploy-dev.yml&lt;/a&gt; for deploying the image. We will just use that same yaml for deploying to another host.&lt;br&gt;
Cool or what :-)  &lt;/p&gt;
&lt;p&gt;So lets repeat creating a civo cluster (this time I'll omit the dashboard):  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# help me create a cluster&lt;/span&gt;
civo k8s create -h
&lt;span class="c1"&gt;# create a cluster and wait for it to finish&lt;/span&gt;
civo k8s create Cluster-2-netcore-webapp --size&lt;span class="o"&gt;=&lt;/span&gt;g2.xsmall --nodes&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; --wait

&lt;span class="c1"&gt;# print kube config for the created cluster&lt;/span&gt;
civo k8s config Cluster-2-netcore-webapp
&lt;span class="c1"&gt;# apiVersion: v1&lt;/span&gt;
&lt;span class="c1"&gt;# clusters:&lt;/span&gt;
&lt;span class="c1"&gt;# - cluster:&lt;/span&gt;
&lt;span class="c1"&gt;#   name: cluster-1-just-dashboard&lt;/span&gt;

&lt;span class="c1"&gt;# save (or merge) the config into your kubeconfig&lt;/span&gt;
civo k8s config Cluster-2-netcore-webapp --save
&lt;span class="c1"&gt;# Saved config to ~/.kube/config&lt;/span&gt;

&lt;span class="c1"&gt;# print nodes and apps in your cluster&lt;/span&gt;
civo k8s show Cluster-2-netcore-webapp
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now with the cluster running you can just repeat what you did locally in the previous blog.&lt;br&gt;
You deploy the website With the yaml with either &lt;code&gt;create&lt;/code&gt; or &lt;code&gt;apply&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# deploy image to k8s&lt;/span&gt;
kubectl create -f k8s-deploy-dev.yml
&lt;span class="c1"&gt;# deployment.apps/frontend2 created&lt;/span&gt;
&lt;span class="c1"&gt;# service/frontend2 created&lt;/span&gt;

&lt;span class="c1"&gt;# print&lt;/span&gt;
kubectl get services &lt;span class="p"&gt;|&lt;/span&gt; grep frontend2
&lt;span class="c1"&gt;# NAME         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2    LoadBalancer   10.106.254.38   &amp;lt;pending&amp;gt;     5000:30300/TCP   53s&lt;/span&gt;

&lt;span class="c1"&gt;# Now test if you can reach it on&lt;/span&gt;
start https://www.civo.com/account/kubernetes/18779094-3e4e-4db5-85d4-6294c5eeeeee:5000 
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# remove service&lt;/span&gt;
kubectl delete service frontend2
&lt;span class="c1"&gt;# service &amp;quot;frontend2&amp;quot; deleted&lt;/span&gt;

&lt;span class="c1"&gt;# remove replicaset, pod and deployment&lt;/span&gt;
kubectl delete deployment frontend2
&lt;span class="c1"&gt;# deployment.apps &amp;quot;frontend2&amp;quot; deleted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# stop the k8s cluster&lt;/span&gt;
docker stop Cluster-2-netcore-webapp
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And finally - tear down and stop costs:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Delete cluster&lt;/span&gt;
civo kubernetes remove Cluster-2-netcore-webapp
&lt;span class="c1"&gt;# The Kubernetes cluster called Cluster-2-netcore-webapp with ID 18779094-3e4e-4db5-85d4-6294c5eeeeee was deleted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Learn&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/learn"&gt;Learn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/learn/civo-kubernetes-quick-start-guide"&gt;Civo Kubernetes Quick Start Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/learn/kubernetes-cluster-administration-using-civo-cli"&gt;Kubernetes Cluster Administration Using Civo CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/blog/k8s-vs-k3s"&gt;What’s the difference between k3s vs k8s&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Signup&lt;ul&gt;
&lt;li&gt;Apply: &lt;a href="https://www.civo.com/kube100"&gt;Join the world’s first managed k3s Kubernetes service&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Operate: &lt;a href="https://www.civo.com/account"&gt;https://www.civo.com/account&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/civo/kubernetes-marketplace"&gt;kubernetes-marketplace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Incidents: &lt;a href="http://status.civo.com/"&gt;Civo Status&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;email: info@civo.com&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Deploy&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/learn/deploy-openfaas-with-k3s-on-civo"&gt;Deploy OpenFaaS with k3s on Civo – Civo.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/learn/deploy-a-batch-monitoring-stack-with-prometheus-pushgateway"&gt;Deploy a Batch Monitoring Stack With Prometheus PushGateway – Civo.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://toolkit.fluxcd.io/guides/sealed-secrets/"&gt;Sealed Secrets - Flux | GitOps Toolkit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Develop&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/api"&gt;Civo Cloud API Documentation - Civo.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Rancher&lt;ul&gt;
&lt;li&gt;&lt;a href="https://k3s.io/"&gt;K3s: Lightweight Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Persistent volumes: &lt;a href="https://github.com/longhorn/longhorn"&gt;longhorn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rancher.com/quick-start/"&gt;Quick Start&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Training: &lt;a href="https://rancher.com/kubernetes-master-class"&gt;Kubernetes Online Master Class Series&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://info.rancher.com/kubernetes-master-class-oct27-2020"&gt;Kubernetes Master Class: Cluster Monitoring with Prometheus, Grafana and Alertmanager in Rancher 2.5 - Oct 27&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://allthingsopen.6connex.com/event/ATO/en-us/?mcc=ato-day-8am#!/RancherBooth"&gt;All Things Open&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;k8s&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands"&gt;Kubectl Reference Docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#k3s"></category><category term="#civo"></category><category term="#k8s"></category></entry><entry><title>ASP.NET Core with k8s hosting - Part 1.3</title><link href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html" rel="alternate"></link><published>2020-10-27T00:00:00+01:00</published><updated>2021-01-17T00:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-10-27:/aspnet-core-with-k8s-hosting-part-13.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html"&gt;Part 2.0: Deploy containers to Civo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Intro&lt;/h1&gt;
&lt;p&gt;This blog is an example of a development cycle developing in C# on Windows using VSCode editor - also for debugging docker containers - and deploying to k8s.  &lt;/p&gt;
&lt;p&gt;This blog is inspired by content from an eBook and some tutorials.&lt;br&gt;
You find its code in this git repo: &lt;a href="https://github.com/rasor/eBook-UsingNETCoreDockerKubernetes"&gt;rasor/eBook-UsingNETCoreDockerKubernetes&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;Main Sources are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Free eBook (2019): &lt;a href="https://www.syncfusion.com/ebooks/using-netcore-docker-and-kubernetes-succinctly"&gt;Syncfusion Free Ebooks | Using .NET Core, Docker, and Kubernetes Succinctly&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;By &lt;a href="https://twitter.com/apomic80"&gt;@apomic80&lt;/a&gt;        &lt;ul&gt;
&lt;li&gt;Github: &lt;a href="https://github.com/apomic80"&gt;apomic80&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Guide: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow"&gt;Inner-loop development workflow for Docker apps&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;from free eBook (2020): &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/"&gt;Containerized Docker Application Lifecycle with Microsoft Platform and Tools&lt;/a&gt; from Microsoft&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;PreRequisites&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Windows 10&lt;/li&gt;
&lt;li&gt;&lt;a href="https://dotnet.microsoft.com/download"&gt;.NET Core 3.1 SDK&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gitforwindows.org/"&gt;Git Bash&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/download"&gt;Visual Studio Code&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp"&gt;C# for VSCode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/"&gt;Docker Desktop for Windows user manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;k8s&lt;/code&gt; (I am using &lt;code&gt;kind&lt;/code&gt; for &lt;a href="K8sArkade.md"&gt;creating cluster&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://chocolatey.org/install"&gt;choco&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://stedolan.github.io/jq/download/"&gt;jq&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://helm.sh/"&gt;helm&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;choco install kubernetes-helm&lt;/code&gt; or &lt;code&gt;arkade get helm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://github.com/Azure/draft/blob/master/docs/quickstart.md"&gt;draft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Chapters from eBook &lt;strong&gt;Using .NET Core, Docker, and Kubernetes&lt;/strong&gt;&lt;/h1&gt;
&lt;h2&gt;Chapter 1 ASP.NET and Docker Together&lt;/h2&gt;
&lt;h3&gt;Chapter 1.1 Execute .NET Core application with Docker&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Chapter 2 Create Your Application with Docker&lt;/h2&gt;
&lt;h3&gt;Chapter 2.1 Develop your ASP.NET Core application using Docker&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Chapter 3 Deploy Your Application on Kubernetes&lt;/h2&gt;
&lt;h3&gt;Chapter 3.2 Deploy your images in Kubernetes&lt;/h3&gt;
&lt;p&gt;I am using &lt;code&gt;kind&lt;/code&gt; for creating a &lt;code&gt;k8s&lt;/code&gt; cluster. I did that in &lt;a href="K8sArkade.md"&gt;this blog&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;kubectl is a CLI using API to access k8s.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# check if k8s cluster is running&lt;/span&gt;
kubectl cluster-info
&lt;span class="c1"&gt;# Unable to connect to the server: dial tcp 127.0.0.1:52295: connectex: No connection could be made&lt;/span&gt;

&lt;span class="c1"&gt;# Check if there are any clusters&lt;/span&gt;
kind get clusters
&lt;span class="c1"&gt;# kind&lt;/span&gt;

&lt;span class="c1"&gt;# Check it the container is running&lt;/span&gt;
docker ps -a &lt;span class="p"&gt;|&lt;/span&gt; grep kind
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS                   PORTS                       NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# 0b9a7220b4f8        kindest/node:v1.19.1   &amp;quot;/usr/local/bin/entr…&amp;quot;   5 weeks ago         Exited (0) 3 weeks ago   127.0.0.1:52295-&amp;gt;6443/tcp   kind-control-plane&lt;/span&gt;

&lt;span class="c1"&gt;# start the k8s cluster&lt;/span&gt;
docker start kind-control-plane

&lt;span class="c1"&gt;# check if k8s cluster is running&lt;/span&gt;
kubectl cluster-info
&lt;span class="c1"&gt;# Kubernetes master is running at https://127.0.0.1:52295&lt;/span&gt;
&lt;span class="c1"&gt;# KubeDNS is running at https://127.0.0.1:52295/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Testing starting the image in a pod manually:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Manually start the container in k8s - and never restart it, when it dies - let proxy know that pod should listen to :5000 and give container env-vars.  &lt;/span&gt;
kubectl run frontend2 --image&lt;span class="o"&gt;=&lt;/span&gt;rasor/usingnetcoredockerkubernetes:frontend2-v1 --port&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;5000&lt;/span&gt; --restart&lt;span class="o"&gt;=&lt;/span&gt;Never --env&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ASPNETCORE_URLS=http://+:5000&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# pod/frontend2 created&lt;/span&gt;

kubectl get pods
&lt;span class="c1"&gt;# NAME        READY   STATUS    RESTARTS   AGE&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2   1/1     Running   0          24s&lt;/span&gt;

kubectl describe pod frontend2
&lt;span class="c1"&gt;# Name:         frontend2&lt;/span&gt;
&lt;span class="c1"&gt;# Namespace:    default&lt;/span&gt;
&lt;span class="c1"&gt;# Priority:     0&lt;/span&gt;
&lt;span class="c1"&gt;# Node:         kind-control-plane/172.18.0.2&lt;/span&gt;
&lt;span class="c1"&gt;# Start Time:   Tue, 27 Oct 2020 12:24:42 +0100&lt;/span&gt;
&lt;span class="c1"&gt;# Labels:       run=frontend2&lt;/span&gt;
&lt;span class="c1"&gt;# Annotations:  &amp;lt;none&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;# Status:       Running&lt;/span&gt;
&lt;span class="c1"&gt;# IP:           10.244.0.9&lt;/span&gt;
&lt;span class="c1"&gt;# IPs:&lt;/span&gt;
&lt;span class="c1"&gt;#   IP:  10.244.0.9&lt;/span&gt;
&lt;span class="c1"&gt;# Containers:&lt;/span&gt;
&lt;span class="c1"&gt;#   frontend2:&lt;/span&gt;
&lt;span class="c1"&gt;#     Container ID:   containerd://6134c6c308d49c4c49835009333ca5aaedf18d235712bec49a4ae4fbe9606c12&lt;/span&gt;
&lt;span class="c1"&gt;#     Image:          rasor/usingnetcoredockerkubernetes:frontend2-v1&lt;/span&gt;
&lt;span class="c1"&gt;#     Image ID:       docker.io/rasor/usingnetcoredockerkubernetes@sha256:e413934f1dba2e85b66f69125f6b4ac9944122c8f1c3d8f0f97355abb6ad8ec9       &lt;/span&gt;
&lt;span class="c1"&gt;#     Port:           5000/TCP&lt;/span&gt;
&lt;span class="c1"&gt;#     Host Port:      0/TCP&lt;/span&gt;
&lt;span class="c1"&gt;#     State:          Running&lt;/span&gt;
&lt;span class="c1"&gt;#       Started:      Tue, 27 Oct 2020 12:24:42 +0100&lt;/span&gt;
&lt;span class="c1"&gt;#     Ready:          True&lt;/span&gt;
&lt;span class="c1"&gt;#     Restart Count:  0&lt;/span&gt;
&lt;span class="c1"&gt;#     Environment:    &amp;lt;none&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#     Mounts:&lt;/span&gt;
&lt;span class="c1"&gt;#       /var/run/secrets/kubernetes.io/serviceaccount from default-token-95gtj (ro)&lt;/span&gt;
&lt;span class="c1"&gt;# Conditions:&lt;/span&gt;
&lt;span class="c1"&gt;#   Type              Status&lt;/span&gt;
&lt;span class="c1"&gt;#   Initialized       True&lt;/span&gt;
&lt;span class="c1"&gt;#   Ready             True&lt;/span&gt;
&lt;span class="c1"&gt;#   ContainersReady   True&lt;/span&gt;
&lt;span class="c1"&gt;#   PodScheduled      True&lt;/span&gt;
&lt;span class="c1"&gt;# Volumes:&lt;/span&gt;
&lt;span class="c1"&gt;#   default-token-95gtj:&lt;/span&gt;
&lt;span class="c1"&gt;#     Type:        Secret (a volume populated by a Secret)&lt;/span&gt;
&lt;span class="c1"&gt;#     SecretName:  default-token-95gtj&lt;/span&gt;
&lt;span class="c1"&gt;#     Optional:    false&lt;/span&gt;
&lt;span class="c1"&gt;# QoS Class:       BestEffort&lt;/span&gt;
&lt;span class="c1"&gt;# Node-Selectors:  &amp;lt;none&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;# Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s&lt;/span&gt;
&lt;span class="c1"&gt;#                  node.kubernetes.io/unreachable:NoExecute for 300s&lt;/span&gt;
&lt;span class="c1"&gt;# Events:&lt;/span&gt;
&lt;span class="c1"&gt;#   Type    Reason     Age        From                         Message&lt;/span&gt;
&lt;span class="c1"&gt;#   ----    ------     ----       ----                         -------&lt;/span&gt;
&lt;span class="c1"&gt;#   Normal  Scheduled  &amp;lt;unknown&amp;gt;                               Successfully assigned default/frontend2 to kind-control-plane&lt;/span&gt;
&lt;span class="c1"&gt;#   Normal  Pulled     11s        kubelet, kind-control-plane  Container image &amp;quot;rasor/usingnetcoredockerkubernetes:frontend2-v1&amp;quot; already present &lt;/span&gt;
&lt;span class="c1"&gt;# on machine&lt;/span&gt;
&lt;span class="c1"&gt;#   Normal  Created    11s        kubelet, kind-control-plane  Created container frontend2&lt;/span&gt;
&lt;span class="c1"&gt;#   Normal  Started    11s        kubelet, kind-control-plane  Started container frontend2&lt;/span&gt;

&lt;span class="c1"&gt;# And what does that mean?&lt;/span&gt;
kubectl explain pods

&lt;span class="c1"&gt;# read all deployed in default namespace&lt;/span&gt;
kubectl get all
&lt;span class="c1"&gt;# NAME            READY   STATUS    RESTARTS   AGE&lt;/span&gt;
&lt;span class="c1"&gt;# pod/frontend2   1/1     Running   0          6m57s&lt;/span&gt;

&lt;span class="c1"&gt;# NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE&lt;/span&gt;
&lt;span class="c1"&gt;# service/kubernetes   ClusterIP   10.96.0.1    &amp;lt;none&amp;gt;        443/TCP   38d&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;API into k8s&lt;/h4&gt;
&lt;p&gt;Start proxy in another terminal.&lt;br&gt;
This gives HTTP access to the k8s API on port 8001  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kubectl proxy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then open browser http://127.0.0.1:8001/&lt;/p&gt;
&lt;p&gt;Try to reach pod via api:
http://127.0.0.1:8001/api/v1/namespaces/default/pods/frontend2/proxy/&lt;/p&gt;
&lt;p&gt;Nice - the pod responds with a webpage :-)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# print stdout from the container&lt;/span&gt;
kubectl logs frontend2
&lt;span class="c1"&gt;#       Storing keys in a directory &amp;#39;/root/.aspnet/DataProtection-Keys&amp;#39; that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.&lt;/span&gt;
&lt;span class="c1"&gt;#       No XML encryptor configured. Key {d848e8f7-df39-44b3-902c-b11019a1d9ab} may be persisted to storage in unencrypted form.&lt;/span&gt;
&lt;span class="c1"&gt;#       Now listening on: http://[::]:5000&lt;/span&gt;
&lt;span class="c1"&gt;#       Application started. Press Ctrl+C to shut down.&lt;/span&gt;
&lt;span class="c1"&gt;#       Hosting environment: Production&lt;/span&gt;
&lt;span class="c1"&gt;#       Content root path: /app&lt;/span&gt;
&lt;span class="c1"&gt;#       Failed to determine the https port for redirect.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Stop the proxy with ctrl-c and instead use port forwarding:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Give localhost TCP access from port 5000 to the POD port 5000&lt;/span&gt;
kubectl port-forward pod/frontend2 &lt;span class="m"&gt;5000&lt;/span&gt;:5000
&lt;span class="c1"&gt;# Forwarding from 127.0.0.1:5000 -&amp;gt; 5000&lt;/span&gt;
&lt;span class="c1"&gt;# Forwarding from [::1]:5000 -&amp;gt; 5000&lt;/span&gt;

&lt;span class="c1"&gt;# browse to pod&lt;/span&gt;
start http://localhost:5000
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="Web responds from pod" src="../img/2020/2020-10-27-K8s02.PNG"&gt;  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Delete the pod&lt;/span&gt;
kubectl delete pod frontend2
&lt;span class="c1"&gt;# pod &amp;quot;frontend2&amp;quot; deleted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tip:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/a/51469150/750989"&gt;Port-forward also can forward to RS, SVC or Deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/a/62727416/750989"&gt;Port-forward also has --address to listen to&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Port-forward tool for local dev: &lt;a href="https://github.com/txn2/kubefwd"&gt;kubefwd&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;UI into k8s&lt;/h4&gt;
&lt;p&gt;To manage k8s you could use many different apps like&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-kubernetes-tools.vscode-kubernetes-tools"&gt;Kubernetes VSCode plugin&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Double-click on a resource to see its yaml&lt;/li&gt;
&lt;li&gt;View helm repos&lt;/li&gt;
&lt;li&gt;View cloud clusters&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;kubernetes-dashboard - just read - install via arkade or from remote yml file&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# install kubernetes-dashboard as a k8s app&lt;/span&gt;
kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/aio/deploy/recommended/kubernetes-dashboard.yaml
&lt;span class="c1"&gt;# get login token&lt;/span&gt;
kubectl -n kube-system get secret
kubectl -n kube-system describe secret deployment-controller-token-?????
kubectl proxy
&lt;span class="c1"&gt;# paste login token into&lt;/span&gt;
start http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/#/login
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;portainer - install via arkade&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rancher.com/quick-start/"&gt;Rancher&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker run -d --restart=unless-stopped -p 80:80 -p 443:443 rancher/rancher&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.kubernetic.com/"&gt;Kubernetic&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="rancher" src="../img/2020/2020-10-27-K8s01.PNG"&gt;&lt;br&gt;
(&lt;em&gt;Image from Rancher&lt;/em&gt;)&lt;/p&gt;
&lt;h4&gt;Declare your infrastructure using yaml&lt;/h4&gt;
&lt;p&gt;To define managed k8s infrastructure you write k8s yaml.&lt;br&gt;
Install &lt;a href="https://marketplace.visualstudio.com/items?itemName=ipedrazas.kubernetes-snippets"&gt;Kubernetes Support&lt;/a&gt; in VSCode.&lt;br&gt;
This will provide you with snippets for pods, services, deployments, etc.  &lt;/p&gt;
&lt;p&gt;Now create a new file called &lt;code&gt;k8s-deploy-dev.yml&lt;/code&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Write &lt;code&gt;kind: De&lt;/code&gt; then &lt;/li&gt;
&lt;li&gt;Press ctrl-space and select a Deployment template.   &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With yml created you &lt;code&gt;create&lt;/code&gt; or &lt;code&gt;apply&lt;/code&gt; the file using &lt;code&gt;-f&lt;/code&gt;.&lt;br&gt;
When you &lt;code&gt;apply&lt;/code&gt; k8s will create-if-not-exist or change-if-not-correct.&lt;br&gt;
If you &lt;code&gt;create&lt;/code&gt; you should &lt;code&gt;create --save-config&lt;/code&gt;. Create will throw error, if resource exists.&lt;br&gt;
&lt;a href="https://stackoverflow.com/a/54248723/750989"&gt;Read more...&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;These are the resources you can create (with the snippets):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;clusterrole         - Create a ClusterRole.
clusterrolebinding  - Create a ClusterRoleBinding for a particular ClusterRole
configmap           - Create a configmap from a local file, directory or literal value
cronjob             - Create a cronjob with the specified name.
deployment          - Create a deployment with the specified name.
job                 - Create a job with the specified name.
namespace           - Create a namespace with the specified name
poddisruptionbudget - Create a pod disruption budget with the specified name.
priorityclass       - Create a priorityclass with the specified name.
quota               - Create a quota with the specified name.
role                - Create a role with single rule.
rolebinding         - Create a RoleBinding for a particular Role or ClusterRole
secret              - Create a secret using specified subcommand
service             - Create a service using specified subcommand.
serviceaccount      - Create a service account with the specified name
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Besides those above snippets you can find &lt;code&gt;C#&lt;/code&gt; helm chart templates for&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Azure/draft/blob/master/packs/csharp/charts/templates/deployment.yaml"&gt;deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Azure/draft/blob/master/packs/csharp/charts/templates/ingress.yaml"&gt;ingress&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Azure/draft/blob/master/packs/csharp/charts/templates/service.yaml"&gt;service&lt;/a&gt;
... used by the k8s App builder tool &lt;a href="https://github.com/Azure/draft/blob/master/docs/quickstart.md"&gt;Draft&lt;/a&gt;.&lt;br&gt;
Note: draft is not yet upgraded to core 3.1, but is using core 2.1. The project is archieved!  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also just grap the whole yaml from this blog: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/build-aspnet-core-applications-linux-containers-aks-kubernetes#deploy-webappyml"&gt;Build ASP.NET Core applications deployed as Linux containers into AKS/Kubernetes clusters&lt;/a&gt;&lt;br&gt;
and correct then names.  &lt;/p&gt;
&lt;p&gt;Here is the file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;# k8s-deploy-dev.yml&lt;/span&gt;
&lt;span class="err"&gt;# https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/build-aspnet-core-applications-linux-containers-aks-kubernetes#deploy-webappyml&lt;/span&gt;
&lt;span class="c"&gt;apiVersion: apps/v1&lt;/span&gt;
&lt;span class="c"&gt;kind: Deployment&lt;/span&gt;
&lt;span class="c"&gt;metadata:&lt;/span&gt;
&lt;span class="c"&gt;  name: frontend2&lt;/span&gt;
&lt;span class="c"&gt;  labels:&lt;/span&gt;
&lt;span class="c"&gt;    app: usingnetcoredockerkubernetes&lt;/span&gt;
&lt;span class="c"&gt;spec:&lt;/span&gt;
&lt;span class="c"&gt;  replicas: 1&lt;/span&gt;
&lt;span class="c"&gt;  selector:&lt;/span&gt;
&lt;span class="c"&gt;    matchLabels:&lt;/span&gt;
&lt;span class="c"&gt;      service: frontend2&lt;/span&gt;
&lt;span class="c"&gt;  template:&lt;/span&gt;
&lt;span class="c"&gt;    metadata:&lt;/span&gt;
&lt;span class="c"&gt;      labels:&lt;/span&gt;
&lt;span class="c"&gt;        app: usingnetcoredockerkubernetes&lt;/span&gt;
&lt;span class="c"&gt;        service: frontend2&lt;/span&gt;
&lt;span class="c"&gt;    spec:&lt;/span&gt;
&lt;span class="c"&gt;      containers:&lt;/span&gt;
&lt;span class="c"&gt;        - name: frontend2&lt;/span&gt;
&lt;span class="c"&gt;          image: rasor/usingnetcoredockerkubernetes:frontend2-v1&lt;/span&gt;
&lt;span class="c"&gt;          imagePullPolicy: IfNotPresent&lt;/span&gt;
&lt;span class="c"&gt;          ports:&lt;/span&gt;
&lt;span class="c"&gt;            - containerPort: 5000&lt;/span&gt;
&lt;span class="c"&gt;              protocol: TCP&lt;/span&gt;
&lt;span class="c"&gt;          env:&lt;/span&gt;
&lt;span class="c"&gt;            - name: ASPNETCORE_URLS&lt;/span&gt;
&lt;span class="c"&gt;              value: http://+:5000&lt;/span&gt;
&lt;span class="err"&gt;---&lt;/span&gt;
&lt;span class="c"&gt;apiVersion: v1&lt;/span&gt;
&lt;span class="c"&gt;kind: Service&lt;/span&gt;
&lt;span class="c"&gt;metadata:&lt;/span&gt;
&lt;span class="c"&gt;  name: frontend2&lt;/span&gt;
&lt;span class="c"&gt;  labels:&lt;/span&gt;
&lt;span class="c"&gt;    app: usingnetcoredockerkubernetes&lt;/span&gt;
&lt;span class="c"&gt;    service: frontend2&lt;/span&gt;
&lt;span class="c"&gt;spec:&lt;/span&gt;
&lt;span class="c"&gt;  type: LoadBalancer&lt;/span&gt;
&lt;span class="c"&gt;  ports:&lt;/span&gt;
&lt;span class="c"&gt;    - port: 5000&lt;/span&gt;
&lt;span class="c"&gt;      targetPort: 5000&lt;/span&gt;
&lt;span class="c"&gt;      protocol: TCP&lt;/span&gt;
&lt;span class="c"&gt;  selector:&lt;/span&gt;
&lt;span class="c"&gt;    service: frontend2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can print all resource types with&lt;br&gt;
&lt;code&gt;kubectl api-resources --sort-by=kind&lt;/code&gt;&lt;br&gt;
They are&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;NAME                              SHORTNAMES   APIGROUP                       NAMESPACED   KIND
bindings                                                                      true         Binding
componentstatuses                 cs                                          false        ComponentStatus
configmaps                        cm                                          true         ConfigMap
endpoints                         ep                                          true         Endpoints
limitranges                       limits                                      true         LimitRange
namespaces                        ns                                          false        Namespace
nodes                             no                                          false        Node
persistentvolumes                 pv                                          false        PersistentVolume
persistentvolumeclaims            pvc                                         true         PersistentVolumeClaim
pods                              po                                          true         Pod
podtemplates                                                                  true         PodTemplate
replicationcontrollers            rc                                          true         ReplicationController
resourcequotas                    quota                                       true         ResourceQuota
secrets                                                                       true         Secret
services                          svc                                         true         Service
serviceaccounts                   sa                                          true         ServiceAccount

mutatingwebhookconfigurations                  admissionregistration.k8s.io   false        MutatingWebhookConfiguration
validatingwebhookconfigurations                admissionregistration.k8s.io   false        ValidatingWebhookConfiguration
customresourcedefinitions         crd,crds     apiextensions.k8s.io           false        CustomResourceDefinition
apiservices                                    apiregistration.k8s.io         false        APIService
controllerrevisions                            apps                           true         ControllerRevision
daemonsets                        ds           apps                           true         DaemonSet
deployments                       deploy       apps                           true         Deployment
replicasets                       rs           apps                           true         ReplicaSet
statefulsets                      sts          apps                           true         StatefulSet
tokenreviews                                   authentication.k8s.io          false        TokenReview
selfsubjectaccessreviews                       authorization.k8s.io           false        SelfSubjectAccessReview
selfsubjectrulesreviews                        authorization.k8s.io           false        SelfSubjectRulesReview
subjectaccessreviews                           authorization.k8s.io           false        SubjectAccessReview
localsubjectaccessreviews                      authorization.k8s.io           true         LocalSubjectAccessReview
horizontalpodautoscalers          hpa          autoscaling                    true         HorizontalPodAutoscaler
cronjobs                          cj           batch                          true         CronJob
jobs                                           batch                          true         Job
certificatesigningrequests        csr          certificates.k8s.io            false        CertificateSigningRequest
leases                                         coordination.k8s.io            true         Lease
endpointslices                                 discovery.k8s.io               true         EndpointSlice
events                            ev           events.k8s.io                  true         Event
nodes                                          metrics.k8s.io                 false        NodeMetrics
pods                                           metrics.k8s.io                 true         PodMetrics
ingresses                         ing          networking.k8s.io              true         Ingress
ingressclasses                                 networking.k8s.io              false        IngressClass
networkpolicies                   netpol       networking.k8s.io              true         NetworkPolicy
runtimeclasses                                 node.k8s.io                    false        RuntimeClass
poddisruptionbudgets              pdb          policy                         true         PodDisruptionBudget
podsecuritypolicies               psp          policy                         false        PodSecurityPolicy
clusterroles                                   rbac.authorization.k8s.io      false        ClusterRole
clusterrolebindings                            rbac.authorization.k8s.io      false        ClusterRoleBinding
roles                                          rbac.authorization.k8s.io      true         Role
rolebindings                                   rbac.authorization.k8s.io      true         RoleBinding
priorityclasses                   pc           scheduling.k8s.io              false        PriorityClass
csidrivers                                     storage.k8s.io                 false        CSIDriver
csinodes                                       storage.k8s.io                 false        CSINode
storageclasses                    sc           storage.k8s.io                 false        StorageClass
volumeattachments                              storage.k8s.io                 false        VolumeAttachment
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;With the yaml in place you can now &lt;code&gt;create&lt;/code&gt; or &lt;code&gt;apply&lt;/code&gt; it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# deploy image to k8s&lt;/span&gt;
kubectl create -f k8s-deploy-dev.yml
&lt;span class="c1"&gt;# deployment.apps/frontend2 created&lt;/span&gt;
&lt;span class="c1"&gt;# service/frontend2 created&lt;/span&gt;

&lt;span class="c1"&gt;# print&lt;/span&gt;
kubectl get services &lt;span class="p"&gt;|&lt;/span&gt; grep frontend2
&lt;span class="c1"&gt;# NAME         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2    LoadBalancer   10.106.254.38   &amp;lt;pending&amp;gt;     5000:30300/TCP   53s&lt;/span&gt;

&lt;span class="c1"&gt;# remove service&lt;/span&gt;
kubectl delete service frontend2
&lt;span class="c1"&gt;# service &amp;quot;frontend2&amp;quot; deleted&lt;/span&gt;

&lt;span class="c1"&gt;# remove replicaset, pod and deployment&lt;/span&gt;
kubectl delete deployment frontend2
&lt;span class="c1"&gt;# deployment.apps &amp;quot;frontend2&amp;quot; deleted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# stop the k8s cluster&lt;/span&gt;
docker stop kind-control-plane
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;REFs&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands"&gt;Kubectl Reference Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Using VSCode: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow"&gt;Inner-loop development workflow for Docker apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Using Visual Studio: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/microservices/docker-application-development-process/docker-app-development-workflow"&gt;Development workflow for Docker apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/docs/containers/debug-common"&gt;Debug an app running in a Docker container&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Debug using launch.json: &lt;a href="https://github.com/OmniSharp/omnisharp-vscode/blob/master/debugger-launchjson.md"&gt;OmniSharp/omnisharp-vscode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;tasks.json: &lt;a href="https://code.visualstudio.com/docs/containers/quickstart-aspnet-core"&gt;Build and run an ASP.NET Core app in a container&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;tasks.json: &lt;a href="https://code.visualstudio.com/docs/editor/tasks"&gt;Tasks in Visual Studio Code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Dockerfile: &lt;a href="https://vsupalov.com/docker-build-time-env-values/"&gt;Setting Default Docker Environment Variables During Image Build&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Change entry point: &lt;a href="https://docs.microsoft.com/en-us/dotnet/core/docker/build-container?tabs=linux#change-the-entrypoint"&gt;Containerize an app with Docker tutorial - .NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;k8s: &lt;a href="https://colinsalmcorner.com/devops-with-kubernetes-and-vsts-part-1/"&gt;DevOps with Kubernetes and VSTS: Part 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;AKS: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/deploy-azure-kubernetes-service"&gt;Deploy to Azure Kubernetes Service (AKS)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Using VS - AKS: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/build-aspnet-core-applications-linux-containers-aks-kubernetes"&gt;Build ASP.NET Core applications deployed as Linux containers into AKS/Kubernetes clusters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Program.cs &lt;a href="https://wakeupandcode.com/generic-host-builder-in-asp-net-core-3-1/"&gt;Generic Host Builder in ASP .NET Core 3.1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#csharp"></category><category term="#netcore3"></category><category term="#docker"></category><category term="#k8s"></category><category term="#jq"></category><category term="#vscode"></category></entry><entry><title>Develop .NET docker images - Part 1.2</title><link href="https://rasor.github.io/develop-net-docker-images-part-12.html" rel="alternate"></link><published>2020-10-25T00:00:00+02:00</published><updated>2020-12-20T17:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-10-25:/develop-net-docker-images-part-12.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html"&gt;Part 2.0: Deploy containers to Civo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Intro&lt;/h1&gt;
&lt;p&gt;This blog is an example of a development cycle developing in C# on Windows using VSCode editor - also for debugging docker containers - and deploying to k8s.  &lt;/p&gt;
&lt;p&gt;This blog is inspired by content from an eBook and some tutorials.&lt;br&gt;
You find its code in this git repo: &lt;a href="https://github.com/rasor/eBook-UsingNETCoreDockerKubernetes"&gt;rasor/eBook-UsingNETCoreDockerKubernetes&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;Main Sources are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Free eBook (2019): &lt;a href="https://www.syncfusion.com/ebooks/using-netcore-docker-and-kubernetes-succinctly"&gt;Syncfusion Free Ebooks | Using .NET Core, Docker, and Kubernetes Succinctly&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;By &lt;a href="https://twitter.com/apomic80"&gt;@apomic80&lt;/a&gt;        &lt;ul&gt;
&lt;li&gt;Github: &lt;a href="https://github.com/apomic80"&gt;apomic80&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Guide: &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow"&gt;Inner-loop development workflow for Docker apps&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;from free eBook (2020): &lt;a href="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/"&gt;Containerized Docker Application Lifecycle with Microsoft Platform and Tools&lt;/a&gt; from Microsoft&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;PreRequisites&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Windows 10&lt;/li&gt;
&lt;li&gt;&lt;a href="https://dotnet.microsoft.com/download"&gt;.NET Core 3.1 SDK&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gitforwindows.org/"&gt;Git Bash&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/download"&gt;Visual Studio Code&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp"&gt;C# for VSCode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/"&gt;Docker Desktop for Windows user manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;k8s&lt;/code&gt; (I am using &lt;code&gt;kind&lt;/code&gt; for &lt;a href="K8sArkade.md"&gt;creating cluster&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://chocolatey.org/install"&gt;choco&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://stedolan.github.io/jq/download/"&gt;jq&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://helm.sh/"&gt;helm&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;choco install kubernetes-helm&lt;/code&gt; or &lt;code&gt;arkade get helm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://github.com/Azure/draft/blob/master/docs/quickstart.md"&gt;draft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Chapters from eBook &lt;strong&gt;Using .NET Core, Docker, and Kubernetes&lt;/strong&gt;&lt;/h1&gt;
&lt;h2&gt;Chapter 1 ASP.NET and Docker Together&lt;/h2&gt;
&lt;h3&gt;Chapter 1.1 Execute .NET Core application with Docker&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Chapter 2 Create Your Application with Docker&lt;/h2&gt;
&lt;h3&gt;Chapter 2.1 Develop your ASP.NET Core application using Docker&lt;/h3&gt;
&lt;p&gt;Dotnet core commands:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dotnet new: Creates a new project from the specified template. If you want to create an MVC application, you can use dotnet new mvc.&lt;/li&gt;
&lt;li&gt;dotnet restore: Restores all the NuGet dependencies of our application.&lt;/li&gt;
&lt;li&gt;dotnet build: Builds our project.&lt;/li&gt;
&lt;li&gt;dotnet run: Executes our project.&lt;/li&gt;
&lt;li&gt;dotnet watch run: Runs our project and watches for file changes to rebuild and re-run it.&lt;/li&gt;
&lt;li&gt;dotnet publish: Creates a deployable build (the .dll) of our project.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Install VSCode plugin &lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker"&gt;Docker&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 1:&lt;/span&gt;
&lt;span class="c1"&gt;# Create a C# gitignore file in the root&lt;/span&gt;
dotnet new gitignore

&lt;span class="c1"&gt;# create a folder for MVC frontend&lt;/span&gt;
mkdir -p cpt2/frontend
&lt;span class="nb"&gt;cd&lt;/span&gt; cpt2/frontend
&lt;span class="c1"&gt;# Create mvc web&lt;/span&gt;
dotnet new mvc

&lt;span class="c1"&gt;# Build an run a webserver&lt;/span&gt;
dotnet build
dotnet run
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 2:&lt;/span&gt;
&lt;span class="c1"&gt;# open a browser&lt;/span&gt;
start https://localhost:5001/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Stop the webserver in Teminal 1 with ctrl-c.  &lt;/p&gt;
&lt;p&gt;Now create &lt;code&gt;.vscode&lt;/code&gt; files &lt;code&gt;launch.json&lt;/code&gt; and &lt;code&gt;tasks.json&lt;/code&gt;:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ctrl-shft-p # to open cmd palette&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.NET: Generate Assets for Build and Debug&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Choose &lt;code&gt;ASPNET Core&lt;/code&gt;, &lt;code&gt;linux&lt;/code&gt; container and ports &lt;code&gt;5000, 5001&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can now goto &lt;strong&gt;RUN&lt;/strong&gt; pane with &lt;code&gt;ctrl-shft-d&lt;/code&gt;, select the &lt;code&gt;.NET Core Launch (web)&lt;/code&gt; config and press run.  &lt;br&gt;
In the Debug console you will see&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Debug console&lt;/span&gt;
&lt;span class="c1"&gt;# Using launch settings from &amp;#39;C:\Users\zzz\eBook-UsingNETCoreDockerKubernetes/cpt2/frontend\Properties\launchSettings.json&amp;#39; [Profile &amp;#39;frontend&amp;#39;]...&lt;/span&gt;
&lt;span class="c1"&gt;# Loaded &amp;#39;C:\Users\zzz\eBook-UsingNETCoreDockerKubernetes\cpt2\frontend\bin\Debug\netcoreapp3.1\frontend.dll&amp;#39;. Symbols loaded.&lt;/span&gt;
&lt;span class="c1"&gt;# .....&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can hit breakpoints.  &lt;/p&gt;
&lt;p&gt;Now create a &lt;code&gt;Dockerfile&lt;/code&gt;, &lt;code&gt;.dockerignore&lt;/code&gt; and &lt;code&gt;docker-compose.yml&lt;/code&gt;:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In explorer put cursor on cpt2\frontend&lt;/li&gt;
&lt;li&gt;Ctrl-shft-p # to open cmd palette&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Docker: Add Docker files to workspace&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Choose &lt;code&gt;ASPNET Core&lt;/code&gt;, &lt;code&gt;linux&lt;/code&gt; container and ports &lt;code&gt;5000, 5001&lt;/code&gt;, &lt;code&gt;yes&lt;/code&gt; to create compose file
&lt;img alt="Add Dockerfile" src="https://docs.microsoft.com/en-us/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/media/docker-apps-inner-loop-workflow/add-docker-files-to-workspace-command.png"&gt;&lt;br&gt;
&lt;em&gt;(Img from Microsoft) Add Dockerfile in VSCode&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# Generated Dockerfile&lt;/span&gt;
&lt;span class="c"&gt;# 1. Target img to deploy to&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="s"&gt;mcr.microsoft.com/dotnet/core/aspnet:3.1&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="s"&gt;base&lt;/span&gt;
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /app&lt;/span&gt;
&lt;span class="k"&gt;EXPOSE&lt;/span&gt;&lt;span class="s"&gt; 5000&lt;/span&gt;
&lt;span class="k"&gt;EXPOSE&lt;/span&gt;&lt;span class="s"&gt; 5001&lt;/span&gt;

&lt;span class="c"&gt;# 5. Source img to build on&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="s"&gt;mcr.microsoft.com/dotnet/core/sdk:3.1&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="s"&gt;build&lt;/span&gt;
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /src&lt;/span&gt;
&lt;span class="c"&gt;# 7. Copy project file from local pc into Source img&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;cpt2/frontend/frontend.csproj&amp;quot;&lt;/span&gt;, &lt;span class="s2"&gt;&amp;quot;cpt2/frontend/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; dotnet restore &lt;span class="s2"&gt;&amp;quot;cpt2/frontend/frontend.csproj&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; . .
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; &amp;quot;/src/cpt2/frontend&amp;quot;&lt;/span&gt;
&lt;span class="c"&gt;# 11. Build .dll&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; dotnet build &lt;span class="s2"&gt;&amp;quot;frontend.csproj&amp;quot;&lt;/span&gt; -c Release -o /app/build

&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="s"&gt;build&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="s"&gt;publish&lt;/span&gt;
&lt;span class="c"&gt;# 13. Create a deployable package&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; dotnet publish &lt;span class="s2"&gt;&amp;quot;frontend.csproj&amp;quot;&lt;/span&gt; -c Release -o /app/publish

&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="s"&gt;base&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="s"&gt;final&lt;/span&gt;
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /app&lt;/span&gt;
&lt;span class="c"&gt;# 16. Copy from Source img to Target img&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; --from&lt;span class="o"&gt;=&lt;/span&gt;publish /app/publish .
&lt;span class="c"&gt;# 17. Define start command&lt;/span&gt;
&lt;span class="k"&gt;ENTRYPOINT&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dotnet&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;frontend.dll&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Change cmd 7 to 10, so you'll be able to &lt;code&gt;docker build&lt;/code&gt; from inside folder &lt;code&gt;cpt2/frontend&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# 7. Copy project file from local pc into Source img&lt;/span&gt;
&lt;span class="k"&gt;COPY&lt;/span&gt; ./frontend.csproj .
&lt;span class="k"&gt;RUN&lt;/span&gt; dotnet restore frontend.csproj
&lt;span class="k"&gt;COPY&lt;/span&gt; . .
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /src&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/reference/builder/"&gt;Dockerfile reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's build our docker img&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# verify docker is running&lt;/span&gt;
docker images
&lt;span class="c1"&gt;# goto folder with Dockerfile&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; cpt2/frontend
docker build --help
&lt;span class="c1"&gt;# build img and tag it frontend2&lt;/span&gt;
docker build -t frontend2 .

&lt;span class="c1"&gt;# System.InvalidOperationException: Unable to configure HTTPS endpoint. No server certificate was specified, and the default developer certificate could not be found or is out of date.&lt;/span&gt;


&lt;span class="c1"&gt;# Sending build context to Docker daemon  6.432MB&lt;/span&gt;
&lt;span class="c1"&gt;# Step 1/17 : FROM mcr.microsoft.com/dotnet/core/aspnet:3.1 AS base&lt;/span&gt;
&lt;span class="c1"&gt;# 3.1: Pulling from dotnet/core/aspnet&lt;/span&gt;
&lt;span class="c1"&gt;# bb79b6b2107f: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# fd6f53cfcb35: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 29b35ed07a14: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# fd068c4127c7: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# dc51486f316e: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# Digest: sha256:4030ec40f9b5c1e8cac5d550639b7b05d1d6af0c89b4b47d66bad7f93379c9eb&lt;/span&gt;
&lt;span class="c1"&gt;# Status: Downloaded newer image for mcr.microsoft.com/dotnet/core/aspnet:3.1&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; e3559b2d50bb&lt;/span&gt;
&lt;span class="c1"&gt;# Step 2/17 : WORKDIR /app&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 14fd02991c3d&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 14fd02991c3d&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; df46b5f3b46a&lt;/span&gt;
&lt;span class="c1"&gt;# Step 3/17 : EXPOSE 5000&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 5adf5a71198d&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 5adf5a71198d&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 817df2c51839&lt;/span&gt;
&lt;span class="c1"&gt;# Step 4/17 : EXPOSE 5001&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 1815541a6c6a&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 1815541a6c6a&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 02891abd8059&lt;/span&gt;
&lt;span class="c1"&gt;# Step 5/17 : FROM mcr.microsoft.com/dotnet/core/sdk:3.1 AS build&lt;/span&gt;
&lt;span class="c1"&gt;# 3.1: Pulling from dotnet/core/sdk&lt;/span&gt;
&lt;span class="c1"&gt;# e4c3d3e4f7b0: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 101c41d0463b: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 8275efcd805f: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 751620502a7a: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 8e306865fd07: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 9d2f53e752c2: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# 143a93e01eba: Pull complete&lt;/span&gt;
&lt;span class="c1"&gt;# Digest: sha256:d09eefeaad2129f0a0ac047095792afc6792e7aae4b8bb1c1fa5b6650caae240&lt;/span&gt;
&lt;span class="c1"&gt;# Status: Downloaded newer image for mcr.microsoft.com/dotnet/core/sdk:3.1&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 5fe503d51830&lt;/span&gt;
&lt;span class="c1"&gt;# Step 6/17 : WORKDIR /src&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 143a136929b6&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 143a136929b6&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 0e5a8185b7a2&lt;/span&gt;
&lt;span class="c1"&gt;# Step 7/17 : COPY ./frontend.csproj .&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 203c96e3d357&lt;/span&gt;
&lt;span class="c1"&gt;# Step 8/17 : RUN dotnet restore frontend.csproj&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in cd917bface5b&lt;/span&gt;
&lt;span class="c1"&gt;#   Determining projects to restore...&lt;/span&gt;
&lt;span class="c1"&gt;#   Restored /src/frontend.csproj (in 170 ms).&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container cd917bface5b&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 866543516985&lt;/span&gt;
&lt;span class="c1"&gt;# Step 9/17 : COPY . .&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 6ac6636b092c&lt;/span&gt;
&lt;span class="c1"&gt;# Step 10/17 : WORKDIR /src&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 40c27a3098f1&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 40c27a3098f1&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; d3f07b018611&lt;/span&gt;
&lt;span class="c1"&gt;# Step 11/17 : RUN dotnet build &amp;quot;frontend.csproj&amp;quot; -c Release -o /app/build&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 56cc1964bf83&lt;/span&gt;
&lt;span class="c1"&gt;# Microsoft (R) Build Engine version 16.7.0+7fb82e5b2 for .NET&lt;/span&gt;
&lt;span class="c1"&gt;# Copyright (C) Microsoft Corporation. All rights reserved.&lt;/span&gt;
&lt;span class="c1"&gt;#   Determining projects to restore...&lt;/span&gt;
&lt;span class="c1"&gt;#   Restored /src/frontend.csproj (in 185 ms).&lt;/span&gt;
&lt;span class="c1"&gt;#   frontend -&amp;gt; /app/build/frontend.dll&lt;/span&gt;
&lt;span class="c1"&gt;#   frontend -&amp;gt; /app/build/frontend.Views.dll&lt;/span&gt;
&lt;span class="c1"&gt;# Build succeeded.&lt;/span&gt;
&lt;span class="c1"&gt;#     0 Warning(s)&lt;/span&gt;
&lt;span class="c1"&gt;#     0 Error(s)&lt;/span&gt;
&lt;span class="c1"&gt;# Time Elapsed 00:00:05.03&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 56cc1964bf83&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 7ccf08805a5b&lt;/span&gt;
&lt;span class="c1"&gt;# Step 12/17 : FROM build AS publish&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 7ccf08805a5b&lt;/span&gt;
&lt;span class="c1"&gt;# Step 13/17 : RUN dotnet publish &amp;quot;frontend.csproj&amp;quot; -c Release -o /app/publish&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 27507652111d&lt;/span&gt;
&lt;span class="c1"&gt;# Microsoft (R) Build Engine version 16.7.0+7fb82e5b2 for .NET&lt;/span&gt;
&lt;span class="c1"&gt;# Copyright (C) Microsoft Corporation. All rights reserved.&lt;/span&gt;
&lt;span class="c1"&gt;#   Determining projects to restore...&lt;/span&gt;
&lt;span class="c1"&gt;#   All projects are up-to-date for restore.&lt;/span&gt;
&lt;span class="c1"&gt;#   frontend -&amp;gt; /src/bin/Release/netcoreapp3.1/frontend.dll&lt;/span&gt;
&lt;span class="c1"&gt;#   frontend -&amp;gt; /src/bin/Release/netcoreapp3.1/frontend.Views.dll&lt;/span&gt;
&lt;span class="c1"&gt;#   frontend -&amp;gt; /app/publish/&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 27507652111d&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; c08c7122d789&lt;/span&gt;
&lt;span class="c1"&gt;# Step 14/17 : FROM base AS final&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 02891abd8059&lt;/span&gt;
&lt;span class="c1"&gt;# Step 15/17 : WORKDIR /app&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in b52e89be9e92&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container b52e89be9e92&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 97d3ac799145&lt;/span&gt;
&lt;span class="c1"&gt;# Step 16/17 : COPY --from=publish /app/publish .&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 2ac048ea1f90&lt;/span&gt;
&lt;span class="c1"&gt;# Step 17/17 : ENTRYPOINT [&amp;quot;dotnet&amp;quot;, &amp;quot;frontend.dll&amp;quot;]&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 7359a524012b&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 7359a524012b&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; f7828ef4f47e&lt;/span&gt;
&lt;span class="c1"&gt;# Successfully built f7828ef4f47e&lt;/span&gt;
&lt;span class="c1"&gt;# Successfully tagged frontend2:latest&lt;/span&gt;
&lt;span class="c1"&gt;# SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have &lt;/span&gt;
&lt;span class="c1"&gt;# &amp;#39;-rwxr-xr-x&amp;#39; permissions. It is recommended to double check and reset permissions for sensitive files and directories.&lt;/span&gt;

&lt;span class="c1"&gt;# Print image&lt;/span&gt;
docker images
&lt;span class="c1"&gt;# REPOSITORY                             TAG                 IMAGE ID            CREATED             SIZE  &lt;/span&gt;
&lt;span class="c1"&gt;# frontend2                              latest              f7828ef4f47e        5 minutes ago       212MB &lt;/span&gt;
&lt;span class="c1"&gt;# mcr.microsoft.com/dotnet/core/aspnet   3.1                 e3559b2d50bb        7 days ago          207MB &lt;/span&gt;
&lt;span class="c1"&gt;# mcr.microsoft.com/dotnet/core/sdk      3.1                 5fe503d51830        7 days ago          708MB &lt;/span&gt;

&lt;span class="c1"&gt;# Test run the img&lt;/span&gt;
docker run -p &lt;span class="m"&gt;5000&lt;/span&gt;:5000 --name nfrontend2 -t frontend2 -e &lt;span class="s2"&gt;&amp;quot;ASPNETCORE_URLS=http://+:5000&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#docker run -p 5000:5000 -p 5001:5001 --name nfrontend2 -t frontend2&lt;/span&gt;
&lt;span class="c1"&gt;#docker create -p 5000:5000 -p 5001:5001 --name nfrontend2 -t frontend2 --entrypoint &amp;#39;dotnet dev-certs https &amp;amp;&amp;amp; # warn: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[60]&lt;/span&gt;
&lt;span class="c1"&gt;#       Storing keys in a directory &amp;#39;/root/.aspnet/DataProtection-Keys&amp;#39; that may not be persisted outside of the container. Protected data will be unavailable &lt;/span&gt;
&lt;span class="c1"&gt;# when container is destroyed.&lt;/span&gt;
&lt;span class="c1"&gt;#       No XML encryptor configured. Key {22010cbd-95fa-4543-9ae3-63ee61afff7f} may be persisted to storage in unencrypted form.&lt;/span&gt;
&lt;span class="c1"&gt;#       Now listening on: http://[::]:80&lt;/span&gt;
&lt;span class="c1"&gt;#       Application started. Press Ctrl+C to shut down.&lt;/span&gt;
&lt;span class="c1"&gt;#       Hosting environment: Production&lt;/span&gt;
&lt;span class="c1"&gt;#       Content root path: /app&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 2:&lt;/span&gt;
docker start nfrontend2
&lt;span class="c1"&gt;# Which containers are running?&lt;/span&gt;
docker ps
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE               COMMAND                 CREATED             STATUS              PORTS                              NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# 6fc16e63dbd5        frontend2           &amp;quot;dotnet frontend.dll&amp;quot;   18 seconds ago      Up 17 seconds       0.0.0.0:5000-5001-&amp;gt;5000-5001/tcp   nfrontend2   &lt;/span&gt;

&lt;span class="c1"&gt;# Print entry point&lt;/span&gt;
docker ps -a --format &lt;span class="s2"&gt;&amp;quot;table {{.Image}}:\t {{.Command}}&amp;quot;&lt;/span&gt; --no-trunc
&lt;span class="c1"&gt;# IMAGE:                   COMMAND&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2:               &amp;quot;dotnet frontend.dll…&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Print as json&lt;/span&gt;
docker ps -a --format &lt;span class="s2"&gt;&amp;quot; {{json .}}&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;{ID, Image, Command}&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Open browser&lt;/span&gt;
start http://localhost:5000

&lt;span class="c1"&gt;# Cleanup&lt;/span&gt;
docker stop nfrontend2
docker rm nfrontend2
&lt;span class="c1"&gt;# Cleanup done?&lt;/span&gt;
docker ps -a
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Chapter 2.1B (not in eBook) Debug your docker container&lt;/h3&gt;
&lt;p&gt;To be able to debug on port 5000 you need to do a change in the launcsetting:&lt;/p&gt;
&lt;p&gt;Before:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;// .vscode/tasks.json&lt;/span&gt;
&lt;span class="err"&gt;                        &amp;quot;label&amp;quot;: &amp;quot;docker-run: debug&amp;quot;,&lt;/span&gt;
&lt;span class="err"&gt;                        &amp;quot;dependsOn&amp;quot;: [&lt;/span&gt;
&lt;span class="err"&gt;                                &amp;quot;docker-build: debug&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;                        ],&lt;/span&gt;
&lt;span class="err"&gt;                        &amp;quot;dockerRun&amp;quot;: {},&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;// .vscode/tasks.json&lt;/span&gt;
&lt;span class="err"&gt;                        &amp;quot;label&amp;quot;: &amp;quot;docker-run: debug&amp;quot;,&lt;/span&gt;
&lt;span class="err"&gt;                        &amp;quot;dependsOn&amp;quot;: [&lt;/span&gt;
&lt;span class="err"&gt;                                &amp;quot;docker-build: debug&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;                        ],&lt;/span&gt;
&lt;span class="err"&gt;                        &amp;quot;dockerRun&amp;quot;: {&lt;/span&gt;
&lt;span class="err"&gt;                                &amp;quot;env&amp;quot;: {&lt;/span&gt;
&lt;span class="err"&gt;                                        &amp;quot;ASPNETCORE_URLS&amp;quot;: &amp;quot;https://+:5001;http://+:5000&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;                                },&lt;/span&gt;
&lt;span class="err"&gt;                                &amp;quot;ports&amp;quot;: [&lt;/span&gt;
&lt;span class="err"&gt;                                        { &amp;quot;hostPort&amp;quot;: 5000, &amp;quot;containerPort&amp;quot;: 5000 },&lt;/span&gt;
&lt;span class="err"&gt;                                        { &amp;quot;hostPort&amp;quot;: 5001, &amp;quot;containerPort&amp;quot;: 5001 }&lt;/span&gt;
&lt;span class="err"&gt;                                ]&lt;/span&gt;
&lt;span class="err"&gt;                        },&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you goto &lt;strong&gt;RUN&lt;/strong&gt; pane and choose &lt;code&gt;Docker .NET Core Launch&lt;/code&gt; in the dropdown and then press the "Play" button then you can place breakpoints in your code and remote debug into your container. VSCode will show this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#&amp;gt; Executing task: docker-build: debug &amp;lt;&lt;/span&gt;

docker build --rm --pull -f &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\eBook-UsingNETCoreDockerKubernetes/cpt2/frontend/Dockerfile&amp;quot;&lt;/span&gt; --label &lt;span class="s2"&gt;&amp;quot;com.microsoft.created-by=visual-studio-code&amp;quot;&lt;/span&gt; -t &lt;span class="s2"&gt;&amp;quot;ebookusingnetcoredockerkubernetes:dev&amp;quot;&lt;/span&gt; --target &lt;span class="s2"&gt;&amp;quot;base&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\eBook-UsingNETCoreDockerKubernetes&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Where&lt;/span&gt;
&lt;span class="c1"&gt;# -f, --file string         Name of the Dockerfile (Default is &amp;#39;PATH/Dockerfile&amp;#39;)&lt;/span&gt;
&lt;span class="c1"&gt;# --label list              Set metadata for an image&lt;/span&gt;
&lt;span class="c1"&gt;# --pull                    Always attempt to pull a newer version of the image&lt;/span&gt;
&lt;span class="c1"&gt;# --rm                      Remove intermediate containers after a successful build (default true)&lt;/span&gt;
&lt;span class="c1"&gt;# -t, --tag list            Name and optionally a tag in the &amp;#39;name:tag&amp;#39; format&lt;/span&gt;
&lt;span class="c1"&gt;# --target string           Set the target build stage to build.&lt;/span&gt;

&lt;span class="c1"&gt;#&amp;gt; Executing task: docker-run: debug &amp;lt;&lt;/span&gt;

docker run -dt -P --name &lt;span class="s2"&gt;&amp;quot;ebookusingnetcoredockerkubernetes-dev&amp;quot;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;DOTNET_USE_POLLING_FILE_WATCHER=1&amp;quot;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;ASPNETCORE_ENVIRONMENT=Development&amp;quot;&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;ASPNETCORE_URLS=https://+:5001;http://+:5000&amp;quot;&lt;/span&gt; --label &lt;span class="s2"&gt;&amp;quot;com.microsoft.created-by=visual-studio-code&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\eBook-UsingNETCoreDockerKubernetes/cpt2/frontend:/app:rw&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;c:\Users\zzz\eBook-UsingNETCoreDockerKubernetes:/src:rw&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\.vsdbg:/remote_debugger:ro&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\.nuget\packages:/root/.nuget/packages:ro&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;C:\Program Files\dotnet\sdk\NuGetFallbackFolder:/root/.nuget/fallbackpackages:ro&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\AppData\Roaming\Microsoft\UserSecrets:/root/.microsoft/usersecrets:ro&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;C:\Users\zzz\AppData\Roaming\ASP.NET\Https:/root/.aspnet/https:ro&amp;quot;&lt;/span&gt; -p &lt;span class="s2"&gt;&amp;quot;5000:5000&amp;quot;&lt;/span&gt; -p &lt;span class="s2"&gt;&amp;quot;5001:5001&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;ebookusingnetcoredockerkubernetes:dev&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Where&lt;/span&gt;
&lt;span class="c1"&gt;# -d, --detach                         Run container in background and print container ID&lt;/span&gt;
&lt;span class="c1"&gt;# -t, --tty                            Allocate a pseudo-TTY&lt;/span&gt;
&lt;span class="c1"&gt;# -l, --label list                     Set meta data on a container&lt;/span&gt;
&lt;span class="c1"&gt;# -P, --publish-all                    Publish all exposed ports to random ports&lt;/span&gt;
&lt;span class="c1"&gt;# -v, --volume list                    Bind mount a volume&lt;/span&gt;
&lt;span class="c1"&gt;# Some from tasks.json:&lt;/span&gt;
&lt;span class="c1"&gt;# -e, --env list                       Set environment variables&lt;/span&gt;
&lt;span class="c1"&gt;# -p, --publish list                   Publish a container&amp;#39;s port(s) to the host&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Isn't that nice?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ref: &lt;a href="https://code.visualstudio.com/docs/containers/debug-common"&gt;Debug an app running in a Docker container&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Chapter 2.2 Add containers to your project&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;To Be Added&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;Chapter 2.3 Run your container with Docker Compose&lt;/h3&gt;
&lt;p&gt;When you used Command Palette command &lt;code&gt;Docker: Add Docker files to workspace&lt;/code&gt; then you said yes to create compose files:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Generated docker-compose.debug.yml&lt;/span&gt;
&lt;span class="c1"&gt;# Please refer https://aka.ms/HTTPSinContainer on how to setup an https developer certificate for your ASP .NET Core service.&lt;/span&gt;

&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;3.4&amp;#39;&lt;/span&gt;

&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;frontend&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;frontend&lt;/span&gt;
        &lt;span class="nt"&gt;build&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;context&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;.&lt;/span&gt;
            &lt;span class="nt"&gt;dockerfile&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;cpt2/frontend/Dockerfile&lt;/span&gt;
        &lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;5000&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;5001&lt;/span&gt;
        &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ASPNETCORE_ENVIRONMENT=Development&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ASPNETCORE_URLS=http://+:5000&lt;/span&gt;
        &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;~/.vsdbg:/remote_debugger:rw&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Change frontend in both the .debug.yml and then non-debug yml to:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="nt"&gt;frontend&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;frontend2&lt;/span&gt;
        &lt;span class="c1"&gt;# Add this&lt;/span&gt;
        &lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;frontend2&lt;/span&gt; &lt;span class="c1"&gt;# then you can attach to this name&lt;/span&gt;
        &lt;span class="nt"&gt;build&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nt"&gt;context&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./cpt2/frontend&lt;/span&gt;
            &lt;span class="nt"&gt;dockerfile&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Dockerfile&lt;/span&gt;
        &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;# Add this to the non-debug&lt;/span&gt;
            &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ASPNETCORE_URLS=https://+:5001;http://+:5000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So now we can start several containers at once (if more containeres were present in the compose file).&lt;br&gt;
Compose will also create a docker network for the containers to communicate through.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ensure you find the root folder&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; cpt2/frontend
&lt;span class="c1"&gt;# go back to root, where docker-compose.yml exists&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; ../..

docker-compose up

start http://localhost:5000

&lt;span class="c1"&gt;# ctrl-c to stop the servers&lt;/span&gt;
&lt;span class="c1"&gt;# or&lt;/span&gt;
docker-compose stop
&lt;span class="c1"&gt;# or&lt;/span&gt;
docker-compose down &lt;span class="c1"&gt;# will also remove (docker-compose rm)&lt;/span&gt;

&lt;span class="c1"&gt;# check which containers exists&lt;/span&gt;
docker ps -a

&lt;span class="c1"&gt;# then restart # if not removed&lt;/span&gt;
docker-compose start
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Refs: &lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/compose/reference/overview/"&gt;Overview of docker-compose CLI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Can we debug code running in a container by attiching our local code to it?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Goto the &lt;strong&gt;RUN&lt;/strong&gt; pane&lt;/li&gt;
&lt;li&gt;In the Run-dropdown - do &lt;code&gt;Àdd Confuguration&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Choose &lt;code&gt;Docker .NET Core Attach (Preview)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This will create most of this&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;//.vscode/launch.json&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Docker .NET Core Attach (Preview)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;docker&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;quot;request&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;attach&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;quot;containerName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;frontend2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;quot;platform&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;netCore&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;quot;sourceFileMap&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;quot;/src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;${workspaceFolder}&amp;quot;&lt;/span&gt;
                &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Optionally add &lt;code&gt;containerName&lt;/code&gt; in or to auto attach to a specific running container.  &lt;/p&gt;
&lt;p&gt;Now spin up the container&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# use debug compose file&lt;/span&gt;
docker-compose -f docker-compose.debug.yml up
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That will show in a docker terminal:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Docker terminal&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;gt; Executing task: docker-compose -f &amp;quot;docker-compose.debug.yml&amp;quot; up -d --build &amp;lt;&lt;/span&gt;

&lt;span class="c1"&gt;# Creating network &amp;quot;ebook-usingnetcoredockerkubernetes_default&amp;quot; with the default driver&lt;/span&gt;
&lt;span class="c1"&gt;# Building frontend&lt;/span&gt;
&lt;span class="c1"&gt;# Step 1/17 : FROM mcr.microsoft.com/dotnet/core/aspnet:3.1 AS base&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; e3559b2d50bb&lt;/span&gt;
&lt;span class="c1"&gt;# ......&lt;/span&gt;
&lt;span class="c1"&gt;# Step 17/17 : ENTRYPOINT [&amp;quot;dotnet&amp;quot;, &amp;quot;frontend.dll&amp;quot;]&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Using cache&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 6572076fad45&lt;/span&gt;

&lt;span class="c1"&gt;# Successfully built 6572076fad45&lt;/span&gt;
&lt;span class="c1"&gt;# Successfully tagged frontend2:latest&lt;/span&gt;
&lt;span class="c1"&gt;# Creating frontend2 ... done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now in the &lt;strong&gt;RUN&lt;/strong&gt; pane select the &lt;code&gt;Docker .NET Core Attach (Preview)&lt;/code&gt; config and press run.&lt;br&gt;
In the Debug console you will see&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Debug console&lt;/span&gt;
&lt;span class="c1"&gt;# Starting: &amp;quot;docker&amp;quot; exec -i frontend2 /remote_debugger/vsdbg --interpreter=vscode&lt;/span&gt;
&lt;span class="c1"&gt;# .....&lt;/span&gt;
&lt;span class="c1"&gt;# Loaded &amp;#39;/app/frontend.dll&amp;#39;. Symbols loaded.&lt;/span&gt;
&lt;span class="c1"&gt;# .....&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You should be able to set breakpoints in your code and break.&lt;br&gt;
But something is not quite right, yet. It does not work on my PC.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refs: &lt;ul&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/docs/containers/docker-compose"&gt;Use Docker Compose to work with multiple containers&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Debug NetCore: &lt;a href="https://code.visualstudio.com/docs/containers/docker-compose#_net"&gt;NetCore&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/docs/remote/attach-container"&gt;Attach to a running container using Visual Studio Code Remote Development&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Chapter 2.4 Create the final image for publication&lt;/h3&gt;
&lt;h4&gt;Publish image to docker hub&lt;/h4&gt;
&lt;p&gt;Create a docker hub repo. I'll publish to&lt;br&gt;
https://hub.docker.com/repository/docker/rasor/usingnetcoredockerkubernetes &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# goto folder with Dockerfile&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; cpt2/frontend
docker build --help
&lt;span class="c1"&gt;# build img and tag it&lt;/span&gt;
docker build -t frontend2:v1 .
&lt;span class="c1"&gt;# Successfully built 6572076fad45&lt;/span&gt;
&lt;span class="c1"&gt;# Successfully tagged frontend2:v1&lt;/span&gt;

docker images &lt;span class="p"&gt;|&lt;/span&gt; grep frontend2
&lt;span class="c1"&gt;# frontend2                              latest              6572076fad45        3 days ago          212MB&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2                              v1                  6572076fad45        3 days ago          212MB&lt;/span&gt;

&lt;span class="c1"&gt;# tag the image, so you can upload it to docker hub&lt;/span&gt;
&lt;span class="c1"&gt;# docker tag local-image:tagname new-repo:tagname&lt;/span&gt;
docker tag frontend2:v1 rasor/usingnetcoredockerkubernetes:frontend2-v1

docker images &lt;span class="p"&gt;|&lt;/span&gt; grep frontend2
&lt;span class="c1"&gt;# REPOSITORY                             TAG                 IMAGE ID            CREATED             SIZE&lt;/span&gt;
&lt;span class="c1"&gt;# rasor/usingnetcoredockerkubernetes     frontend2-v1        6572076fad45        3 days ago          212MB&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2                              latest              6572076fad45        3 days ago          212MB&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2                              v1                  6572076fad45        3 days ago          212MB&lt;/span&gt;

&lt;span class="c1"&gt;# upload docker img to https://hub.docker.com/repository/docker/rasor/usingnetcoredockerkubernetes&lt;/span&gt;
&lt;span class="c1"&gt;# docker push new-repo:tagname&lt;/span&gt;
docker push rasor/usingnetcoredockerkubernetes:frontend2-v1
&lt;span class="c1"&gt;# The push refers to repository [docker.io/rasor/usingnetcoredockerkubernetes]&lt;/span&gt;
&lt;span class="c1"&gt;# ...&lt;/span&gt;
&lt;span class="c1"&gt;# frontend2-v1: digest: sha256:e413934f1dba2e85b66f69125f6b4ac9944122c8f1c3d8f0f97355abb6ad8ec9 size: 1793&lt;/span&gt;

&lt;span class="c1"&gt;# When you want to download it do:&lt;/span&gt;
&lt;span class="c1"&gt;# docker pull rasor/usingnetcoredockerkubernetes:frontend2-v1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Chapter 3 Deploy Your Application on Kubernetes&lt;/h2&gt;
&lt;h3&gt;Chapter 3.2 Deploy your images in Kubernetes&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#docker"></category><category term="#csharp"></category><category term="#netcore"></category></entry><entry><title>Run docker containers - Part 1.1</title><link href="https://rasor.github.io/run-docker-containers-part-11.html" rel="alternate"></link><published>2020-10-18T00:00:00+02:00</published><updated>2020-11-09T14:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-10-18:/run-docker-containers-part-11.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html"&gt;Part 2.0: Deploy containers to Civo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In this blog (Part 1.1) I'll do basic execution of Docker images as preparation for the next blog (Part 1.2).&lt;br&gt;
Part 1 is about developing C# docker containers and hosting them in k8s.&lt;/p&gt;
&lt;p&gt;It is partly inspired by eBook &lt;a href="https://www.syncfusion.com/ebooks/using-netcore-docker-and-kubernetes-succinctly"&gt;Using .NET Core, Docker, and Kubernetes Succinctly&lt;/a&gt; and partly from documents from Microsoft.&lt;br&gt;
So I'll be reusing chapter numbers from the eBook, when they fit into the context.  &lt;/p&gt;
&lt;h1&gt;Chapters from eBook &lt;strong&gt;Using .NET Core, Docker, and Kubernetes&lt;/strong&gt;&lt;/h1&gt;
&lt;h2&gt;Chapter 1 ASP.NET and Docker Together&lt;/h2&gt;
&lt;h3&gt;Chapter 1.1 Execute .NET Core application with Docker&lt;/h3&gt;
&lt;p&gt;Install and start Docker.&lt;br&gt;
Then open a shell.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify docker CLI is installed&lt;/span&gt;
docker --version
&lt;span class="c1"&gt;# Docker version 19.03.13, build 4484c46d9d&lt;/span&gt;

&lt;span class="c1"&gt;# View docker images cached on your machine&lt;/span&gt;
docker image ls
&lt;span class="c1"&gt;# or&lt;/span&gt;
docker images
&lt;span class="c1"&gt;# REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we'll run a console app.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# pull specific images into your cache&lt;/span&gt;
docker pull microsoft/dotnet-samples &lt;span class="c1"&gt;# this is a console app&lt;/span&gt;
docker images
&lt;span class="c1"&gt;# REPOSITORY                 TAG                 IMAGE ID            CREATED             SIZE&lt;/span&gt;
&lt;span class="c1"&gt;# microsoft/dotnet-samples   latest              70e25069fca7        20 months ago       181MB&lt;/span&gt;

&lt;span class="c1"&gt;# start an image&lt;/span&gt;
docker run --name consoleapp 70e25069fca7
&lt;span class="c1"&gt;#    Hello from .NET Core!&lt;/span&gt;

&lt;span class="c1"&gt;# Which containers are running?&lt;/span&gt;
docker ps
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# none - the above one fineshed and exited&lt;/span&gt;

&lt;span class="c1"&gt;# show all containers&lt;/span&gt;
docker ps -a
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS                     PORTS                       NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# a51691a1650f        70e25069fca7           &amp;quot;dotnet dotnetapp.dll&amp;quot;   3 minutes ago       Exited (0) 3 minutes ago                               consoleapp&lt;/span&gt;

&lt;span class="c1"&gt;# run again - to avoid creating more images&lt;/span&gt;
docker start consoleapp &lt;span class="c1"&gt;# runs in background by default, so you won&amp;#39;t see print here - instead do&lt;/span&gt;
docker start consoleapp -i &lt;span class="c1"&gt;# interactive mode&lt;/span&gt;

&lt;span class="c1"&gt;# remove the image&lt;/span&gt;
docker rm consoleapp &lt;span class="c1"&gt;# by name&lt;/span&gt;
&lt;span class="c1"&gt;# or&lt;/span&gt;
docker rm a51691a1650f &lt;span class="c1"&gt;# by id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next we'll run a web app.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 1:&lt;/span&gt;
&lt;span class="c1"&gt;# pull a web app&lt;/span&gt;
docker pull microsoft/dotnet-samples:aspnetapp &lt;span class="c1"&gt;# this is a web app&lt;/span&gt;
docker images
&lt;span class="c1"&gt;# REPOSITORY                 TAG                 IMAGE ID            CREATED             SIZE&lt;/span&gt;
&lt;span class="c1"&gt;# microsoft/dotnet-samples   aspnetapp           575d85b4a69b        20 months ago       263MB&lt;/span&gt;
&lt;span class="c1"&gt;# microsoft/dotnet-samples   latest              70e25069fca7        20 months ago       181MB&lt;/span&gt;

&lt;span class="c1"&gt;# start a new image&lt;/span&gt;
docker run --name mvcapp 575d85b4a69b &lt;span class="c1"&gt;# you can add -d to run in damon/background mode, which gives you the prompt back, but you then won&amp;#39;t see its outputs&lt;/span&gt;
&lt;span class="c1"&gt;# Hosting environment: Production&lt;/span&gt;
&lt;span class="c1"&gt;# Content root path: /app&lt;/span&gt;
&lt;span class="c1"&gt;# Now listening on: http://[::]:80&lt;/span&gt;
&lt;span class="c1"&gt;# Application started. Press Ctrl+C to shut down.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 2:&lt;/span&gt;
docker ps
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS                   PORTS                       NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# 82225a6f9672        575d85b4a69b           &amp;quot;dotnet aspnetapp.dll&amp;quot;   36 seconds ago      Up 34 seconds                                        mvcapp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But you can't access it on http://[::]:80 ... You have to redirect an outer port into its port 80.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 1:&lt;/span&gt;
&lt;span class="c1"&gt;# stop the image&lt;/span&gt;
docker stop mvcapp &lt;span class="c1"&gt;# notice - stopping by name&lt;/span&gt;
&lt;span class="c1"&gt;# remove image&lt;/span&gt;
docker rm mvcapp

&lt;span class="c1"&gt;# start the image with access from port 8080 &lt;/span&gt;
docker run -p &lt;span class="m"&gt;8080&lt;/span&gt;:80 --name mvcapp 575d85b4a69b  &lt;span class="c1"&gt;# notice - starting by name, so we don&amp;#39;t add yet an image&lt;/span&gt;
&lt;span class="c1"&gt;#or&lt;/span&gt;
docker create -p &lt;span class="m"&gt;8080&lt;/span&gt;:80 --name mvcapp 575d85b4a69b
docker start mvcapp &lt;span class="c1"&gt;# runs in background by default - use -i to see its outputs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 2:&lt;/span&gt;
&lt;span class="c1"&gt;# open browser&lt;/span&gt;
start http://localhost:8080
docker ps
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS                   PORTS                       NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# bab98369a976        575d85b4a69b           &amp;quot;dotnet aspnetapp.dll&amp;quot;   45 seconds ago      Up 43 seconds            0.0.0.0:8080-&amp;gt;80/tcp        mvcapp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Terminal 1:&lt;/span&gt;
&lt;span class="c1"&gt;# stop the image&lt;/span&gt;
docker stop mvcapp &lt;span class="c1"&gt;# notice - stopping by name&lt;/span&gt;
&lt;span class="c1"&gt;# remove image&lt;/span&gt;
docker rm mvcapp
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Chapter 2 Create Your Application with Docker&lt;/h2&gt;
&lt;p&gt;See &lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#docker"></category></entry><entry><title>k8s on Windows Devbox - Part 0.2</title><link href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html" rel="alternate"></link><published>2020-10-12T00:00:00+02:00</published><updated>2020-11-09T10:30:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-10-12:/k8s-on-windows-devbox-part-02.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html"&gt;Part 2.0: Deploy containers to Civo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I want to install &lt;strong&gt;OpenFaaS&lt;/strong&gt; again.&lt;br&gt;
This time running on &lt;strong&gt;Kubernetes (k8s)&lt;/strong&gt;, &lt;strong&gt;Docker Desktop&lt;/strong&gt;, &lt;strong&gt;Windows Home 10&lt;/strong&gt; with &lt;strong&gt;Virtual Machine Platform&lt;/strong&gt; on &lt;strong&gt;WSL2&lt;/strong&gt;.&lt;br&gt;
Running Docker Desktop with &lt;a href="https://docs.docker.com/docker-for-windows/wsl/"&gt;WSL2 backend has many improvements&lt;/a&gt; over alternatives.&lt;br&gt;
Last time I installed Docker (in this &lt;a href="https://rasor.github.io/openfaas-on-windows-devbox.html"&gt;blog&lt;/a&gt;), I was running on &lt;strong&gt;Docker Swarm&lt;/strong&gt;, &lt;strong&gt;Docker CE&lt;/strong&gt;, &lt;strong&gt;Windows Pro 10&lt;/strong&gt; and &lt;strong&gt;Hyper-V&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://twitter.com/alexellisuk"&gt;@alexellisuk&lt;/a&gt; has build great tools. One being &lt;a href="https://github.com/alexellis/arkade"&gt;Arkade&lt;/a&gt;.&lt;br&gt;
It is great for installing lots of K8s goodies both locally and in cloud. It also includes OpenFaaS.&lt;/p&gt;
&lt;h1&gt;Install k8s and Arkade on devbox on Windows&lt;/h1&gt;
&lt;h2&gt;Prerequisites.&lt;/h2&gt;
&lt;p&gt;You need Docker. Start by typing    &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker -v
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to see if you already have it installed.&lt;br&gt;
If not then follow &lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;this tutorial to get it&lt;/a&gt;.&lt;br&gt;
In that blog I ended up with &lt;strong&gt;Docker Desktop&lt;/strong&gt; on &lt;strong&gt;Windows Home 10&lt;/strong&gt; with &lt;strong&gt;Virtual Machine Platform&lt;/strong&gt; incl. &lt;strong&gt;WSL2&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;About&lt;/h2&gt;
&lt;h3&gt;About Akade&lt;/h3&gt;
&lt;p&gt;What is Arkade?&lt;br&gt;
&lt;em&gt;Your one-stop CLI for Kubernetes&lt;/em&gt; (its slogan)&lt;/p&gt;
&lt;p&gt;I'll use arkade for installing various k8s CLIs and Apps.  &lt;/p&gt;
&lt;h3&gt;About K8S clusters&lt;/h3&gt;
&lt;p&gt;Now that we have Docker, then it is time to play with Arkade to install k8s and other stuff&lt;/p&gt;
&lt;p&gt;But there are other options than &lt;strong&gt;Arkade&lt;/strong&gt; to install k8s&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On localhost&lt;ul&gt;
&lt;li&gt;Using &lt;strong&gt;Kind&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/setup/learning-environment/kind/"&gt;Installing Kubernetes with Kind&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kind.sigs.k8s.io/docs/user/quick-start/"&gt;kind Quick Start&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Using &lt;strong&gt;k3d&lt;/strong&gt; - for dev, Raspberry Pi or IoT&lt;/li&gt;
&lt;li&gt;Using &lt;strong&gt;Minikube&lt;/strong&gt; - for dev&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/tasks/tools/install-minikube/"&gt;Install Minikube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/setup/learning-environment/minikube/"&gt;Installing Kubernetes with Minikube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Enable k8s in &lt;strong&gt;Docker Desktop&lt;/strong&gt; - for dev&lt;/li&gt;
&lt;li&gt;OpenShift&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;In cloud&lt;ul&gt;
&lt;li&gt;All cloud providers have their own k8s services:&lt;ul&gt;
&lt;li&gt;EKS (AWS)&lt;/li&gt;
&lt;li&gt;AKS (Az)&lt;/li&gt;
&lt;li&gt;GKE (Google)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.civo.com/kube100"&gt;Kube100&lt;/a&gt; (Civo) - a k3s cluster&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Using &lt;strong&gt;&lt;a href="https://rancher.com/products"&gt;RKE&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So why use Arkade to install k8s?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If you only need a single node cluster then option 3 - using &lt;strong&gt;Docker Desktop&lt;/strong&gt; automates the work you manually can do with &lt;strong&gt;Minikube&lt;/strong&gt;.  &lt;/li&gt;
&lt;li&gt;If you need a multi node cluster then option 0 - using &lt;strong&gt;Arkade&lt;/strong&gt; automates the work you manually can do with &lt;strong&gt;Kind&lt;/strong&gt;.  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Arkade&lt;/strong&gt; also automates the work you need to do with other k8s related tools.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Already have a k8s cluster?&lt;/h3&gt;
&lt;p&gt;k8s install is only the top of the iceberg of Arkade.&lt;br&gt;
If you already have a k8s cluster then Arkade kicks in by installing lost of &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;k8s apps from e.g. &lt;a href="https://hub.helm.sh/"&gt;Helm Hub&lt;/a&gt; (with &lt;code&gt;ark install&lt;/code&gt;) and/or&lt;/li&gt;
&lt;li&gt;CLIs for k8s or apps (with &lt;code&gt;ark get&lt;/code&gt;) &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Arkade then &lt;strong&gt;unifies fetching packages&lt;/strong&gt; across platforms.&lt;br&gt;
Before you would use package tools like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;apt-get&lt;/code&gt; on some Linux versions&lt;/li&gt;
&lt;li&gt;&lt;code&gt;yum&lt;/code&gt; on some other Linux versions&lt;/li&gt;
&lt;li&gt;&lt;code&gt;choco&lt;/code&gt; on Windows&lt;/li&gt;
&lt;li&gt;&lt;code&gt;brew&lt;/code&gt; on Mac&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and having to deal with all their parameters.  &lt;/p&gt;
&lt;p&gt;Under the hood Arkade &lt;strong&gt;simplifies commands&lt;/strong&gt; by using &lt;a href="https://helm.sh/"&gt;Helm&lt;/a&gt; as the k8s package manager and &lt;code&gt;kubectl&lt;/code&gt; commands.&lt;/p&gt;
&lt;h2&gt;Install Arkade&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Check that curl is installed&lt;/span&gt;
curl --version
&lt;span class="c1"&gt;# curl 7.67.0 (x86_64-w64-mingw32) libcurl/7.67.0 OpenSSL/1.1.1d (Schannel) zlib/1.2.11 libidn2/2.3.0 nghttp2/1.39.2&lt;/span&gt;
&lt;span class="c1"&gt;# Release-Date: 2019-11-06&lt;/span&gt;
&lt;span class="c1"&gt;# Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps pop3 pop3s rtsp smtp smtps telnet tftp&lt;/span&gt;
&lt;span class="c1"&gt;# Features: AsynchDNS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz Metalink MultiSSL NTLM SPNEGO SSL SSPI TLS-SRP&lt;/span&gt;

&lt;span class="c1"&gt;# Check that docker is installed&lt;/span&gt;
docker -v
&lt;span class="c1"&gt;# Docker version 19.03.12, build 48a66213fe&lt;/span&gt;

&lt;span class="c1"&gt;# Check that a k8s cluster is not yet installed&lt;/span&gt;
kubectl version
&lt;span class="c1"&gt;# Client Version: version.Info{Major:&amp;quot;1&amp;quot;, Minor:&amp;quot;16+&amp;quot;, GitVersion:&amp;quot;v1.16.6-beta.0&amp;quot;, GitCommit:&amp;quot;e7f962ba86f4ce7033828210ca3556393c377bcc&amp;quot;, GitTreeState:&amp;quot;clean&amp;quot;, BuildDate:&amp;quot;2020-01-15T08:26:26Z&amp;quot;, GoVersion:&amp;quot;go1.13.5&amp;quot;, Compiler:&amp;quot;gc&amp;quot;, Platform:&amp;quot;windows/amd64&amp;quot;}&lt;/span&gt;
&lt;span class="c1"&gt;# Unable to connect to the server: dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.&lt;/span&gt;

&lt;span class="c1"&gt;# Check that arkade is not installed&lt;/span&gt;
arkade --help
&lt;span class="c1"&gt;# bash: arkade: command not found&lt;/span&gt;

&lt;span class="c1"&gt;# Install Arkade on Windows&lt;/span&gt;
&lt;span class="c1"&gt;# https://github.com/alexellis/arkade#get-arkade&lt;/span&gt;
curl -sLS https://dl.get-arkade.dev &lt;span class="p"&gt;|&lt;/span&gt; sh
&lt;span class="c1"&gt;# Downloading package https://github.com/alexellis/arkade/releases/download/0.6.12/arkade.exe as //arkade.exe&lt;/span&gt;
&lt;span class="c1"&gt;# curl: (23) Failed writing body (0 != 16360)&lt;/span&gt;

&lt;span class="c1"&gt;# Trying as-admin&lt;/span&gt;
curl -sLS https://dl.get-arkade.dev &lt;span class="p"&gt;|&lt;/span&gt; sh
&lt;span class="c1"&gt;# Downloading package https://github.com/alexellis/arkade/releases/download/0.6.12/arkade.exe as //arkade.exe&lt;/span&gt;
&lt;span class="c1"&gt;# chmod: cannot access &amp;#39;//arkade.exe&amp;#39;: No such file or directory&lt;/span&gt;
&lt;span class="c1"&gt;# Download complete.&lt;/span&gt;

&lt;span class="c1"&gt;# Running with sufficient permissions to attempt to move arkade to /c/Users/Soren/bin&lt;/span&gt;
&lt;span class="c1"&gt;# mv: cannot stat &amp;#39;//arkade.exe&amp;#39;: No such file or directory&lt;/span&gt;
&lt;span class="c1"&gt;# ln: failed to create symbolic link &amp;#39;/c/Users/Soren/bin/ark&amp;#39;: No such file or directory&lt;/span&gt;
&lt;span class="c1"&gt;# Creating alias &amp;#39;ark&amp;#39; for &amp;#39;arkade&amp;#39;.&lt;/span&gt;
&lt;span class="c1"&gt;# main: line 172: arkade: command not found&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Both attemps failed - instead get manual recipe from &lt;a href="https://raw.githubusercontent.com/alexellis/arkade/master/get.sh"&gt;get.sh&lt;/a&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open your web browser and go to https://github.com/alexellis/arkade/releases&lt;/li&gt;
&lt;li&gt;Download the latest release for windows to C:\Users\yourusername.arkade\bin\arkade`&lt;/li&gt;
&lt;li&gt;Add path to environment&lt;br&gt;
&lt;code&gt;setx PATH "%path%;C:\Users\yourusername\.arkade\bin"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create a symbolic link&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;ALIAS_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ark&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;REPO&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;arkade
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;BINLOCATION&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/c/users/yourusername/.arkade/bin&amp;quot;&lt;/span&gt;
chmod +x &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$BINLOCATION&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
ln -sf &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$BINLOCATION&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$REPO&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$BINLOCATION&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$ALIAS_NAME&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Did it work?&lt;/span&gt;
arkade version
&lt;span class="c1"&gt;#             _             _&lt;/span&gt;
&lt;span class="c1"&gt;#   __ _ _ __| | ____ _  __| | ___&lt;/span&gt;
&lt;span class="c1"&gt;#  / _` | &amp;#39;__| |/ / _` |/ _` |/ _ \&lt;/span&gt;
&lt;span class="c1"&gt;# | (_| | |  |   &amp;lt; (_| | (_| |  __/&lt;/span&gt;
&lt;span class="c1"&gt;#  \__,_|_|  |_|\_\__,_|\__,_|\___|&lt;/span&gt;
&lt;span class="c1"&gt;# Get Kubernetes apps the easy way&lt;/span&gt;
&lt;span class="c1"&gt;# Version: 0.6.12&lt;/span&gt;
&lt;span class="c1"&gt;# Git Commit: 0415b5fa9d0a6740feb3d9093b7555d38c7e1a51&lt;/span&gt;

ark get --help
&lt;span class="c1"&gt;# The get command downloads a CLI or application from the specific tool&amp;#39;s releases or downloads page. &lt;/span&gt;
&lt;span class="c1"&gt;# The tool is usually downloaded in binary format and provides a fast and easy alternative to a package manager.&lt;/span&gt;

&lt;span class="c1"&gt;# Usage:&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade get [flags]&lt;/span&gt;

&lt;span class="c1"&gt;# Examples:&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade get helm&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade get linkerd2 --stash=false&lt;/span&gt;

&lt;span class="c1"&gt;# See which CLIs arkade can install:&lt;/span&gt;
ark get
&lt;span class="c1"&gt;# Use &amp;quot;arkade get TOOL&amp;quot; to download a tool or application:&lt;/span&gt;
&lt;span class="c1"&gt;# faas-cli&lt;/span&gt;
&lt;span class="c1"&gt;# helm&lt;/span&gt;
&lt;span class="c1"&gt;# kubectl&lt;/span&gt;
&lt;span class="c1"&gt;# kubectx&lt;/span&gt;
&lt;span class="c1"&gt;# kind&lt;/span&gt;
&lt;span class="c1"&gt;# k3d&lt;/span&gt;
&lt;span class="c1"&gt;# k3sup&lt;/span&gt;
&lt;span class="c1"&gt;# kubeseal&lt;/span&gt;
&lt;span class="c1"&gt;# inletsctl&lt;/span&gt;
&lt;span class="c1"&gt;# osm&lt;/span&gt;
&lt;span class="c1"&gt;# linkerd2&lt;/span&gt;
&lt;span class="c1"&gt;# kubebuilder&lt;/span&gt;
&lt;span class="c1"&gt;# kustomize&lt;/span&gt;
&lt;span class="c1"&gt;# doctl&lt;/span&gt;
&lt;span class="c1"&gt;# k9s&lt;/span&gt;
&lt;span class="c1"&gt;# civo&lt;/span&gt;
&lt;span class="c1"&gt;# terraform&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Great - we have Arkade now.  &lt;/p&gt;
&lt;h2&gt;Install k8s cluster&lt;/h2&gt;
&lt;p&gt;Now lets install a k8s cluster.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# We need kubectl to manage k8s. Install it:&lt;/span&gt;
arkade get kubectl
&lt;span class="c1"&gt;# Downloading kubectl&lt;/span&gt;
&lt;span class="c1"&gt;# https://storage.googleapis.com/kubernetes-release/release/v1.18.0/bin/windows/amd64/kubectl.exe&lt;/span&gt;
&lt;span class="c1"&gt;# Tool written to: C:\Users\yourusername/.arkade/bin/kubectl.exe&lt;/span&gt;

&lt;span class="c1"&gt;# Did it install?&lt;/span&gt;
kubectl version
&lt;span class="c1"&gt;# Client Version: version.Info{Major:&amp;quot;1&amp;quot;, Minor:&amp;quot;19&amp;quot;,&lt;/span&gt;

&lt;span class="c1"&gt;# We will use kind to create a k8s cluster, but first install it:&lt;/span&gt;
arkade get kind
&lt;span class="c1"&gt;# Downloading kind&lt;/span&gt;
&lt;span class="c1"&gt;# https://github.com/kubernetes-sigs/kind/releases/download/v0.9.0/kind-windows-amd64&lt;/span&gt;
&lt;span class="c1"&gt;# Tool written to: C:\Users\yourusername/.arkade/bin/kind.exe&lt;/span&gt;
kind version
&lt;span class="c1"&gt;# kind v0.9.0 go1.15.2 windows/amd64&lt;/span&gt;

&lt;span class="c1"&gt;# Crate a k8s cluster:&lt;/span&gt;
kind create cluster
&lt;span class="c1"&gt;# Creating cluster &amp;quot;kind&amp;quot; ...&lt;/span&gt;
&lt;span class="c1"&gt;#  • Ensuring node image (kindest/node:v1.19.1) 🖼  ...&lt;/span&gt;
&lt;span class="c1"&gt;#  ✓ Ensuring node image (kindest/node:v1.19.1) 🖼&lt;/span&gt;
&lt;span class="c1"&gt;#  • Preparing nodes 📦   ...&lt;/span&gt;
&lt;span class="c1"&gt;#  ✓ Preparing nodes 📦&lt;/span&gt;
&lt;span class="c1"&gt;#  • Writing configuration 📜  ...&lt;/span&gt;
&lt;span class="c1"&gt;#  ✓ Writing configuration 📜&lt;/span&gt;
&lt;span class="c1"&gt;#  • Starting control-plane 🕹️  ...&lt;/span&gt;
&lt;span class="c1"&gt;#  ✓ Starting control-plane 🕹️&lt;/span&gt;
&lt;span class="c1"&gt;#  • Installing CNI 🔌  ...&lt;/span&gt;
&lt;span class="c1"&gt;#  ✓ Installing CNI 🔌&lt;/span&gt;
&lt;span class="c1"&gt;#  • Installing StorageClass 💾  ...&lt;/span&gt;
&lt;span class="c1"&gt;#  ✓ Installing StorageClass 💾&lt;/span&gt;
&lt;span class="c1"&gt;# Set kubectl context to &amp;quot;kind-kind&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# You can now use your cluster with:&lt;/span&gt;
kubectl cluster-info --context kind-kind
&lt;span class="c1"&gt;# Kubernetes master is running at https://127.0.0.1:52295&lt;/span&gt;
&lt;span class="c1"&gt;# KubeDNS is running at https://127.0.0.1:52295/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy&lt;/span&gt;
&lt;span class="c1"&gt;# To further debug and diagnose cluster problems, use &amp;#39;kubectl cluster-info dump&amp;#39;.&lt;/span&gt;

&lt;span class="c1"&gt;# And what is the name of cluster?&lt;/span&gt;
kind get clusters
&lt;span class="c1"&gt;# kind&lt;/span&gt;

&lt;span class="c1"&gt;# If you need to delete your cluster:&lt;/span&gt;
&lt;span class="c1"&gt;# kind delete cluster&lt;/span&gt;
&lt;span class="c1"&gt;# kind delete cluster --name kind&lt;/span&gt;

&lt;span class="c1"&gt;# Seems like I have a client version from docker and a server version is in the cluster with the version installed by arkade.&lt;/span&gt;
kubectl version
&lt;span class="c1"&gt;# Client Version: version.Info{Major:&amp;quot;1&amp;quot;, Minor:&amp;quot;16+&amp;quot;, GitVersion:&amp;quot;v1.16.6-beta.0&amp;quot;, GitCommit:&amp;quot;e7f962ba86f4ce7033828210ca3556393c377bcc&amp;quot;, GitTreeState:&amp;quot;clean&amp;quot;, BuildDate:&amp;quot;2020-01-15T08:26:26Z&amp;quot;, GoVersion:&amp;quot;go1.13.5&amp;quot;, Compiler:&amp;quot;gc&amp;quot;, Platform:&amp;quot;windows/amd64&amp;quot;}&lt;/span&gt;
&lt;span class="c1"&gt;# Server Version: version.Info{Major:&amp;quot;1&amp;quot;, Minor:&amp;quot;19&amp;quot;, GitVersion:&amp;quot;v1.19.1&amp;quot;, GitCommit:&amp;quot;206bcadf021e76c27513500ca24182692aabd17e&amp;quot;, GitTreeState:&amp;quot;clean&amp;quot;, BuildDate:&amp;quot;2020-09-14T07:30:52Z&amp;quot;, GoVersion:&amp;quot;go1.15&amp;quot;, Compiler:&amp;quot;gc&amp;quot;, Platform:&amp;quot;linux/amd64&amp;quot;}&lt;/span&gt;

&lt;span class="c1"&gt;# Check cluster location and credentials that kubectl knows about:&lt;/span&gt;
kubectl config view
&lt;span class="c1"&gt;# apiVersion: v1&lt;/span&gt;
&lt;span class="c1"&gt;# clusters:&lt;/span&gt;
&lt;span class="c1"&gt;# - cluster:&lt;/span&gt;
&lt;span class="c1"&gt;#     certificate-authority-data: DATA+OMITTED&lt;/span&gt;
&lt;span class="c1"&gt;#     server: https://127.0.0.1:55555&lt;/span&gt;
&lt;span class="c1"&gt;#   name: kind-kind&lt;/span&gt;
&lt;span class="c1"&gt;# contexts:&lt;/span&gt;
&lt;span class="c1"&gt;# - context:&lt;/span&gt;
&lt;span class="c1"&gt;#     cluster: kind-kind&lt;/span&gt;
&lt;span class="c1"&gt;#     user: kind-kind&lt;/span&gt;
&lt;span class="c1"&gt;#   name: kind-kind&lt;/span&gt;
&lt;span class="c1"&gt;# current-context: kind-kind&lt;/span&gt;
&lt;span class="c1"&gt;# kind: Config&lt;/span&gt;
&lt;span class="c1"&gt;# preferences: {}&lt;/span&gt;
&lt;span class="c1"&gt;# users:&lt;/span&gt;
&lt;span class="c1"&gt;# - name: kind-kind&lt;/span&gt;
&lt;span class="c1"&gt;#   user:&lt;/span&gt;
&lt;span class="c1"&gt;#     client-certificate-data: REDACTED&lt;/span&gt;
&lt;span class="c1"&gt;#     client-key-data: REDACTED&lt;/span&gt;

kubectl get nodes
&lt;span class="c1"&gt;# NAME                 STATUS   ROLES    AGE   VERSION&lt;/span&gt;
&lt;span class="c1"&gt;# kind-control-plane   Ready    master   18m   v1.19.1&lt;/span&gt;

kubectl get pods
&lt;span class="c1"&gt;# No resources found in default namespace.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The cluster config seen in &lt;code&gt;kubectl config view&lt;/code&gt; is stored in C:\Users\youruserid.kube\config &lt;br&gt;
When you want to connect to other clusters you need to modify or replace that file.&lt;br&gt;
In the file one cluster will be your default.  &lt;/p&gt;
&lt;p&gt;So now having a master node running and no pod what is next?  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We could add worker nodes to the cluster&lt;/li&gt;
&lt;li&gt;We could install apps&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Issues: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Booting Windows made bash unable to access cluster. Why?&lt;ul&gt;
&lt;li&gt;It was not an envir var problem, since after delete + create cluster then no new envir vars were created&lt;/li&gt;
&lt;li&gt;In vid &lt;a href="https://www.youtube.com/watch?v=8wU9s_mua8M"&gt;Walk-through of arkade - for Kubernetes&lt;/a&gt;, Alex think boot persistence has been implemented - and before we had to recreate cluster after boot.&lt;/li&gt;
&lt;li&gt;Tips about accessing clusters: &lt;a href="https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/"&gt;Accessing Clusters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Perhaps you just need to start the master node: &lt;code&gt;docker start kind-control-plane&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Stop and start the cluster&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# stop the k8s cluster&lt;/span&gt;
docker stop kind-control-plane

&lt;span class="c1"&gt;# check if k8s cluster is running&lt;/span&gt;
kubectl cluster-info
&lt;span class="c1"&gt;# Unable to connect to the server: dial tcp 127.0.0.1:52295: connectex: No connection could be made&lt;/span&gt;

&lt;span class="c1"&gt;# Check if there are any clusters&lt;/span&gt;
$ kind get clusters
&lt;span class="c1"&gt;# kind&lt;/span&gt;

&lt;span class="c1"&gt;# Check it the container is running&lt;/span&gt;
docker ps -a &lt;span class="p"&gt;|&lt;/span&gt; grep kind
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS                   PORTS                       NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# 0b9a7220b4f8        kindest/node:v1.19.1   &amp;quot;/usr/local/bin/entr…&amp;quot;   5 weeks ago         Exited (0) 3 weeks ago   127.0.0.1:52295-&amp;gt;6443/tcp   kind-control-plane&lt;/span&gt;

&lt;span class="c1"&gt;# start the k8s cluster&lt;/span&gt;
docker start kind-control-plane

&lt;span class="c1"&gt;# check if k8s cluster is running&lt;/span&gt;
kubectl cluster-info
&lt;span class="c1"&gt;# Kubernetes master is running at https://127.0.0.1:52295&lt;/span&gt;
&lt;span class="c1"&gt;# KubeDNS is running at https://127.0.0.1:52295/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Install k8s apps&lt;/h2&gt;
&lt;p&gt;Arkade makes it easy to install many ready-to-use apps. You can print the list it contains:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Check which apps arkade lets you easily install:&lt;/span&gt;
ark install --help
&lt;span class="c1"&gt;# Install Kubernetes apps from helm charts or YAML files using the &amp;quot;install&amp;quot; command.&lt;/span&gt;

&lt;span class="c1"&gt;# You can also find the post-install message for each app with the &amp;quot;info&amp;quot; command.&lt;/span&gt;

&lt;span class="c1"&gt;# Usage:&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade install [flags]&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade install [command]&lt;/span&gt;

&lt;span class="c1"&gt;# Examples:&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade install&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade install openfaas  --gateways=2&lt;/span&gt;
&lt;span class="c1"&gt;#   arkade install inlets-operator --token-file $HOME/do-token&lt;/span&gt;

&lt;span class="c1"&gt;# Available Commands:&lt;/span&gt;
&lt;span class="c1"&gt;#   argocd                  Install argocd&lt;/span&gt;
&lt;span class="c1"&gt;#   cert-manager            Install cert-manager&lt;/span&gt;
&lt;span class="c1"&gt;#   chart                   Install the specified helm chart&lt;/span&gt;
&lt;span class="c1"&gt;#   cron-connector          Install cron-connector for OpenFaaS&lt;/span&gt;
&lt;span class="c1"&gt;#   crossplane              Install Crossplane&lt;/span&gt;
&lt;span class="c1"&gt;#   docker-registry         Install a Docker registry&lt;/span&gt;
&lt;span class="c1"&gt;#   docker-registry-ingress Install registry ingress with TLS&lt;/span&gt;
&lt;span class="c1"&gt;#   gitea                   Install gitea&lt;/span&gt;
&lt;span class="c1"&gt;#   grafana                 Install grafana&lt;/span&gt;
&lt;span class="c1"&gt;#   info                    Find info about a Kubernetes app&lt;/span&gt;
&lt;span class="c1"&gt;#   ingress-nginx           Install ingress-nginx&lt;/span&gt;
&lt;span class="c1"&gt;#   inlets-operator         Install inlets-operator&lt;/span&gt;
&lt;span class="c1"&gt;#   istio                   Install istio&lt;/span&gt;
&lt;span class="c1"&gt;#   jenkins                 Install jenkins&lt;/span&gt;
&lt;span class="c1"&gt;#   kafka-connector         Install kafka-connector for OpenFaaS&lt;/span&gt;
&lt;span class="c1"&gt;#   kube-image-prefetch     Install kube-image-prefetch&lt;/span&gt;
&lt;span class="c1"&gt;#   kube-state-metrics      Install kube-state-metrics&lt;/span&gt;
&lt;span class="c1"&gt;#   kubernetes-dashboard    Install kubernetes-dashboard&lt;/span&gt;
&lt;span class="c1"&gt;#   linkerd                 Install linkerd&lt;/span&gt;
&lt;span class="c1"&gt;#   loki                    Install Loki for monitoring and tracing&lt;/span&gt;
&lt;span class="c1"&gt;#   metrics-server          Install metrics-server&lt;/span&gt;
&lt;span class="c1"&gt;#   minio                   Install minio&lt;/span&gt;
&lt;span class="c1"&gt;#   mongodb                 Install mongodb&lt;/span&gt;
&lt;span class="c1"&gt;#   nats-connector          Install OpenFaaS connector for NATS&lt;/span&gt;
&lt;span class="c1"&gt;#   nfs-client-provisioner  Install nfs client provisioner&lt;/span&gt;
&lt;span class="c1"&gt;#   openfaas                Install openfaas&lt;/span&gt;
&lt;span class="c1"&gt;#   openfaas-ingress        Install openfaas ingress with TLS&lt;/span&gt;
&lt;span class="c1"&gt;#   openfaas-loki           Install Loki-OpenFaaS and Configure Loki logs provider for OpenFaaS&lt;/span&gt;
&lt;span class="c1"&gt;#   osm                     Install osm&lt;/span&gt;
&lt;span class="c1"&gt;#   portainer               Install portainer to visualise and manage containers&lt;/span&gt;
&lt;span class="c1"&gt;#   postgresql              Install postgresql&lt;/span&gt;
&lt;span class="c1"&gt;#   redis                   Install redis&lt;/span&gt;
&lt;span class="c1"&gt;#   registry-creds          Install registry-creds&lt;/span&gt;
&lt;span class="c1"&gt;#   tekton                  Install Tekton pipelines and dashboard&lt;/span&gt;
&lt;span class="c1"&gt;#   traefik2                Install traefik2&lt;/span&gt;

&lt;span class="c1"&gt;# Flags:&lt;/span&gt;
&lt;span class="c1"&gt;#   -h, --help                help for install&lt;/span&gt;
&lt;span class="c1"&gt;#       --kubeconfig string   Local path for your kubeconfig file (default &amp;quot;kubeconfig&amp;quot;)&lt;/span&gt;
&lt;span class="c1"&gt;#       --wait                If we should wait for the resource to be ready before returning (helm3 only, default false)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Install k8s app kubernetes-dashboard&lt;/h3&gt;
&lt;p&gt;kubernetes-dashboard gives you a GUI for viewing what your cluster contains. Let's install it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;arkade install kubernetes-dashboard
&lt;span class="c1"&gt;# Using kubeconfig: C:\Users\youruserid/.kube/config&lt;/span&gt;
&lt;span class="c1"&gt;# Node architecture: &amp;quot;amd64&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# # To create the Service Account and the ClusterRoleBinding&lt;/span&gt;
&lt;span class="c1"&gt;# # @See https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md#creating-sample-user&lt;/span&gt;

cat &lt;span class="s"&gt;&amp;lt;&amp;lt;EOF | kubectl apply -f -&lt;/span&gt;
&lt;span class="s"&gt;---&lt;/span&gt;
&lt;span class="s"&gt;apiVersion: v1&lt;/span&gt;
&lt;span class="s"&gt;kind: ServiceAccount&lt;/span&gt;
&lt;span class="s"&gt;metadata:&lt;/span&gt;
&lt;span class="s"&gt;    name: admin-user&lt;/span&gt;
&lt;span class="s"&gt;    namespace: kubernetes-dashboard&lt;/span&gt;
&lt;span class="s"&gt;---&lt;/span&gt;
&lt;span class="s"&gt;apiVersion: rbac.authorization.k8s.io/v1&lt;/span&gt;
&lt;span class="s"&gt;kind: ClusterRoleBinding&lt;/span&gt;
&lt;span class="s"&gt;metadata:&lt;/span&gt;
&lt;span class="s"&gt;    name: admin-user&lt;/span&gt;
&lt;span class="s"&gt;roleRef:&lt;/span&gt;
&lt;span class="s"&gt;    apiGroup: rbac.authorization.k8s.io&lt;/span&gt;
&lt;span class="s"&gt;    kind: ClusterRole&lt;/span&gt;
&lt;span class="s"&gt;    name: cluster-admin&lt;/span&gt;
&lt;span class="s"&gt;subjects:&lt;/span&gt;
&lt;span class="s"&gt;- kind: ServiceAccount&lt;/span&gt;
&lt;span class="s"&gt;    name: admin-user&lt;/span&gt;
&lt;span class="s"&gt;    namespace: kubernetes-dashboard&lt;/span&gt;
&lt;span class="s"&gt;---&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;

&lt;span class="c1"&gt;# #To get your Token for logging in&lt;/span&gt;
kubectl -n kubernetes-dashboard describe secret &lt;span class="k"&gt;$(&lt;/span&gt;kubectl -n kubernetes-dashboard get secret &lt;span class="p"&gt;|&lt;/span&gt; grep admin-user-token &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# Shown last part of the output&lt;/span&gt;
&lt;span class="c1"&gt;# Name:         admin-user-token-8ltkm&lt;/span&gt;
&lt;span class="c1"&gt;# Namespace:    kubernetes-dashboard&lt;/span&gt;
&lt;span class="c1"&gt;# Labels:       &amp;lt;none&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;# Annotations:  kubernetes.io/service-account.name: admin-user&lt;/span&gt;
&lt;span class="c1"&gt;#               kubernetes.io/service-account.uid: cf8c00d4-e353-46cd-a60f-52b976278a5c&lt;/span&gt;

&lt;span class="c1"&gt;# Type:  kubernetes.io/service-account-token&lt;/span&gt;

&lt;span class="c1"&gt;# Data&lt;/span&gt;
&lt;span class="c1"&gt;# ====&lt;/span&gt;
&lt;span class="c1"&gt;# ca.crt:     1066 bytes&lt;/span&gt;
&lt;span class="c1"&gt;# namespace:  20 bytes&lt;/span&gt;
&lt;span class="c1"&gt;# token:      eyJhbGciOiJSUzI1NiIsImtpZCI6InBXbUdUMG01cHU1b21mWl9HQ2hvckpnc2piTE8xZFhraE16Qnl6b0FUYWsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLThsdGttIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJjZjhjMDBkNC1lMzUzLTQ2Y2QtYTYwZi01MmI5NzYyNzhhNWMiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.HOkirmDW_KEpNcH_W2kotH5V_r_MgxzMiZnYctyP2bdCt7yBZijfwVK6rv3SuYizZM5FuxWsHARR8aFmsIG5wtL4Pv1mS0wHggt1Tt3rX-8Du2kj0UZwjM6pKZ5zECSC-JM1fItUAjsZyad2qxAThPaYtaJw2HVbJHdrQxn7I65kZY9qNGTPevwVrfs8PeUnpeUqlmaeZ9doob0x1zB_3TKvvST9r38m9nsRblfQU2P9QY82Q4qU74sV3lwE5cRs0XuviyQBEvfGxH5od7ahTXea5B5zHA-3_7SSyvLWHvjMMk4fn8_ZWwxJKFYc1zbxL2JqNvqzvvqRqsfbwOjX8g&lt;/span&gt;

&lt;span class="c1"&gt;# #To forward the dashboard to your local machine&lt;/span&gt;
kubectl proxy
&lt;span class="c1"&gt;# Starting to serve on 127.0.0.1:8001&lt;/span&gt;

&lt;span class="c1"&gt;# # Once Proxying you can navigate to the below&lt;/span&gt;
&lt;span class="c1"&gt;# http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/#/login&lt;/span&gt;
&lt;span class="c1"&gt;# Paste the token above into the Dashboard login screen&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You need to copy-paste your token from above to the login screen:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="k8s dashboard login" src="../img/2020/2020-09-06-OpenFaaS25.PNG" title="k8s dashboard login"&gt;  &lt;/p&gt;
&lt;p&gt;When logged in:&lt;br&gt;
&lt;img alt="k8s dashboard logged in" src="../img/2020/2020-09-06-OpenFaaS26.PNG" title="k8s dashboard logged in"&gt;  &lt;/p&gt;
&lt;p&gt;There are several k8s namespaces. Select some to see what they are comprised of:&lt;br&gt;
&lt;img alt="k8s dashboard namespaces" src="../img/2020/2020-09-06-OpenFaaS27.PNG" title="k8s dashboard namespaces"&gt;  &lt;/p&gt;
&lt;p&gt;Issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You get "Default user has too little permissions", if you forget to paste the &lt;code&gt;cat &amp;lt;&amp;lt; EOF&lt;/code&gt; block.&lt;ul&gt;
&lt;li&gt;Create An &lt;a href="https://github.com/kubernetes/dashboard#create-an-authentication-token-rbac"&gt;Authentication Token (RBAC)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Read about &lt;a href="https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md"&gt;Access control&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More info: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Other apis exposed though &lt;a href="http://127.0.0.1:8001/"&gt;local proxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/"&gt;Web UI (Dashboard)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Github: &lt;a href="https://github.com/kubernetes/dashboard"&gt;kubernetes/dashboard&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Install k8s app metrics-server (- and heml)&lt;/h3&gt;
&lt;p&gt;Metrics Server is a cluster-wide aggregator of resource usage data.  &lt;/p&gt;
&lt;p&gt;Apparently installing metrics-server does also do &lt;code&gt;arkade get helm&lt;/code&gt;, when it is not yet installed.&lt;br&gt;
Helm is a package manager for k8s apps (packaged in helm charts).  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;arkade install metrics-server
&lt;span class="c1"&gt;# Using kubeconfig: C:\Users\youruserid/.kube/config&lt;/span&gt;
&lt;span class="c1"&gt;# Node architecture: &amp;quot;amd64&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# Client: &amp;quot;x86_64&amp;quot;, &amp;quot;MINGW64_NT-10.0-19041&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# 2020/09/22 12:41:45 User dir established as: C:\Users\youruserid/.arkade/&lt;/span&gt;
&lt;span class="c1"&gt;# https://get.helm.sh/helm-v3.2.4-windows-amd64.zip&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\Soren\AppData\Local\Temp/windows-amd64&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\Soren\AppData\Local\Temp/helm.exe&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\Soren\AppData\Local\Temp/README.md&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\Soren\AppData\Local\Temp/LICENSE&lt;/span&gt;
&lt;span class="c1"&gt;# 2020/09/22 12:42:19 extracted zip into C:\Users\youruserid\AppData\Local\Temp: 4 files, 0 dirs (991.479ms)&lt;/span&gt;
&lt;span class="c1"&gt;# Downloaded to:  C:\Users\youruserid/.arkade/bin/helm.exe helm.exe&lt;/span&gt;
&lt;span class="c1"&gt;# Error: no repositories found. You must add one before updating&lt;/span&gt;
&lt;span class="c1"&gt;# Error: exit code 1&lt;/span&gt;

helm version
&lt;span class="c1"&gt;# version.BuildInfo{Version:&amp;quot;v3.2.4&amp;quot;, GitCommit:&amp;quot;0ad800ef43d3b826f31a5ad8dfbb4fe05d143688&amp;quot;, GitTreeState:&amp;quot;clean&amp;quot;, GoVersion:&amp;quot;go1.13.12&amp;quot;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So what's with &lt;code&gt;Error: no repositories found&lt;/code&gt;?
&lt;a href="https://www.jforte.me/2020/01/getting-started-with-helm-v3/"&gt;Getting Started with Helm v3&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify repo (list of helm charts) is missing&lt;/span&gt;
helm repo update
&lt;span class="c1"&gt;# Error: no repositories found. You must add one before updating&lt;/span&gt;

&lt;span class="c1"&gt;# get stable repo - this can take 10s of minutes without output in the shell...&lt;/span&gt;
helm repo add stable https://kubernetes-charts.storage.googleapis.com/
&lt;span class="c1"&gt;# &amp;quot;stable&amp;quot; has been added to your repositories&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;On https://helm.sh/docs/intro/quickstart/ in the version dropdown you will see which version of Helm is the latest stable version, which was installed above.  &lt;/p&gt;
&lt;p&gt;Having the helm chart list downloaded we try again:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;arkade install metrics-server
&lt;span class="c1"&gt;# Using kubeconfig: C:\Users\youruserid/.kube/config&lt;/span&gt;
&lt;span class="c1"&gt;# Node architecture: &amp;quot;amd64&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# Client: &amp;quot;x86_64&amp;quot;, &amp;quot;MINGW64_NT-10.0-19041&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# 2020/09/24 17:27:20 User dir established as: C:\Users\youruserid/.arkade/&lt;/span&gt;
&lt;span class="c1"&gt;# https://get.helm.sh/helm-v3.2.4-windows-amd64.zip&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\youruserid\AppData\Local\Temp/windows-amd64&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\youruserid\AppData\Local\Temp/helm.exe&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\youruserid\AppData\Local\Temp/README.md&lt;/span&gt;
&lt;span class="c1"&gt;# C:\Users\youruserid\AppData\Local\Temp/LICENSE&lt;/span&gt;
&lt;span class="c1"&gt;# 2020/09/24 17:27:22 extracted zip into C:\Users\youruserid\AppData\Local\Temp: 4 files, 0 dirs (406.024ms)&lt;/span&gt;
&lt;span class="c1"&gt;# Downloaded to:  C:\Users\youruserid/.arkade/bin/helm.exe helm.exe&lt;/span&gt;
&lt;span class="c1"&gt;# Hang tight while we grab the latest from your chart repositories...&lt;/span&gt;
&lt;span class="c1"&gt;# ...Successfully got an update from the &amp;quot;stable&amp;quot; chart repository&lt;/span&gt;
&lt;span class="c1"&gt;# Update Complete. ⎈ Happy Helming!⎈&lt;/span&gt;
&lt;span class="c1"&gt;# Chart path:  C:\Users\youruserid\AppData\Local\Temp/charts&lt;/span&gt;
&lt;span class="c1"&gt;# VALUES values.yaml&lt;/span&gt;
&lt;span class="c1"&gt;# Command: C:\Users\youruserid/.arkade/bin/helm [upgrade --install metrics-server stable/metrics-server --namespace kube-system --values C:\Users\youruserid\AppData\Local\Temp/charts/metrics-server/values.yaml --set args={--kubelet-insecure-tls,--kubelet-preferred-address-types=InternalIP\,ExternalIP\,Hostname}]&lt;/span&gt;
&lt;span class="c1"&gt;# Release &amp;quot;metrics-server&amp;quot; does not exist. Installing it now.&lt;/span&gt;
&lt;span class="c1"&gt;# NAME: metrics-server&lt;/span&gt;
&lt;span class="c1"&gt;# LAST DEPLOYED: Thu Sep 24 17:27:29 2020&lt;/span&gt;
&lt;span class="c1"&gt;# NAMESPACE: kube-system&lt;/span&gt;
&lt;span class="c1"&gt;# STATUS: deployed&lt;/span&gt;
&lt;span class="c1"&gt;# REVISION: 1&lt;/span&gt;
&lt;span class="c1"&gt;# NOTES:&lt;/span&gt;
&lt;span class="c1"&gt;# The metric server has been deployed.&lt;/span&gt;

&lt;span class="c1"&gt;# In a few minutes you should be able to list metrics using the following&lt;/span&gt;
&lt;span class="c1"&gt;# command:&lt;/span&gt;

&lt;span class="c1"&gt;#   kubectl get --raw &amp;quot;/apis/metrics.k8s.io/v1beta1/nodes&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# =======================================================================&lt;/span&gt;
&lt;span class="c1"&gt;# = metrics-server has been installed.                                  =&lt;/span&gt;
&lt;span class="c1"&gt;# =======================================================================&lt;/span&gt;

&lt;span class="c1"&gt;# # It can take a few minutes for the metrics-server to collect data&lt;/span&gt;
&lt;span class="c1"&gt;# # from the cluster. Try these commands and wait a few moments if&lt;/span&gt;
&lt;span class="c1"&gt;# # no data is showing.&lt;/span&gt;

&lt;span class="c1"&gt;# # Check pod usage&lt;/span&gt;
&lt;span class="c1"&gt;# kubectl top pod&lt;/span&gt;

&lt;span class="c1"&gt;# # Check node usage&lt;/span&gt;
kubectl top node
&lt;span class="c1"&gt;# Error from server (ServiceUnavailable): the server is currently unable to handle the request (get nodes.metrics.k8s.io)&lt;/span&gt;

&lt;span class="c1"&gt;# # Find out more at:&lt;/span&gt;
&lt;span class="c1"&gt;# # https://github.com/helm/charts/tree/master/stable/metrics-server&lt;/span&gt;

&lt;span class="c1"&gt;# Thanks for using arkade!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So now we have &lt;code&gt;Error from server (ServiceUnavailable)&lt;/code&gt;.&lt;br&gt;
Try fix: &lt;a href="https://github.com/kubernetes-sigs/metrics-server/issues/448"&gt;issue 448&lt;/a&gt;.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Is pod running?&lt;/span&gt;
kubectl get pods -n kube-system
&lt;span class="c1"&gt;# NAME                                         READY   STATUS    RESTARTS   AGE&lt;/span&gt;
&lt;span class="c1"&gt;# metrics-server-56c4ff648b-jdzv6              1/1     Running   0          53m&lt;/span&gt;

&lt;span class="c1"&gt;# Is service running?&lt;/span&gt;
kubectl get svc -n kube-system
&lt;span class="c1"&gt;# NAME             TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                  AGE&lt;/span&gt;
&lt;span class="c1"&gt;# metrics-server   ClusterIP   10.106.132.12   &amp;lt;none&amp;gt;        443/TCP                  55m&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;3 days later ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kubectl top node
&lt;span class="c1"&gt;# NAME                 CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%&lt;/span&gt;
&lt;span class="c1"&gt;# kind-control-plane   473m         5%     952Mi           8%&lt;/span&gt;

kubectl top pod

kubectl get --raw &lt;span class="s2"&gt;&amp;quot;/apis/metrics.k8s.io/v1beta1/nodes&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# Error from server (NotFound): the server could not find the requested resource&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Start proxy in another terminal&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kubectl proxy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then open browser http://127.0.0.1:8001/&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;paths&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;/apis/metrics.k8s.io&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;/apis/metrics.k8s.io/v1beta1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;http://127.0.0.1:8001/apis/metrics.k8s.io/v1beta1/nodes 
gives "ERR_CONNECTION_REFUSED"&lt;/p&gt;
&lt;p&gt;OK, I'm not done with this, but I'll fill in, when focus comes back onto it...&lt;/p&gt;
&lt;p&gt;More info:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Metrics Server:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/helm/charts/tree/master/stable/metrics-server"&gt;helm/charts - metrics-server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Github: &lt;a href="https://github.com/kubernetes-sigs/metrics-server"&gt;kubernetes-sigs/metrics-server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;k8s Debug: &lt;a href="https://kubernetes.io/docs/tasks/debug-application-cluster/resource-metrics-pipeline/"&gt;Resource metrics pipeline&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Helm:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://helm.sh/docs/intro/quickstart/"&gt;Quickstart Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Download: &lt;a href="https://github.com/helm/helm/releases"&gt;Releases · helm/helm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/helm/charts/tree/master/stable"&gt;helm/charts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;What's next?&lt;/h1&gt;
&lt;p&gt;I didn't get the the OpenFaaS part, yet - I'll park that for later.  &lt;/p&gt;
&lt;p&gt;I also want to build apps on a solid setup.&lt;br&gt;
What I have in mind is the &lt;a href="https://kubeprod.io/"&gt;Bitnami stack&lt;/a&gt;&lt;br&gt;
&lt;img alt="Bitnami stack" src="https://kubeprod.io/assets/images/bkpr.png"&gt;&lt;br&gt;
(&lt;em&gt;Image on kubeprod.io&lt;/em&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Apps - e.g &lt;a href="https://kubeapps.com/"&gt;Kubeapps, deploy your applications in Kubernetes&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.kubeapps.com/charts"&gt;Charts hub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubeapps/kubeapps/blob/master/docs/user/getting-started.md"&gt;Get Started with Kubeapps&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BKPR (Bitnami Kubernetes Production Runtime)&lt;ul&gt;
&lt;li&gt;Monitoring&lt;ul&gt;
&lt;li&gt;Prometheus&lt;/li&gt;
&lt;li&gt;Grafana&lt;/li&gt;
&lt;li&gt;Alertmanager&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Logging&lt;ul&gt;
&lt;li&gt;Fluentd&lt;/li&gt;
&lt;li&gt;Elasticsearch&lt;/li&gt;
&lt;li&gt;Kibana&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ingress&lt;ul&gt;
&lt;li&gt;nginx-ingress&lt;/li&gt;
&lt;li&gt;ExternalDNS&lt;/li&gt;
&lt;li&gt;cert-manager&lt;/li&gt;
&lt;li&gt;OAuth2 Proxy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;k8s&lt;ul&gt;
&lt;li&gt;Google Kubernetes Engine (GKE), &lt;/li&gt;
&lt;li&gt;Azure Kubernetes Service (AKS) and &lt;/li&gt;
&lt;li&gt;Amazon Elastic Container Service for Kubernetes (EKS)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I might want to add to the stack:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.kubeapps.com/charts?q=rabbitmq"&gt;charts/rabbitmq&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some apps I have in mind could be &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A DeFi app using &lt;ul&gt;
&lt;li&gt;a private &lt;a href="https://hub.kubeapps.com/charts/stable/ethereum"&gt;ethereum&lt;/a&gt; network as transaction and currency cluster&lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.kubeapps.com/charts/vulcanlink"&gt;vulcanlink&lt;/a&gt; - chainlink as Dapp GW&lt;ul&gt;
&lt;li&gt;&lt;a href="https://vulcan.link/"&gt;Vulcan Link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Dedicated &lt;a href="https://elastos.academy/did/"&gt;Elastos DID sidechain&lt;/a&gt; as customer IdM cluster&lt;ul&gt;
&lt;li&gt;&lt;a href="https://medium.com/@leo.vigna/bringing-chainlink-to-elastos-mainnet-9134bb3da6c9"&gt;Bringing Chainlink to Elastos Mainnet&lt;/a&gt;    &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gnosis-safe.io/"&gt;Gnosis Safe&lt;/a&gt; as multisig provider&lt;/li&gt;
&lt;li&gt;Perhaps use aelf as common sidechain?&lt;br&gt;
&lt;img alt="aelf" src="https://pbs.twimg.com/media/EiliSVUVkAAH1Kc?format=jpg&amp;amp;name=large"&gt;&lt;br&gt;
(&lt;em&gt;Image on &lt;a href="https://twitter.com/aelfblockchain/status/1308688001073991680/photo/1"&gt;twitter&lt;/a&gt;&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;More Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Docker:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/troubleshoot/"&gt;Logs and troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;k8s:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands"&gt;Kubectl Reference Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/"&gt;kubectl Cheat Sheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/kubernetes/"&gt;Deploy on Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/kubernetes/#example-app"&gt;Deploy on Kubernetes - Example app&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Vid 2017: &lt;a href="https://www.youtube.com/watch?v=6xJwQgDnMFE"&gt;Create a 2-node Kubernetes cluster in 10 minutes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;When k8s? &lt;a href="https://www.linkedin.com/posts/alexellisuk_then-he-asked-me-is-kubernetes-right-for-activity-6703625976351346688-6343"&gt;Alex Ellis posted on LinkedIn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Vid: &lt;a href="https://www.youtube.com/watch?v=3RTvoI-A7UQ"&gt;Kubernetes and Container Orchestration 101 - Hanselman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/"&gt;Init Containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rancher.com/learning-paths/best-practices-for-monitoring-and-alerting-on-kubernetes/"&gt;Best Practices for Monitoring and Alerting on Kubernetes&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/bashofmann/rancher-2.5-monitoring"&gt;bashofmann/rancher-2.5-monitoring&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rancher.com/events"&gt;Events&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;k3s (k8s that can run on Raspberry Pi):&lt;ul&gt;
&lt;li&gt;SaaS: &lt;a href="https://www.civo.com/"&gt;Managed Kubernetes service, powered by k3s - Civo.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Kind:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kind.sigs.k8s.io/#installation-and-usage"&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kind.sigs.k8s.io/docs/user/quick-start/"&gt;Quick start&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;helm: &lt;ul&gt;
&lt;li&gt;&lt;a href="https://artifacthub.io/"&gt;Artifact Hub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Arkade:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/alexellis/arkade"&gt;alexellis/arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/posts/alexellisuk_kubernetes-cloudnative-cncf-activity-6702550586610487296-atGD"&gt;Alex Ellis - arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Vid 2020: &lt;a href="https://www.youtube.com/watch?v=8wU9s_mua8M"&gt;Walk-through of arkade - for Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OpenFaaS:&lt;ul&gt;
&lt;li&gt;My blog 2019:&lt;a href="https://rasor.github.io/openfaas-on-windows-devbox.html"&gt;OpenFaaS on Windows Devbox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.openfaas.com/deployment/kubernetes/"&gt;Kubernetes - OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VPN Connect to OnPrem server/service&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.inlets.dev/#/"&gt;inlets: Cloud Native Tunnel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ngrok&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#arkade"></category><category term="#docker"></category><category term="#openfaas"></category><category term="#curl"></category><category term="#hyperv"></category><category term="#virtualbox"></category><category term="#kitematic"></category><category term="#wsl2"></category><category term="#win10"></category><category term="#virtualmachineplatform"></category><category term="#kubernetes-dashboard"></category><category term="#metrics-server"></category><category term="#k8s"></category></entry><entry><title>Docker Desktop for Windows on WSL2 - Part 0.1</title><link href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html" rel="alternate"></link><published>2020-09-07T00:00:00+02:00</published><updated>2020-11-09T10:30:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2020-09-07:/docker-desktop-for-windows-on-wsl2-part-01.html</id><summary type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-desktop-for-windows-on-wsl2-part-01.html"&gt;Part 0.1: Install Docker Desktop on Windows 10 Home - including WSL&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k8s-on-windows-devbox-part-02.html"&gt;Part 0.2: Install k8s using kind on Windows - including arkade&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/run-docker-containers-part-11.html"&gt;Part 1.1: Run docker containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/develop-net-docker-images-part-12.html"&gt;Part 1.2: Develop .NET docker images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/aspnet-core-with-k8s-hosting-part-13.html"&gt;Part 1.3: Run containers in k8s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/k3s-hosted-in-civo-part-20.html"&gt;Part 2.0: Deploy containers to Civo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In this blog I just wanted Docker on my Windows 10 Home box.&lt;br&gt;
I ended up with upgrading Windows allowing me to install Docker Desktop running on WSL2.&lt;br&gt;
This is the path I took to get there and some additional experiments I had with WSL2.  &lt;/p&gt;
&lt;h1&gt;Getting Docker up working&lt;/h1&gt;
&lt;h2&gt;Something nice-to-know&lt;/h2&gt;
&lt;p&gt;I have run docker some times before, where it was running on Hyper-V on a Windows 10 Pro. I thought I was going to perhaps run on Hyper-V or VirtualBox.  &lt;/p&gt;
&lt;p&gt;Info:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker needs a hypervisor, which on Windows can either be &lt;strong&gt;hyper-v&lt;/strong&gt;, &lt;strong&gt;VirtualBox&lt;/strong&gt; and now also &lt;strong&gt;Virtual Machine Platform&lt;/strong&gt;.  &lt;ul&gt;
&lt;li&gt;Ref: &lt;a href="https://superuser.com/a/1510175"&gt;Hypervisor alternatives&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker Desktop For Windows (DD4W)&lt;/strong&gt; superseeds &lt;strong&gt;Docker CE For Windows (DCE4W)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Presumingly DD4W runs on top of &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-about"&gt;WSL2&lt;/a&gt;, so it is only on Windows 10 from May 2020&lt;/li&gt;
&lt;li&gt;DCE4W:&lt;ul&gt;
&lt;li&gt;By default &lt;a href="https://hub.docker.com/editions/community/docker-ce-desktop-windows"&gt;DCE4W&lt;/a&gt; will use hyper-v.  &lt;/li&gt;
&lt;li&gt;If you wanted to use VirtualBox you could get it included with &lt;a href="https://kitematic.com/"&gt;Kitematic&lt;/a&gt; in &lt;a href="https://docs.docker.com/toolbox/overview/"&gt;Docker Toolbox&lt;/a&gt;. You could then can use Kitematic to swap from hyper-v to ViretualBox.  &lt;/li&gt;
&lt;li&gt;With DD4W then &lt;strong&gt;Docker Toolbox&lt;/strong&gt;, &lt;strong&gt;Kitematic&lt;/strong&gt; and &lt;strong&gt;Docker machine&lt;/strong&gt; are &lt;a href="https://docs.docker.com/kitematic/userguide/"&gt;superceeded products&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;My older blogs on howto install DCE4W:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-for-windows.html"&gt;Docker for Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Heading Practice &lt;a href="https://rasor.github.io/openfaas-on-windows-devbox.html"&gt;on this blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Install Docker&lt;/h2&gt;
&lt;p&gt;In the beginning I didn't want to upgrade Windows - I thought I could make it work without upgrade.&lt;br&gt;
Here is how it went on:  &lt;/p&gt;
&lt;p&gt;To check if you have Docker. Start by typing    &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker -v
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to see if you already have docker installed.  &lt;/p&gt;
&lt;p&gt;I Downloaded latest DD4W. I tried to use &lt;a href="https://docs.docker.com/docker-for-windows/release-notes/#docker-desktop-community-2304"&gt;v.2.3.0.4&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;I had several issues and possible solutions:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tried to install v.2.3.0.4 gave me this error:&lt;ul&gt;
&lt;li&gt;Error: &lt;code&gt;Docker Desktop requires Windows 10 Pro/Enterprise (15063+) or Windows 10 Home (19018+).&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Mine was only Home os 18362 / &lt;a href="https://docs.microsoft.com/en-us/windows/release-information/"&gt;v1909&lt;/a&gt; (see System Information) &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Yet a failed try: &lt;a href="https://docs.docker.com/docker-for-windows/release-notes/#docker-desktop-community-2105"&gt;Download DD4W v.2.1.0.5&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Error: &lt;code&gt;Docker Desktop requires Windows 10 Pro or Enterprise version 15063 to run.&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Yet a failed try: &lt;a href="https://docs.docker.com/docker-for-windows/release-notes/#docker-community-edition-2000-win81-2018-12-07"&gt;Download DCE4W v.2.0.0.0&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Error: &lt;code&gt;Docker for Windows requires Windows 10 Pro or Enterprise version 14393 to run.&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Yet a failed try: &lt;a href="https://docs.docker.com/docker-for-windows/release-notes/#docker-community-edition-17091-ce-win42-2017-12-11"&gt;Download DCE4W v.17.0.9.1&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Error: &lt;code&gt;Docker for Windows requires Windows 10 Pro or Enterprise version 10586, or Windows server 2016 RTM to run&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Yet a failed try: &lt;a href="https://docs.docker.com/docker-for-windows/release-notes/#docker-community-edition-17090-ce-win33-2017-10-06"&gt;Download DCE4W v.17.0.9.0&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Error: &lt;code&gt;Unable to stop: The running command stopped because the preference variable "ErrorActionPreference" or common parameter is set to Stop: The specified module 'Hyper-V' was not loaded because no valid module file was found in any module directory.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;OK, Hyper-V needs to be activated - Activate the &lt;code&gt;windows hypervisor platform&lt;/code&gt; feature.&lt;br&gt;
&lt;img alt="Activate win hypervisor" src="../img/2020/2020-09-06-OpenFaaS10.PNG" title="Activate win hypervisor"&gt;  &lt;/li&gt;
&lt;li&gt;Boot the PC&lt;/li&gt;
&lt;li&gt;Uninstall DCE4W&lt;/li&gt;
&lt;li&gt;Re-install DCE4w&lt;/li&gt;
&lt;li&gt;Start DCE4w&lt;/li&gt;
&lt;li&gt;Error - same as above - yak!&lt;/li&gt;
&lt;li&gt;Deactivate &lt;code&gt;windows hypervisor platform&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Please uninstall DCE4W again.&lt;/li&gt;
&lt;li&gt;Boot PC&lt;/li&gt;
&lt;li&gt;Apparently win Hypervisor does not cover for hyper-v from this old Docker version!  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Yet a failed try: Trying to install hyper-v on win 10 home:  &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# https://answers.microsoft.com/en-us/windows/forum/all/hyper-v-is-missing/191e7c79-2c95-4417-b877-f40f6f856108&lt;/span&gt;
dism.exe /Online /Enable-Feature:Microsoft-Hyper-V /All

&lt;span class="c1"&gt;# Deployment Image Servicing and Management tool&lt;/span&gt;
&lt;span class="c1"&gt;# Version: 10.0.18362.900&lt;/span&gt;

&lt;span class="c1"&gt;# Image Version: 10.0.18362.1016&lt;/span&gt;

&lt;span class="c1"&gt;# Error: 0x800f080c&lt;/span&gt;

&lt;span class="c1"&gt;# Feature name Microsoft-Hyper-V is unknown.&lt;/span&gt;
&lt;span class="c1"&gt;# A Windows feature name was not recognized.&lt;/span&gt;
&lt;span class="c1"&gt;# Use the /Get-Features option to find the name of the feature in the image and try the command again.&lt;/span&gt;

&lt;span class="c1"&gt;# The DISM log file can be found at C:\windows\Logs\DISM\dism.log&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Status:&lt;br&gt;
I could not install Hyper-V on the Windows 10 Home! It requires Pro or more.&lt;br&gt;
So I could choose between running on VirtualBox or update Windows so I could run on WSL2.&lt;br&gt;
I thought that now I had already wasted much time, then I could just as well go for the trouble and install WSL2:  &lt;/p&gt;
&lt;p&gt;Install WSL2:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/software-download/windows10"&gt;Download Windows 10 may 2020 update (v 2004)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Click Update Now - this takes a loooong time.&lt;/li&gt;
&lt;li&gt;Boot the PC&lt;/li&gt;
&lt;li&gt;Now running os 10.0.19041.423 &lt;a href="https://docs.microsoft.com/en-us/windows/release-information/"&gt;v2004&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;OK, another Hypervisor needs to be activated - Activate the &lt;code&gt;Virtual Machine Platform&lt;/code&gt; feature.
&lt;img alt="Activate Virtual Machine Platform" src="../img/2020/2020-09-06-OpenFaaS11.PNG" title="Activate Virtual Machine Platform"&gt;&lt;/li&gt;
&lt;li&gt;Boot the PC&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next install Docker Desktop:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/release-notes/#docker-desktop-community-2304"&gt;Download DD4W v.2.3.0.4&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Choose to enable WSL2&lt;br&gt;
&lt;img alt="Enable WSL2" src="../img/2020/2020-09-06-OpenFaaS12.PNG" title="Enable WSL2"&gt;  &lt;/li&gt;
&lt;li&gt;Boot the PC&lt;/li&gt;
&lt;li&gt;WSL2 is now enabled&lt;br&gt;
&lt;img alt="WSL2 enabled" src="../img/2020/2020-09-06-OpenFaaS15.PNG" title="WSL2 enabled"&gt;  &lt;/li&gt;
&lt;li&gt;Now you are told to &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-kernel"&gt;Update the WSL2 Linux kernel&lt;/a&gt;&lt;br&gt;
&lt;img alt="Update Linux kernel" src="../img/2020/2020-09-06-OpenFaaS13.PNG" title="Update Linux kernel"&gt;  &lt;/li&gt;
&lt;li&gt;From the link you enter a web, where you can download the X64 update. When you execute it, you see&lt;br&gt;
&lt;img alt="WSL2 Update wiz" src="../img/2020/2020-09-06-OpenFaaS14.PNG" title="WSL2 Update wiz"&gt;  &lt;/li&gt;
&lt;li&gt;Now press &lt;code&gt;Restart&lt;/code&gt; - This restarts DD4W - and now it will come up in state &lt;code&gt;runnning&lt;/code&gt;. You can see it in the taskbar.
&lt;img alt="DD4W running" src="../img/2020/2020-09-06-OpenFaaS17.PNG" title="DD4W running"&gt;  &lt;/li&gt;
&lt;li&gt;There is a new &lt;code&gt;virtual network adapter (WSL)&lt;/code&gt;. Before - with Hyper-V there were two: &lt;code&gt;Default switch&lt;/code&gt; and &lt;code&gt;DockerNAT&lt;/code&gt;&lt;br&gt;
&lt;img alt="WSL virtual network adapter" src="../img/2020/2020-09-06-OpenFaaS19.PNG" title="WSL virtual network adapter"&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Check that Docker is installed&lt;/span&gt;
docker -v
&lt;span class="c1"&gt;# Docker version 19.03.12, build 48a66213fe&lt;/span&gt;

&lt;span class="c1"&gt;# Check WSL modes (1 or 2):&lt;/span&gt;
wsl -l -v
&lt;span class="c1"&gt;#   NAME                   STATE           VERSION&lt;/span&gt;
&lt;span class="c1"&gt;# * docker-desktop         Running         2&lt;/span&gt;
&lt;span class="c1"&gt;#   docker-desktop-data    Running         2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Some extra tips:   &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Visual Studio Code recommends to install &lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl"&gt;Remote - WSL extension&lt;/a&gt;&lt;br&gt;
&lt;img alt="VSCode WSL extension" src="../img/2020/2020-09-06-OpenFaaS16.PNG" title="VSCode WSL extension"&gt;  &lt;/li&gt;
&lt;li&gt;This enables you to start a terminal into the Linux machines running in WSL2&lt;br&gt;
&lt;img alt="Connect to WSL2 machines" src="../img/2020/2020-09-06-OpenFaaS18.PNG" title="Connect to WSL2 machines"&gt;  &lt;/li&gt;
&lt;li&gt;In DD4W settings you see that with Win Home you can only run in WSL2 (opposed to Hyper-V or VirtualBox). We know that - we had to update Win 10 to v2004 in order to install DD4W!&lt;br&gt;
&lt;img alt="DD4W settings" src="../img/2020/2020-09-06-OpenFaaS20.PNG" title="DD4W settings"&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Great - Docker is running on WSL2 now.  &lt;/p&gt;
&lt;h1&gt;Using Docker&lt;/h1&gt;
&lt;p&gt;I'll follow up on using Docker in another blog. Here I'll just remind you that you need somewhere to get Docker images from.  &lt;/p&gt;
&lt;h2&gt;Connect to an Image Registry - DockerHub&lt;/h2&gt;
&lt;p&gt;When using Docker you need an image registry to read base images from and to save your images to.
I'll just use the public and free &lt;strong&gt;Docker hub&lt;/strong&gt;.&lt;br&gt;
If you don't have an account then create one.  &lt;/p&gt;
&lt;p&gt;&lt;img alt="SignIn to DockerHub" src="../img/2020/2020-09-06-OpenFaaS21.PNG" title="SignIn to DockerHub"&gt;  &lt;/p&gt;
&lt;h1&gt;Using WSL2&lt;/h1&gt;
&lt;p&gt;WSL not only gives Linux distros hosting Docker.&lt;br&gt;
It also gives you possibility to host other Linux distros - for instance if you want to develop inside a Linix disto running in WSL on Windows.  &lt;/p&gt;
&lt;h2&gt;Develop remote in WSL2 with Docker&lt;/h2&gt;
&lt;p&gt;A development strategy - here just an experiment.  &lt;/p&gt;
&lt;p&gt;If you have the need of developing in Linux then you can use WSL as your DevBox - cool, if you need that.  &lt;br&gt;
I had an idea of developing in the Linux CentOS distro, since it is where the community edition of OpenShift is installed by default (or that is something like that I think it is).&lt;br&gt;
Here is where that brought me:  &lt;/p&gt;
&lt;p&gt;By using workflow &lt;a href="https://docs.docker.com/docker-for-windows/wsl/#develop-with-docker-and-wsl-2"&gt;Develop with Docker and WSL2&lt;/a&gt; then you work with VSCode in your default Linux distro running in WSL2.&lt;br&gt;
Using VSCode extention &lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl"&gt;Remote - WSL&lt;/a&gt; then you can get a remote CLI into your linux distro by typing &lt;code&gt;wsl&lt;/code&gt; (and &lt;code&gt;exit&lt;/code&gt; to get back locally).&lt;br&gt;
From the remote CLI you startup vscode just as when you work locally: &lt;code&gt;code .&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Choosing and installing a Linux Distro&lt;/h3&gt;
&lt;p&gt;But you might be missing a WSL2 distro - I did:
&lt;img alt="Missing WSL2 distro" src="../img/2020/2020-09-06-OpenFaaS22.PNG" title="Missing WSL2 distro"&gt;&lt;br&gt;
There is a small &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10#install-your-linux-distribution-of-choice"&gt;selection of distros&lt;/a&gt;.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Most of all I wanted a CenOS distro, since I want to have OpenShift in it and CentOS is the RedHat community version coming with OpenShift.  &lt;/li&gt;
&lt;li&gt;There is &lt;a href="https://www.microsoft.com/da-dk/p/pengwin-enterprise/9n8lp0x93vcp?rtc=1&amp;amp;activetab=pivot:overviewtab"&gt;Pengwin Enterprise&lt;/a&gt; based on CentOS, but what - now Microsoft wants me to pay for Linúx???&lt;br&gt;
And also Biz users are required to get a Red Hat Enterprise Linux subscription, when using it.  &lt;/li&gt;
&lt;li&gt;I'll go for 2nd best which is &lt;a href="https://en.wikipedia.org/wiki/List_of_Linux_distributions#RPM-based"&gt;another RPM based distro&lt;/a&gt;.  &lt;/li&gt;
&lt;li&gt;I can choose between Fedora and OpenSuse.
Also &lt;a href="https://www.microsoft.com/da-dk/p/fedora-remix-for-wsl/9n6gdm4k2hnc?rtc=1&amp;amp;activetab=pivot:overviewtab"&gt;Fedora Remix for WSL&lt;/a&gt; is not free....  &lt;/li&gt;
&lt;li&gt;So remaining is &lt;a href="https://www.microsoft.com/da-dk/p/opensuse-leap-15-1/9njfzk00fgkv?rtc=1&amp;amp;activetab=pivot:overviewtab"&gt;openSUSE-Leap-15-1&lt;/a&gt;, which still is free.  &lt;/li&gt;
&lt;li&gt;Also there are two SUSE Enterprise for free.  &lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;A little sidestep to OpenShift&lt;/h3&gt;
&lt;p&gt;As an alternative to have CentOS there are&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.openshift.com/blog/guide-to-installing-an-okd-4-4-cluster-on-your-home-lab"&gt;Guide to Installing an OKD 4.4 Cluster on your Home Lab&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://itnext.io/guide-installing-an-okd-4-5-cluster-508a2631cbee"&gt;Installing an OKD 4.5 Cluster&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://computingforgeeks.com/setup-openshift-origin-local-cluster-on-centos/"&gt;Setup Local OpenShift Origin (OKD) Cluster on CentOS 7&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://www.okd.io/"&gt;OKD - The Community Distribution of Kubernetes that powers Red Hat OpenShift.&lt;/a&gt; (before: openshift.org)&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://kubic.opensuse.org/"&gt;openSUSE Kubic&lt;/a&gt; container manager&lt;ul&gt;
&lt;li&gt;Install &lt;a href="https://hackweek.suse.com/17/projects/openshift-origin-on-kubic?"&gt;OpenShift Origin on Kubic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Kubic is using &lt;a href="https://cri-o.io/"&gt;cri-o&lt;/a&gt; container runtime&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://software.opensuse.org/package/rubygem-rhc"&gt;OpenShift Client Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://computingforgeeks.com/how-to-setup-openshift-origin-on-ubuntu/"&gt;Setup OpenShift Origin (OKD) on Ubuntu 19.04/18.04/16.04&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.techrepublic.com/article/how-to-install-openshift-origin-on-ubuntu-18-04/"&gt;Install OpenShift Origin on Ubuntu 18.04&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And perhaps this could be of interest&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Yet another pod manager &lt;a href="https://podman.io/getting-started/installation.html"&gt;Podman Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.infoworld.com/article/3265059/10-kubernetes-distributions-leading-the-container-revolution.html"&gt;10 Kubernetes distributions leading the container revolution&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Install a WSL distro&lt;/h3&gt;
&lt;p&gt;&lt;img alt="Installing WSL2 distro" src="../img/2020/2020-09-06-OpenFaaS23.PNG" title="Installing WSL2 distro"&gt;&lt;br&gt;
Note: You have to give this WSL PC a default username and psw - just like your Windows box.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wsl -l -v
&lt;span class="c1"&gt;#   NAME                   STATE           VERSION&lt;/span&gt;
&lt;span class="c1"&gt;# * docker-desktop         Running         2      &lt;/span&gt;
&lt;span class="c1"&gt;#   docker-desktop-data    Running         2      &lt;/span&gt;
&lt;span class="c1"&gt;#   openSUSE-Leap-15-1     Running         1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hmm - Suse is not running wsl2 and is not default&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# future WSLs will be v2&lt;/span&gt;
wsl --set-default-version &lt;span class="m"&gt;2&lt;/span&gt;

&lt;span class="c1"&gt;# set suse v2&lt;/span&gt;
wsl --set-version openSUSE-Leap-15-1 &lt;span class="m"&gt;2&lt;/span&gt;
&lt;span class="c1"&gt;# Conversion in progress, this may take a few minutes...&lt;/span&gt;
&lt;span class="c1"&gt;# For information on key differences with WSL 2 please visit https://aka.ms/wsl2&lt;/span&gt;
&lt;span class="c1"&gt;# Conversion complete.&lt;/span&gt;

&lt;span class="c1"&gt;# so what is status now?&lt;/span&gt;
wsl -l -v
&lt;span class="c1"&gt;#   NAME                   STATE           VERSION&lt;/span&gt;
&lt;span class="c1"&gt;#   openSUSE-Leap-15-1     Stopped         2&lt;/span&gt;

&lt;span class="c1"&gt;# Please help&lt;/span&gt;
wsl -h
&lt;span class="c1"&gt;# Usage: wsl.exe [Argument] [Options...] [CommandLine]&lt;/span&gt;
&lt;span class="c1"&gt;# Options:&lt;/span&gt;
&lt;span class="c1"&gt;#     --distribution, -d &amp;lt;Distro&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#         Run the specified distribution.&lt;/span&gt;

&lt;span class="c1"&gt;# Arguments for managing Windows Subsystem for Linux:&lt;/span&gt;
&lt;span class="c1"&gt;#     --set-default, -s &amp;lt;Distro&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#         Sets the distribution as the default.&lt;/span&gt;

&lt;span class="c1"&gt;# set suse default and start it&lt;/span&gt;
wsl --set-default openSUSE-Leap-15-1

&lt;span class="c1"&gt;# so what is status now?&lt;/span&gt;
wsl -l -v
&lt;span class="c1"&gt;#   NAME                   STATE           VERSION&lt;/span&gt;
&lt;span class="c1"&gt;# * openSUSE-Leap-15-1     Running         2&lt;/span&gt;

&lt;span class="c1"&gt;# Now you can enter your default SUSE wsl just by typing&lt;/span&gt;
wsl
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Note about sharing folders&lt;/h3&gt;
&lt;p&gt;Notice the local folder in Windows is mounted inside the Linux distro,&lt;br&gt;
so you are able to work from Linux on your files in your Windows drive.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rasorwin@MYPC&amp;gt; &lt;span class="c1"&gt;# Now in Windows&lt;/span&gt;
rasorwin@MYPC❯ wsl &lt;span class="c1"&gt;# Enter SUSE &lt;/span&gt;
rasorsuse@MYPC:/mnt/c/Users/rasorwin&amp;gt; &lt;span class="nb"&gt;cd&lt;/span&gt; .. &lt;span class="c1"&gt;# Notice current dir is in windows&lt;/span&gt;
rasorsuse@MYPC:/mnt/c/Users&amp;gt; ls
All Users  Default  Default User  desktop.ini  Public  rasorwin
rasorsuse@MYPC:/mnt/c/Users&amp;gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="c1"&gt;# Go back into windows&lt;/span&gt;
&lt;span class="nb"&gt;logout&lt;/span&gt;
rasorwin@MYPC&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Best practice for &lt;strong&gt;sharing folders&lt;/strong&gt; are not sharing windows into linux, but instead &lt;a href="https://docs.docker.com/docker-for-windows/wsl/#best-practices"&gt;sharing linux out to windows&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Docker integration&lt;/h3&gt;
&lt;p&gt;Going back in docker - Press Refresh - then you will also see your OpenSuse installed&lt;br&gt;
&lt;img alt="WSL2 distro installed" src="../img/2020/2020-09-06-OpenFaaS24.PNG" title="WSL2 distro installed"&gt;&lt;br&gt;
you don't have to enable integration there, since you have set it default and you have enabled integration to default distro.&lt;/p&gt;
&lt;h1&gt;USeful Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/install-windows-home/"&gt;Install Docker Desktop on Windows Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/docker-for-windows/faqs/"&gt;DD4W Frequently asked questions (FAQ)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Deploy containers to cloud without k8s:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/context/aci-integration/"&gt;Deploying Docker containers on Azure ACI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/context/ecs-integration/"&gt;Deploying Docker containers on Amazon ECS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#docker"></category><category term="#hyperv"></category><category term="#virtualbox"></category><category term="#openfaas"></category><category term="#kitematic"></category><category term="#wsl2"></category><category term="#win10"></category><category term="#virtualmachineplatform"></category></entry><entry><title>Neo4j on Windows</title><link href="https://rasor.github.io/neo4j-on-windows.html" rel="alternate"></link><published>2019-05-08T00:00:00+02:00</published><updated>2019-05-15T00:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2019-05-08:/neo4j-on-windows.html</id><summary type="html">&lt;p&gt;Time for me to play with Neo4j. I have a project, where a graph DB makes most sense. In this blog I'll install Neo4j on Windows.&lt;br&gt;
First I'll install a docker version. It might come handy in deployment case.&lt;br&gt;
Next I'll install a Desktop version to get a GUI both …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Time for me to play with Neo4j. I have a project, where a graph DB makes most sense. In this blog I'll install Neo4j on Windows.&lt;br&gt;
First I'll install a docker version. It might come handy in deployment case.&lt;br&gt;
Next I'll install a Desktop version to get a GUI both for management, but mostly for a data editing interface.  &lt;/p&gt;
&lt;h2&gt;Neo4j - editions&lt;/h2&gt;
&lt;p&gt;So what is out there to install?&lt;/p&gt;
&lt;p&gt;On the &lt;a href="https://neo4j.com/download-center/"&gt;Neo4j Download&lt;/a&gt; page you have options to download &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;two server versions, &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Enterprise&lt;/strong&gt; or &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Community&lt;/strong&gt;. You also have option of downloading &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;a &lt;strong&gt;Desktop&lt;/strong&gt; version with a &lt;strong&gt;GUI&lt;/strong&gt; included.&lt;/li&gt;
&lt;li&gt;A Cypher &lt;strong&gt;CLI&lt;/strong&gt; is a separate install.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://neo4j.com/developer/kb/using-neo4j-shell-neo4j-ce-3x/"&gt;Neo4j KB article&lt;/a&gt; talks about &lt;strong&gt;CLIs&lt;/strong&gt;. There you find a handy script for a Neo4j &lt;strong&gt;docker container&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;From the the download page I'll grap&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Neo4j Desktop&lt;/li&gt;
&lt;li&gt;SDK for JavaScript and possibly some plugins&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;From the KB article I'll grap the Neo4j Docker script and modify it a bit.&lt;/p&gt;
&lt;h2&gt;Install Docker Container edition&lt;/h2&gt;
&lt;p&gt;From &lt;a href="https://neo4j.com/developer/kb/using-neo4j-shell-neo4j-ce-3x/"&gt;Neo4j KB article&lt;/a&gt; you'll find this script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Script from https://neo4j.com/developer/kb/using-neo4j-shell-neo4j-ce-3x/&lt;/span&gt;
docker pull neo4j
&lt;span class="nv"&gt;CONTAINER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;docker run -d --name neo4j -p &lt;span class="m"&gt;7474&lt;/span&gt;:7474 -v /path/to/data:/data -v /path/to/csv-files:/var/lib/neo4j/import neo4j&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Running Neo4j as &lt;/span&gt;&lt;span class="nv"&gt;$CONTAINER&lt;/span&gt;&lt;span class="s2"&gt;, waiting for startup&amp;quot;&lt;/span&gt;
sleep &lt;span class="m"&gt;10&lt;/span&gt;
&lt;span class="c1"&gt;# to import a file from `/path/to/csv-files/import.cypher`&lt;/span&gt;
docker &lt;span class="nb"&gt;exec&lt;/span&gt; &lt;span class="nv"&gt;$CONTAINER&lt;/span&gt; /var/lib/neo4j/bin/neo4j-shell -f /var/lib/neo4j/import/import.cypher
&lt;span class="c1"&gt;# or for interactive mode&lt;/span&gt;
docker &lt;span class="nb"&gt;exec&lt;/span&gt; -ti &lt;span class="nv"&gt;$CONTAINER&lt;/span&gt; /var/lib/neo4j/bin/neo4j-shell
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here is what I modified it to on Windows:  &lt;/p&gt;
&lt;p&gt;From CMD: (Run as admin)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Set envir for Neo4j database files - notice folder format is not Linux, though it will be used from GIT BASH&lt;/span&gt;
setx NEO_DATA &lt;span class="s2"&gt;&amp;quot;C:\Users\user\ItData\neodata\neo4jDatabases&amp;quot;&lt;/span&gt; /M
&lt;span class="c1"&gt;# SUCCESS: Specified value was saved.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;From Git Bash:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Optionally do some cleanup:&lt;/span&gt;
docker system prune
&lt;span class="c1"&gt;# WARNING! This will remove:&lt;/span&gt;
&lt;span class="c1"&gt;#         - all stopped containers&lt;/span&gt;
&lt;span class="c1"&gt;#         - all networks not used by at least one container&lt;/span&gt;
&lt;span class="c1"&gt;#         - all dangling images&lt;/span&gt;
&lt;span class="c1"&gt;#         - all dangling build cache&lt;/span&gt;
&lt;span class="c1"&gt;# Are you sure you want to continue? [y/N] y&lt;/span&gt;

&lt;span class="c1"&gt;# Download image from docker hub&lt;/span&gt;
&lt;span class="c1"&gt;# 3.5.5 is currently latest neo4j image&lt;/span&gt;
docker pull neo4j:3.5.5
&lt;span class="c1"&gt;# ...&lt;/span&gt;
&lt;span class="c1"&gt;# Status: Downloaded newer image for neo4j:3.5.5&lt;/span&gt;

&lt;span class="c1"&gt;# Verify envir&lt;/span&gt;
printenv &lt;span class="p"&gt;|&lt;/span&gt; grep NEO
&lt;span class="c1"&gt;# NEO_DATA_BASH=C:\Users\user\ItData\neodata&lt;/span&gt;

&lt;span class="c1"&gt;# Create folder for the container and for CYPHER CSV imports&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$NEO_DATA&lt;/span&gt;
mkdir docker-container1 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; docker-container1 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mkdir import &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mkdir data

&lt;span class="c1"&gt;# Start Docker&lt;/span&gt;

&lt;span class="c1"&gt;# Map a DB data folder and an CSV import folder on your PC for a Neo4j container and start it&lt;/span&gt;
&lt;span class="c1"&gt;# https://neo4j.com/docs/operations-manual/current/docker/introduction/#docker-volumes&lt;/span&gt;
&lt;span class="nv"&gt;CONTAINER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;docker run -d --name neo4j -p &lt;span class="m"&gt;7474&lt;/span&gt;:7474 -v &lt;span class="nv"&gt;$NEO_DATA&lt;/span&gt;/docker-container1/data:/data -v &lt;span class="nv"&gt;$NEO_DATA&lt;/span&gt;/docker-container1/import:/var/lib/neo4j/import neo4j&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Running Neo4j as &lt;/span&gt;&lt;span class="nv"&gt;$CONTAINER&lt;/span&gt;&lt;span class="s2"&gt;, waiting for startup&amp;quot;&lt;/span&gt;
sleep &lt;span class="m"&gt;10&lt;/span&gt;

&lt;span class="c1"&gt;# iIs it running?&lt;/span&gt;
docker ps
&lt;span class="c1"&gt;# CONTAINER ID        IMAGE                         COMMAND                  CREATED              STATUS              PORTS                                        NAMES&lt;/span&gt;
&lt;span class="c1"&gt;# 95f89a2b0956        neo4j                         &amp;quot;/sbin/tini -g -- /d…&amp;quot;   About a minute ago   Up About a minute   7473/tcp, 7687/tcp, 0.0.0.0:7474-&amp;gt;7474/tcp   neo4j&lt;/span&gt;

&lt;span class="c1"&gt;# Whats in its log? &lt;/span&gt;
docker logs neo4j
&lt;span class="c1"&gt;# Active database: graph.db&lt;/span&gt;
&lt;span class="c1"&gt;# Directories in use:&lt;/span&gt;
&lt;span class="c1"&gt;#   home:         /var/lib/neo4j&lt;/span&gt;
&lt;span class="c1"&gt;#   config:       /var/lib/neo4j/conf&lt;/span&gt;
&lt;span class="c1"&gt;#   logs:         /logs&lt;/span&gt;
&lt;span class="c1"&gt;#   plugins:      /var/lib/neo4j/plugins&lt;/span&gt;
&lt;span class="c1"&gt;#   import:       /var/lib/neo4j/import&lt;/span&gt;
&lt;span class="c1"&gt;#   data:         /var/lib/neo4j/data&lt;/span&gt;
&lt;span class="c1"&gt;#   certificates: /var/lib/neo4j/certificates&lt;/span&gt;
&lt;span class="c1"&gt;#   run:          /var/lib/neo4j/run&lt;/span&gt;
&lt;span class="c1"&gt;# Starting Neo4j.&lt;/span&gt;

&lt;span class="c1"&gt;# So when container was started it created a DB with&lt;/span&gt;

&lt;span class="c1"&gt;# to import a file from `$NEO_DATA_BASH/import/import.cypher`&lt;/span&gt;
&lt;span class="c1"&gt;# docker exec $CONTAINER /var/lib/neo4j/bin/neo4j-shell -f /var/lib/neo4j/import/import.cypher&lt;/span&gt;

&lt;span class="c1"&gt;# or for interactive mode&lt;/span&gt;
docker &lt;span class="nb"&gt;exec&lt;/span&gt; -ti &lt;span class="nv"&gt;$CONTAINER&lt;/span&gt; /var/lib/neo4j/bin/neo4j-shell
&lt;span class="c1"&gt;# the input device is not a TTY.  If you are using mintty, try prefixing the command with &amp;#39;winpty&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Annoying could not connect - the one fix I know is to repeat the command from the PS1 Docker CLI, which you can start from Kitematic or directly from Kitematic&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;From Kitematic:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select the &lt;strong&gt;neo4j&lt;/strong&gt; container&lt;/li&gt;
&lt;li&gt;Press &lt;strong&gt;EXEC&lt;/strong&gt; icon&lt;ul&gt;
&lt;li&gt;This will open a PS1 prompt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# where are we?&lt;/span&gt;
&lt;span class="nb"&gt;pwd&lt;/span&gt;
&lt;span class="c"&gt;# /var/lib/neo4j&lt;/span&gt;

&lt;span class="c"&gt;# What is the version?&lt;/span&gt;
&lt;span class="p"&gt;./&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;neo4j&lt;/span&gt; &lt;span class="p"&gt;-&lt;/span&gt;&lt;span class="n"&gt;-version&lt;/span&gt;
&lt;span class="c"&gt;# neo4j 3.5.5&lt;/span&gt;

&lt;span class="c"&gt;# now run the shell from here - neo4j-shell is now cypher-shell&lt;/span&gt;
&lt;span class="p"&gt;./&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cypher-shell&lt;/span&gt;
&lt;span class="c"&gt;# username: neo4j&lt;/span&gt;
&lt;span class="c"&gt;# password: neo4j&lt;/span&gt;
&lt;span class="c"&gt;# Connected to Neo4j 3.5.5 at bolt://localhost:7687 as user neo4j.&lt;/span&gt;
&lt;span class="c"&gt;# Type :help for a list of available commands or :exit to exit the shell.&lt;/span&gt;
&lt;span class="c"&gt;# Note that Cypher queries must end with a semicolon.&lt;/span&gt;
&lt;span class="c"&gt;# neo4j&amp;gt;&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;
&lt;span class="c"&gt;# Available commands:&lt;/span&gt;
&lt;span class="c"&gt;#   :begin    Open a transaction&lt;/span&gt;
&lt;span class="c"&gt;#   :commit   Commit the currently open transaction&lt;/span&gt;
&lt;span class="c"&gt;#   :exit     Exit the logger&lt;/span&gt;
&lt;span class="c"&gt;#   :help     Show this help message&lt;/span&gt;
&lt;span class="c"&gt;#   :history  Print a list of the last commands executed&lt;/span&gt;
&lt;span class="c"&gt;#   :param    Set the value of a query parameter&lt;/span&gt;
&lt;span class="c"&gt;#   :params   Prints all currently set query parameters and their values&lt;/span&gt;
&lt;span class="c"&gt;#   :rollback Rollback the currently open transaction&lt;/span&gt;
&lt;span class="c"&gt;# For help on a specific command type:&lt;/span&gt;
&lt;span class="c"&gt;#     :help command&lt;/span&gt;
&lt;span class="c"&gt;# For help on cypher please visit:&lt;/span&gt;
&lt;span class="c"&gt;#     https://neo4j.com/docs/developer-manual/current/cypher/&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;When you are done using the shell you can just close it with Alt+F5.&lt;br&gt;
When you are done with using the DB, you can stop it from GIT BASH&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker stop neo4j
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;More info on &lt;a href="https://hub.docker.com/_/neo4j?tab=description"&gt;Docker Hub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Even more on &lt;a href="https://neo4j.com/docs/operations-manual/current/docker/"&gt;Docker - The Neo4j Operations Manual v3.5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Tutorial: &lt;a href="https://neo4j.com/developer/guide-importing-data-and-etl/"&gt;Neo4j Data Import: Moving Data from RDBMS to Graph&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Windows Desktop edition&lt;/h2&gt;
&lt;p&gt;It is still nice to have the Desktop edition. You get the browser and you can connect to the docker DB.&lt;/p&gt;
&lt;h3&gt;Install Neo4j Desktop&lt;/h3&gt;
&lt;p&gt;You can install Neo4j for personal use into&lt;br&gt;
&lt;code&gt;C:\Users\user\AppData\Local\Programs\Neo4j Desktop&lt;/code&gt;&lt;br&gt;
or for all users into&lt;br&gt;
&lt;code&gt;C:\Program Files\Neo4j Desktop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The default place it wants to place your data is 
&lt;code&gt;C:\Users\user\.Neo4jDesktop&lt;/code&gt;&lt;br&gt;
I want it shared with my docker install into&lt;br&gt;
&lt;code&gt;C:\Users\user\ItData\neodata&lt;/code&gt;&lt;br&gt;
Warnings: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When you uninstall neo4j it will delete the whole folder, but you can choose option to backup, so you still have the data for e.g. your docker container&lt;/li&gt;
&lt;li&gt;In some countries you will get message &lt;code&gt;You are not online so you can not 'Register via Social Login'&lt;/code&gt;, when starting Neo4j. &lt;ul&gt;
&lt;li&gt;Solution A: Use VPN to get access from another country.&lt;/li&gt;
&lt;li&gt;Solution B: Work offline (if that is enough). For development it probably is. You can also get an activation key via email. You'll get this supportive message: &lt;code&gt;Your friendly neighborhood Neo4j representative can get an activation key for you. If you're not sure who to call send an inquiry to info@neo4j.com&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Create a local graph DB&lt;/h3&gt;
&lt;p&gt;You can connect towards an exiting local or remote graph DB - or you can create a new local one.&lt;br&gt;
Since the docker uses same port you should stop it first&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker stop neo4j
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To create a new local graph DB &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Click on &lt;code&gt;Add Graph&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;You can now create a local graph or connect to a remote one. You could have started the container and have connected towards that one&lt;/li&gt;
&lt;li&gt;Instead - Create the local one (I am just exploring anyway) &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Give it a name, a password and click &lt;code&gt;Create&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I called this one &lt;code&gt;NeoGraphTest1&lt;/code&gt;&lt;br&gt;
&lt;img alt="Add local DB" src="img/2019/2019-05-07-Neo4j01.PNG"&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This will create the DB in a folder below what you chose during installation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In my case the DB is in &lt;code&gt;\neodata\neo4jDatabases\database-876bd4d5-067b-4558-8793-8cebca8e06e1\installation-3.5.2\data\databases\graph.db&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;So that is why I put the container data folder into &lt;code&gt;\neodata\neo4jDatabases\container1\data&lt;/code&gt;. This keeps it separated in the same level except that I have left out the installation version. If I needed that I would instead have called the folder &lt;code&gt;\container1-3.5.5\&lt;/code&gt;. &lt;/li&gt;
&lt;li&gt;The level &lt;code&gt;\database-876bd4d5-067b-4558-8793-8cebca8e06e1\installation-3.5.2&lt;/code&gt; gives you the content of &lt;code&gt;NeoGraphTest1&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;It has all the files as the container has including &lt;code&gt;\bin\&lt;/code&gt; folder - but these are the Windows files opposed to the Linux files in the container&lt;br&gt;
&lt;img alt="DB folder" src="img/2019/2019-05-07-Neo4j02.PNG"&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The new DB is stopped. You can start it from the &lt;strong&gt;project page&lt;/strong&gt; or you can press &lt;code&gt;Manage&lt;/code&gt; to enter the &lt;strong&gt;DB page&lt;/strong&gt; for &lt;code&gt;NeoGraphTest1&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On DB page you have a dashboard to a lot - most importantly to &lt;strong&gt;start&lt;/strong&gt; the DB and to connect to it with the &lt;strong&gt;Cypher Browser&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;Start&lt;/code&gt;&lt;br&gt;
&lt;img alt="Stopped DB" src="img/2019/2019-05-07-Neo4j03.PNG"&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;With the DB started you get to know the ports it&lt;br&gt;
&lt;img alt="Running DB" src="img/2019/2019-05-07-Neo4j04.PNG"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Connect to your docker container graph DB&lt;/h3&gt;
&lt;p&gt;The docker neo4j DB is easy to intall into cloud, so lets get aquainted with connecting to that as well.
Since the docker uses same port as &lt;code&gt;NeoGraphTest1&lt;/code&gt; you should stop &lt;code&gt;NeoGraphTest1&lt;/code&gt; first and start docker.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker start neo4j
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Just browse docker&lt;/h4&gt;
&lt;p&gt;To browse the docker Graph with Cypher&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;From Neo4j Desktop Click on &lt;code&gt;Neo4j Browser&lt;/code&gt;&lt;br&gt;
&lt;img alt="Browse remote DB" src="img/2019/2019-05-07-Neo4j06.PNG"&gt;&lt;br&gt;
A new window opens and complains that it can't connect to &lt;code&gt;bolt://localhost:7687&lt;/code&gt;.  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You need to help it with username/password.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;In the cypher prompt enter command &lt;code&gt;:server connect neo4j neo4j&lt;/code&gt;&lt;br&gt;
&lt;img alt="Connect to remote DB" src="img/2019/2019-05-07-Neo4j07.PNG"&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The response is displayed in a box below. If you are connected, then just press &lt;code&gt;X&lt;/code&gt; to cleanup.&lt;br&gt;
&lt;img alt="Connect response" src="img/2019/2019-05-07-Neo4j08.PNG"&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When you are done you can &lt;code&gt;:server disconnect&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Save the docker browser&lt;/h4&gt;
&lt;p&gt;You could also save the link to the docker Graph just as &lt;code&gt;NeoGraphTest1&lt;/code&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;From Neo4j Desktop Click on &lt;code&gt;Add Graph&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;Connect to Remote&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Name: &lt;code&gt;NeoContainer1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Url: &lt;code&gt;bolt://localhost:7687&lt;/code&gt;&lt;br&gt;
&lt;img alt="Add remote DB" src="img/2019/2019-05-07-Neo4j05.PNG"&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Press &lt;code&gt;Username/Password&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;User: &lt;code&gt;neo4j&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Password: &lt;code&gt;neo4j&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;Connect&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Press &lt;code&gt;Start&lt;/code&gt;&lt;br&gt;
&lt;img alt="Connected remote DB" src="img/2019/2019-05-07-Neo4j09.PNG"&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Press &lt;code&gt;Open Browser&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Notes:   &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;After restarting the container at one point I hade to add the port 7687 in Kitematic to be able to connect&lt;/li&gt;
&lt;li&gt;When you connect to the container remotely you also have to change the default password from &lt;code&gt;neo4j&lt;/code&gt; after opening it in the browser&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Installation Guides&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://neo4j.com/docs/operations-manual/current/installation/windows/"&gt;2.5. Windows installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://neo4j.com/download-thanks-desktop/?edition=desktop&amp;amp;flavour=windows&amp;amp;release=1.1.21&amp;amp;offline=true"&gt;Neo4j Desktop&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;What's next?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Play with Cypher to add and read some data&lt;/li&gt;
&lt;li&gt;Create some code to interact with the data&lt;/li&gt;
&lt;li&gt;Change ports on local DB, so it doesn't collide with the docker DB.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Learn and Communities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://community.neo4j.com/"&gt;Neo4j Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Cypher:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://neo4j.com/developer/cypher-query-language/"&gt;Neo4j's Graph Query Language: An Introduction to Cypher&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.quackit.com/neo4j/tutorial/neo4j_create_a_node_using_cypher.cfm"&gt;Neo4j - Create a Node using Cypher&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;eBooks:&lt;ul&gt;
&lt;li&gt;&lt;a href="https://neo4j.com/books/"&gt;Neo4j Books: Free Graph Database Ebooks&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://neo4j.com/whitepapers/graph-databases-beginners-ebook/?ref=home"&gt;Graph Databases for Beginners - Neo4j Graph Database Platform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://neo4j.com/graph-algorithms-book/"&gt;O'Reilly Graph Algorithms Book - Neo4j Graph Database Platform&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#graphdb"></category><category term="#cypher"></category><category term="#neo4j"></category><category term="#docker"></category></entry><entry><title>VPN client - Download on IPhone - Copy to PC</title><link href="https://rasor.github.io/vpn-client-download-on-iphone-copy-to-pc.html" rel="alternate"></link><published>2019-05-06T00:00:00+02:00</published><updated>2019-07-13T00:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2019-05-06:/vpn-client-download-on-iphone-copy-to-pc.html</id><summary type="html">&lt;p&gt;While writing this blog I am in China. I have an immediate need for VPN, since so much SW and websites are dependent on the websites, which are barred in China.
I can install VPN clients on IPhone from AppStore, but I can't install VPN client on PC, since I …&lt;/p&gt;</summary><content type="html">&lt;p&gt;While writing this blog I am in China. I have an immediate need for VPN, since so much SW and websites are dependent on the websites, which are barred in China.
I can install VPN clients on IPhone from AppStore, but I can't install VPN client on PC, since I can't reach the sites from China. So here is a fix.&lt;/p&gt;
&lt;h2&gt;Download VPN client on IPhone - and Copy it to PC&lt;/h2&gt;
&lt;p&gt;If you can't download a VPN client to PC (due to restrictions in the country), then you can fetch the setup-file via IPhone:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;From AppStore install a &lt;strong&gt;VPN client&lt;/strong&gt; - e.g. Le VPN, Astrill, IPVanish&lt;/li&gt;
&lt;li&gt;Subscribe, start VPN, login and activate VPN&lt;ul&gt;
&lt;li&gt;Note: You will need to supply an email as userid - but also to receive VPN login details in.&lt;br&gt;
So you'll need an email provider that can be accessed from you country - so case of China you can use &lt;a href="https://outlook.live.com/owa/"&gt;Outlook.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;From AppStore install &lt;strong&gt;Firefox&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;From Firefox browse to the &lt;a href="https://www.le-vpn.com/vpn-windows/"&gt;VPN Download page&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Upload to &lt;strong&gt;cloud drive&lt;/strong&gt; e.g. ICloud, Onedrive, pCloud - you can do that with the app for the specific iCloud or with IPhone &lt;strong&gt;Files&lt;/strong&gt; app&lt;ul&gt;
&lt;li&gt;Download from Windows&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Or connect IPhone to PC with usb&lt;ul&gt;
&lt;li&gt;Use iTunes on PC to transfer file&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Choose VPN&lt;/h2&gt;
&lt;p&gt;I have not tested much of VPNs, so it is limited knowledge I can come with. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.astrill.com/"&gt;Astrill VPN&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Pros:&lt;ul&gt;
&lt;li&gt;Stays connected on the VPN even though you loose wifi or snoose your IPhone&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cons:&lt;ul&gt;
&lt;li&gt;Yearly charge - I need monthly - or less&lt;/li&gt;
&lt;li&gt;Low score on Trustpilot&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Info:&lt;ul&gt;
&lt;li&gt;I have not tested IPVanish from PC&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.le-vpn.com/"&gt;Le VPN&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Pros:&lt;ul&gt;
&lt;li&gt;One week trial account - with no payment&lt;/li&gt;
&lt;li&gt;Monthly charge - currently $10&lt;/li&gt;
&lt;li&gt;Subscription is not default. By default you only pay for one period.&lt;/li&gt;
&lt;li&gt;Can pay with Bitcoin (You don't have to supply your id through payment card)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cons:&lt;ul&gt;
&lt;li&gt;Disconnects the VPN when you loose wifi or snoose your IPhone&lt;/li&gt;
&lt;li&gt;On PC I have trouble finding VPN servers, that lets me connect (from China). It does not seem to be a problem from IPhone. I wonder what it is on the PC, that gives those differnces?&lt;/li&gt;
&lt;li&gt;Low score on Trustpilot&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ipvanish.com"&gt;IPVanish VPN&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Pros:&lt;ul&gt;
&lt;li&gt;Top score on Trustpilot&lt;/li&gt;
&lt;li&gt;Monthly charge&lt;/li&gt;
&lt;li&gt;1 year plan: $3,25/mo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cons:&lt;ul&gt;
&lt;li&gt;Subscription is default and mandatory. You will keep paying untill your card expires or you unsubscibe&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Info:&lt;ul&gt;
&lt;li&gt;I have not tested IPVanish&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.namecheap.com/vpn/"&gt;Namecheap VPN&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Pros:&lt;ul&gt;
&lt;li&gt;Cheap 3 year plan: $2/mo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cons:&lt;ul&gt;
&lt;li&gt;No Linux app&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.privateinternetaccess.com/"&gt;Private Internet Access&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Pros:&lt;ul&gt;
&lt;li&gt;2 year plan: $3½/mo&lt;/li&gt;
&lt;li&gt;Recommended by &lt;a href="https://tutanota.com/blog/posts/private-internet-access-pia/"&gt;TutaNota&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Opera &lt;a href="https://mashtips.com/enable-free-vpn-opera-browser-android/"&gt;How to Enable Free VPN on Opera Browser for Android | Mashtips&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Pros:&lt;ul&gt;
&lt;li&gt;Free&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cons:&lt;ul&gt;
&lt;li&gt;Probably only works with Opera Browser&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I have not not been choosing VPN for speed, privacy or security reasons, so there you have to do your own research.  &lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.trustpilot.com/categories/vpn_providers"&gt;Trustpilot VPN Providers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#vpn"></category><category term="#icloud"></category></entry><entry><title>OpenFaaS on Windows Devbox</title><link href="https://rasor.github.io/openfaas-on-windows-devbox.html" rel="alternate"></link><published>2019-03-29T00:00:00+01:00</published><updated>2019-10-19T00:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2019-03-29:/openfaas-on-windows-devbox.html</id><summary type="html">&lt;h1&gt;Running OpenFaas in Dev on Windows&lt;/h1&gt;
&lt;p&gt;Finally the time has arrived, when I'll start using &lt;a href="https://www.openfaas.com/"&gt;OpenFaas&lt;/a&gt;.&lt;br&gt;
I first heard about OpenFaaS at a meetup in May 2018, &lt;a href="https://www.meetup.com/GOTO-Nights-CPH/events/249895973/"&gt;6 Cloud Native Talks, 1 Evening: Special KubeCon + CloudNativeCon EU Meetup!&lt;/a&gt; by OpenFaaS creator, &lt;a href="https://github.com/alexellis"&gt;Alex Ellis&lt;/a&gt;.&lt;br&gt;
Next I bought the book &lt;a href="https://www.packtpub.com/virtualization-and-cloud/docker-serverless-applications"&gt;Docker for …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Running OpenFaas in Dev on Windows&lt;/h1&gt;
&lt;p&gt;Finally the time has arrived, when I'll start using &lt;a href="https://www.openfaas.com/"&gt;OpenFaas&lt;/a&gt;.&lt;br&gt;
I first heard about OpenFaaS at a meetup in May 2018, &lt;a href="https://www.meetup.com/GOTO-Nights-CPH/events/249895973/"&gt;6 Cloud Native Talks, 1 Evening: Special KubeCon + CloudNativeCon EU Meetup!&lt;/a&gt; by OpenFaaS creator, &lt;a href="https://github.com/alexellis"&gt;Alex Ellis&lt;/a&gt;.&lt;br&gt;
Next I bought the book &lt;a href="https://www.packtpub.com/virtualization-and-cloud/docker-serverless-applications"&gt;Docker for Serverless Applications&lt;/a&gt; (D4S) by &lt;a href="https://github.com/chanwit"&gt;Chanwit Kaewkasi&lt;/a&gt;, but only skimmed it. I highly recommed it!&lt;br&gt;
Now it is time to practice.&lt;/p&gt;
&lt;h2&gt;Why? - OpenFaaS vs Cloud Native Serverless&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://twitter.com/rasor/status/1111244201738620928"&gt;But how about&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Why not just use cloud native serverless?&lt;ul&gt;
&lt;li&gt;When you don't want the auto-kill feature.&lt;/li&gt;
&lt;li&gt;When you want serverless in you dev box&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You don't get pay-per-invocation?&lt;ul&gt;
&lt;li&gt;No you have to deploy a #k8s or #docker_swarm cluster. This can be as cheap by using #spot_instance s. @chanwits teach you how to do that.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You don't get seemless integration with cloud native services?&lt;ul&gt;
&lt;li&gt;No - but aren't you used to that when you integrate to the services from your dev box?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;How?&lt;/h2&gt;
&lt;p&gt;You can run OpenFaaS either on top of &lt;strong&gt;Kubernetes (k8s)&lt;/strong&gt; or &lt;strong&gt;Docker Swarm&lt;/strong&gt;.&lt;br&gt;
Info: k8s or swarm gives you a cluster of machines, and deployed an application to it, with containers running in concert on multiple machines.  &lt;/p&gt;
&lt;p&gt;&lt;img alt="OpenFaaS" src="https://pbs.twimg.com/media/DFrkF4NXoAAJwN2.jpg"&gt; (from OpenFaaS website).&lt;br&gt;
It comes with autoscaling features, logging and prometheus.&lt;/p&gt;
&lt;h3&gt;Production&lt;/h3&gt;
&lt;p&gt;For deploying to OpenFaaS to a &lt;strong&gt;cloud container cluster&lt;/strong&gt; there are some good guides on &lt;strong&gt;k8s&lt;/strong&gt; like &lt;a href="https://github.com/openfaas-incubator/ofc-bootstrap"&gt;ofc-bootstrap&lt;/a&gt;. I guess you are managing the cluster here.&lt;br&gt;
You can include the ofc-bootstrap in a &lt;a href="https://www.openfaas.com/blog/openfaas-cloud-gitlab/"&gt;GitLab DevOps workflow&lt;/a&gt;. This will use DigitalOcean (60 day trial in previous link), Google Cloud or AWS as cloud container cluster provider.&lt;/p&gt;
&lt;p&gt;There is also a great guide in the D4S book chapter 7, where Chanwit uses &lt;strong&gt;AWS spot instances&lt;/strong&gt; for running &lt;strong&gt;Swarm&lt;/strong&gt; worker nodes. This solution can &lt;strong&gt;keep the price as low as Native Serverless&lt;/strong&gt;, Chanwit claims. The challenge with spot instances is that you have to &lt;strong&gt;restart nodes&lt;/strong&gt;, when they are &lt;strong&gt;marked for termination&lt;/strong&gt;.&lt;br&gt;
In this guide you are managing the cluster.&lt;br&gt;
Chanwits &lt;a href="https://github.com/PacktPublishing/Docker-for-Serverless-Applications/tree/master/ch_operating"&gt;code is here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But OpenFaaS has build-in scaling and monitoring, so the managing part is limited.  &lt;/p&gt;
&lt;h3&gt;Development&lt;/h3&gt;
&lt;p&gt;For local deployment there are guides, too.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Swarm: &lt;a href="https://docs.openfaas.com/deployment/docker-swarm/"&gt;Docker Swarm - OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;k8s: &lt;a href="https://docs.openfaas.com/deployment/kubernetes/"&gt;Kubernetes - OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;D4W + k8s: &lt;a href="https://secanablog.wordpress.com/2018/06/10/run-your-own-faas-with-openfaas-and-net-core/"&gt;Run your own FaaS with OpenFaas and .Net Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;In the D4S book chapter 4 teaches you to deploy OpenFaaS on Swarm.&lt;br&gt;
Chanwits &lt;a href="https://github.com/PacktPublishing/Docker-for-Serverless-Applications/tree/master/ch_openfaas"&gt;code is here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Practice&lt;/h2&gt;
&lt;p&gt;I'll select &lt;strong&gt;Windows + Docker for Windows (D4W) + Hyper-V + Swarm&lt;/strong&gt;.&lt;br&gt;
On a Windows laptop you can run D4W on VirtualBox or Hyper-V hypervisor. I'll choose Hyper-V, since that was what I &lt;a href="https://rasor.github.io/docker-for-windows.html"&gt;used previously&lt;/a&gt;. Using &lt;a href="https://kitematic.com/"&gt;Kitematic&lt;/a&gt; you should be able to &lt;em&gt;swap from Hyper-V to VirtualBox&lt;/em&gt;.&lt;br&gt;
If you want to use VirtualBox you get it included with Kitematic in &lt;a href="https://docs.docker.com/toolbox/overview/"&gt;Docker Toolbox&lt;/a&gt;.&lt;br&gt;
My reason for choosing Swarm is that I think it is easier to getting started with. In D4W kubernetes settings you can &lt;em&gt;change from k8s to Swarm&lt;/em&gt; &lt;code&gt;docker stack&lt;/code&gt; commands - this is configured in &lt;code&gt;~\.docker\config.json&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;For a start I'll follow guide &lt;a href="https://docs.openfaas.com/deployment/docker-swarm/"&gt;Docker Swarm - OpenFaaS&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Pre-requisites&lt;/h3&gt;
&lt;p&gt;Here is what you need&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://gitforwindows.org/"&gt;Git Bash&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://rasor.github.io/curl-cli-on-windows.html"&gt;cUrl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/docker-for-windows.html"&gt;Docker for Windows (D4W) - including Hyper-V&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional: &lt;a href="https://www.python.org/downloads/"&gt;Python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Examine Docker&lt;/h3&gt;
&lt;p&gt;As mentioned above - you need Docker for Windows either on top of Virtual Box or Hyper-V. I upgraded to latest - 2..0.0.3.
And my D4W settings is already set to Swarm.&lt;br&gt;
&lt;img alt="D4W set to Swarm" src="img/2019/2019-03-28-OpenFaaS01.PNG" title="D4W set to Swarm"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify Docker is running&lt;/span&gt;
docker info
&lt;span class="c1"&gt;# Containers: 4&lt;/span&gt;
&lt;span class="c1"&gt;#  Running: 0&lt;/span&gt;
&lt;span class="c1"&gt;#  Paused: 0&lt;/span&gt;
&lt;span class="c1"&gt;#  Stopped: 4&lt;/span&gt;
&lt;span class="c1"&gt;# Images: 15&lt;/span&gt;
&lt;span class="c1"&gt;# Server Version: 18.09.2&lt;/span&gt;
&lt;span class="c1"&gt;# Storage Driver: overlay2&lt;/span&gt;
&lt;span class="c1"&gt;#  Backing Filesystem: extfs&lt;/span&gt;
&lt;span class="c1"&gt;#  Supports d_type: true&lt;/span&gt;
&lt;span class="c1"&gt;#  Native Overlay Diff: true&lt;/span&gt;
&lt;span class="c1"&gt;# Logging Driver: json-file&lt;/span&gt;
&lt;span class="c1"&gt;# Cgroup Driver: cgroupfs&lt;/span&gt;
&lt;span class="c1"&gt;# Plugins:&lt;/span&gt;
&lt;span class="c1"&gt;#  Volume: local&lt;/span&gt;
&lt;span class="c1"&gt;#  Network: bridge host macvlan null overlay&lt;/span&gt;
&lt;span class="c1"&gt;#  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog&lt;/span&gt;
&lt;span class="c1"&gt;# Swarm: inactive &amp;lt;-----------&lt;/span&gt;
&lt;span class="c1"&gt;# Runtimes: runc&lt;/span&gt;
&lt;span class="c1"&gt;# Default Runtime: runc&lt;/span&gt;
&lt;span class="c1"&gt;# Init Binary: docker-init&lt;/span&gt;
&lt;span class="c1"&gt;# ....&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Docker Swarm&lt;/h3&gt;
&lt;p&gt;You also need to log in to &lt;a href="https://hub.docker.com/"&gt;Docker Hub&lt;/a&gt;, so you can upload some docker images. &lt;br&gt;
&lt;img alt="Login to Docker hub" src="img/2019/2019-03-28-OpenFaaS02.PNG" title="Login to Docker hub"&gt;&lt;/p&gt;
&lt;p&gt;With docker running next we need a Swarm cluster - from &lt;code&gt;docker init&lt;/code&gt; we know that Swarm is inactive.&lt;/p&gt;
&lt;p&gt;How can you operate Swarm?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker swarm
&lt;span class="c1"&gt;# Commands:&lt;/span&gt;
&lt;span class="c1"&gt;#   ca          Display and rotate the root CA&lt;/span&gt;
&lt;span class="c1"&gt;#   init        Initialize a swarm&lt;/span&gt;
&lt;span class="c1"&gt;#   join        Join a swarm as a node and/or manager&lt;/span&gt;
&lt;span class="c1"&gt;#   join-token  Manage join tokens&lt;/span&gt;
&lt;span class="c1"&gt;#   leave       Leave the swarm&lt;/span&gt;
&lt;span class="c1"&gt;#   unlock      Unlock swarm&lt;/span&gt;
&lt;span class="c1"&gt;#   unlock-key  Manage the unlock key&lt;/span&gt;
&lt;span class="c1"&gt;#   update      Update the swarm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Swarm has manager- and worker nodes. We only need the manager.&lt;br&gt;
On a devbox we'll just create a single-node swarm. When creating multi-node swarms you should &lt;a href="https://docs.docker.com/engine/swarm/swarm-tutorial/"&gt;use command docker-machine&lt;/a&gt;.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Create a single-node swarm.&lt;/span&gt;
&lt;span class="c1"&gt;# Create 1st manager node - you need to add --advertise-addr, if the host has a public IP addr.&lt;/span&gt;
docker swarm init
&lt;span class="c1"&gt;# Swarm initialized: current node (ornhp66bt5rk928ekryv4xks4) is now a manager.&lt;/span&gt;
&lt;span class="c1"&gt;# To add a worker to this swarm, run the following command:&lt;/span&gt;
&lt;span class="c1"&gt;#     docker swarm join --token SWMTKN-1-0rzaxpyyubb419j6qf9wubskxnypznknbaw5wiqcx05kt6ew1i-cje86tlt1s4fc69yy7cuwww0l 192.168.65.3:2377&lt;/span&gt;
&lt;span class="c1"&gt;# To add a manager to this swarm, run &amp;#39;docker swarm join-token manager&amp;#39; and follow the instructions.&lt;/span&gt;

&lt;span class="c1"&gt;# If you don&amp;#39;t note above worker-join info you can re-print it&lt;/span&gt;
docker swarm join-token worker
&lt;span class="c1"&gt;# To add a worker to this swarm, run the following command:&lt;/span&gt;
&lt;span class="c1"&gt;#     docker swarm join --token SWMTKN-1-0rzaxpyyubb419j6qf9wubskxnypznknbaw5wiqcx05kt6ew1i-cje86tlt1s4fc69yy7cuwww0l 192.168.65.3:2377&lt;/span&gt;

&lt;span class="c1"&gt;# Now swarm is active with this windows shell being the manager node - meaning - the manager is not running in a container&lt;/span&gt;
docker info
&lt;span class="c1"&gt;# ....&lt;/span&gt;
&lt;span class="c1"&gt;#  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog&lt;/span&gt;
&lt;span class="c1"&gt;# Swarm: active&lt;/span&gt;
&lt;span class="c1"&gt;#  NodeID: ornhp66bt5rk928ekryv4xks4&lt;/span&gt;
&lt;span class="c1"&gt;#  Is Manager: true&lt;/span&gt;
&lt;span class="c1"&gt;#  ClusterID: 9pvxm96yzehiadacxf7k0e87e&lt;/span&gt;
&lt;span class="c1"&gt;#  Managers: 1&lt;/span&gt;
&lt;span class="c1"&gt;#  Nodes: 1&lt;/span&gt;
&lt;span class="c1"&gt;#  Default Address Pool: 10.0.0.0/8&lt;/span&gt;
&lt;span class="c1"&gt;#  SubnetSize: 24&lt;/span&gt;
&lt;span class="c1"&gt;#  Orchestration:&lt;/span&gt;
&lt;span class="c1"&gt;#   Task History Retention Limit: 5&lt;/span&gt;
&lt;span class="c1"&gt;#  Raft:&lt;/span&gt;
&lt;span class="c1"&gt;#   Snapshot Interval: 10000&lt;/span&gt;
&lt;span class="c1"&gt;#   Number of Old Snapshots to Retain: 0&lt;/span&gt;
&lt;span class="c1"&gt;#   Heartbeat Tick: 1&lt;/span&gt;
&lt;span class="c1"&gt;#   Election Tick: 10&lt;/span&gt;
&lt;span class="c1"&gt;#  Dispatcher:&lt;/span&gt;
&lt;span class="c1"&gt;#   Heartbeat Period: 5 seconds&lt;/span&gt;
&lt;span class="c1"&gt;#  CA Configuration:&lt;/span&gt;
&lt;span class="c1"&gt;#   Expiry Duration: 3 months&lt;/span&gt;
&lt;span class="c1"&gt;#   Force Rotate: 0&lt;/span&gt;
&lt;span class="c1"&gt;#  Autolock Managers: false&lt;/span&gt;
&lt;span class="c1"&gt;#  Root Rotation In Progress: false&lt;/span&gt;
&lt;span class="c1"&gt;#  Node Address: 192.168.65.3&lt;/span&gt;
&lt;span class="c1"&gt;#  Manager Addresses:&lt;/span&gt;
&lt;span class="c1"&gt;#   192.168.65.3:2377&lt;/span&gt;
&lt;span class="c1"&gt;# Runtimes: runc&lt;/span&gt;
&lt;span class="c1"&gt;# ....&lt;/span&gt;

&lt;span class="c1"&gt;# print more info about the swarm node(s)&lt;/span&gt;
docker node ls
&lt;span class="c1"&gt;# ID                            HOSTNAME                STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION&lt;/span&gt;
&lt;span class="c1"&gt;# ornhp66bt5rk928ekryv4xks4 *   linuxkit-00155d102102   Ready               Active              Leader              18.09.2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Learn more about the &lt;a href="https://docs.docker.com/get-started/part4/#understanding-swarm-clusters"&gt;Swarm clusters&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;OpenFaaS&lt;/h3&gt;
&lt;h4&gt;OpenFaaS Install&lt;/h4&gt;
&lt;p&gt;With a cluster running we can start OpenFaaS installation. This is done from a script that we fetch from github.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Download docker-compose.yml file and deploy deploy_stack.ps1&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; C:&lt;span class="se"&gt;\U&lt;/span&gt;sers&lt;span class="se"&gt;\y&lt;/span&gt;ourname
&lt;span class="c1"&gt;# At time of writing the latest OpenFaaS release is https://github.com/openfaas/faas/tree/0.12.0&lt;/span&gt;
git clone https://github.com/openfaas/faas
&lt;span class="nb"&gt;cd&lt;/span&gt; faas
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;From Powershell prompt - run as admin - it will use a .NET dll for creating a password.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Install OpenFaaS via ps1 - notice - it will create a user and password for logging in to the CLI&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; C:&lt;span class="se"&gt;\U&lt;/span&gt;sers&lt;span class="se"&gt;\y&lt;/span&gt;ourname&lt;span class="se"&gt;\f&lt;/span&gt;aas
Set-ExecutionPolicy RemoteSigned
./deploy_stack.ps1 &lt;span class="c1"&gt;# ./deploy_stack.sh for Linux or Mac&lt;/span&gt;
&lt;span class="c1"&gt;# Attempting to create credentials for gateway..&lt;/span&gt;
&lt;span class="c1"&gt;# [Credentials]&lt;/span&gt;
&lt;span class="c1"&gt;#  username: admin&lt;/span&gt;
&lt;span class="c1"&gt;#  password: b391be3c12d7dc8412a26eb13625f0d28bab2e578acb7473ea6c9e209e501f37&lt;/span&gt;
&lt;span class="c1"&gt;#  Write-Output &amp;quot;b391be3c12d7dc8412a26eb13625f0d28bab2e578acb7473ea6c9e209e501f37&amp;quot; | faas-cli login --username=admin --password-stdin&lt;/span&gt;
&lt;span class="c1"&gt;# Enabling basic authentication for gateway..&lt;/span&gt;

&lt;span class="c1"&gt;# Deploying OpenFaaS core services&lt;/span&gt;
&lt;span class="c1"&gt;# Creating network func_functions&lt;/span&gt;
&lt;span class="c1"&gt;# Creating config func_prometheus_rules&lt;/span&gt;
&lt;span class="c1"&gt;# Creating config func_alertmanager_config&lt;/span&gt;
&lt;span class="c1"&gt;# Creating config func_prometheus_config&lt;/span&gt;
&lt;span class="c1"&gt;# Creating service func_faas-swarm&lt;/span&gt;
&lt;span class="c1"&gt;# Creating service func_nats&lt;/span&gt;
&lt;span class="c1"&gt;# Creating service func_queue-worker&lt;/span&gt;
&lt;span class="c1"&gt;# Creating service func_prometheus&lt;/span&gt;
&lt;span class="c1"&gt;# Creating service func_alertmanager&lt;/span&gt;
&lt;span class="c1"&gt;# Creating service func_gateway&lt;/span&gt;

&lt;span class="c1"&gt;# Prints:&lt;/span&gt;
docker stack ls
&lt;span class="c1"&gt;# NAME                SERVICES            ORCHESTRATOR&lt;/span&gt;
&lt;span class="c1"&gt;# func                6                   Swarm&lt;/span&gt;

docker stack services func --format &lt;span class="s2"&gt;&amp;quot;table {{.Name}}\t{{.Ports}}&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# NAME                PORTS&lt;/span&gt;
&lt;span class="c1"&gt;# func_gateway        *:8080-&amp;gt;8080/tcp&lt;/span&gt;
&lt;span class="c1"&gt;# func_faas-swarm&lt;/span&gt;
&lt;span class="c1"&gt;# func_queue-worker&lt;/span&gt;
&lt;span class="c1"&gt;# func_prometheus     *:9090-&amp;gt;9090/tcp&lt;/span&gt;
&lt;span class="c1"&gt;# func_nats&lt;/span&gt;
&lt;span class="c1"&gt;# func_alertmanager&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;OpenFaaS Usage&lt;/h4&gt;
&lt;h5&gt;OpenFaaS Portal&lt;/h5&gt;
&lt;p&gt;So you've got (as the print above shows you)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://127.0.0.1:8080/ui/"&gt;OpenFaaS Portal&lt;/a&gt; on http://127.0.0.1:8080&lt;br&gt;
&lt;img alt="OpenFaaS Portal" src="img/2019/2019-03-28-OpenFaaS03.PNG" title="OpenFaaS Portal"&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://127.0.0.1:9090/graph"&gt;Prometheus&lt;/a&gt; on http://127.0.0.1:9090
&lt;img alt="Prometheus" src="img/2019/2019-03-28-OpenFaaS04.PNG" title="Prometheus"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's test OpenFaaS.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Press Deploy New Function.&lt;/li&gt;
&lt;li&gt;Select Figlet and press Deploy.  &lt;/li&gt;
&lt;li&gt;Notice there is a link to the code deployed: &lt;a href="https://github.com/faas-and-furious/figlet"&gt;faas-and-furious/figlet&lt;/a&gt;&lt;br&gt;
&lt;img alt="OpenFaaS Deploy" src="img/2019/2019-03-28-OpenFaaS05.PNG" title="OpenFaaS Deploy"&gt;&lt;/li&gt;
&lt;li&gt;Now test the function. Select it, enter an input string in Request body and invoke it.&lt;/li&gt;
&lt;li&gt;Output is displayed in Response body. Notice the invocation count telling it has been invoked once. And it only took 43ms to create its container, execute it and kill it again!&lt;br&gt;
&lt;img alt="OpenFaaS Invoke" src="img/2019/2019-03-28-OpenFaaS06.PNG" title="OpenFaaS Invoke"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let's test Prometheus. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On the Graph page there is a dropdown list with a lot of counters. The first one is gateway_function_invocation_total. Select it and press Execute.&lt;/li&gt;
&lt;li&gt;Yes, also here we are told there has been one invocation, but we are even told name of function, where it was running and the http result status code.  &lt;/li&gt;
&lt;li&gt;Notice you can get a graph view instead of this list view.&lt;br&gt;
&lt;img alt="Prometheus counter" src="img/2019/2019-03-28-OpenFaaS07.PNG" title="Prometheus counter"&gt;&lt;/li&gt;
&lt;li&gt;There are lots of counters. Here is a screenshot of the top ones.&lt;br&gt;
&lt;img alt="Prometheus counters" src="img/2019/2019-03-28-OpenFaaS08.PNG" title="Prometheus counters"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So how about invoking figlet from curl?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl localhost:8080/function/figlet -d &lt;span class="s2"&gt;&amp;quot;OpenFaaS&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current&lt;/span&gt;
&lt;span class="c1"&gt;#                                  Dload  Upload   Total   Spent    Left  Speed&lt;/span&gt;
&lt;span class="c1"&gt;# 100   290  100   282  100     8   5035    142 --:--:-- --:--:-- --:--:--  5272  &lt;/span&gt;
&lt;span class="c1"&gt;#   ___                   _____           ____&lt;/span&gt;
&lt;span class="c1"&gt;#  / _ \ _ __   ___ _ __ |  ___|_ _  __ _/ ___|&lt;/span&gt;
&lt;span class="c1"&gt;# | | | | &amp;#39;_ \ / _ \ &amp;#39;_ \| |_ / _` |/ _` \___ \&lt;/span&gt;
&lt;span class="c1"&gt;# | |_| | |_) |  __/ | | |  _| (_| | (_| |___) |&lt;/span&gt;
&lt;span class="c1"&gt;#  \___/| .__/ \___|_| |_|_|  \__,_|\__,_|____/&lt;/span&gt;
&lt;span class="c1"&gt;#       |_|&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Nice - we have a webservice then :-)  &lt;/p&gt;
&lt;h5&gt;OpenFaaS CLI&lt;/h5&gt;
&lt;p&gt;For Windows you need to download &lt;a href="https://github.com/openfaas/faas-cli"&gt;OpenFaaS CLI - faas-cli.exe&lt;/a&gt; from &lt;a href="https://github.com/openfaas/faas-cli/releases"&gt;openfaas/faas-cli/releases&lt;/a&gt; to e.g. &lt;code&gt;C:\Program Files\Docker\Docker\Resources\bin\&lt;/code&gt;. In this way it will already be in the system path.  &lt;/p&gt;
&lt;p&gt;From GIT Bash - CLI Login does not work from CMD!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify Faas CLI is responding&lt;/span&gt;
faas-cli version
&lt;span class="c1"&gt;# version: 0.8.6&lt;/span&gt;

&lt;span class="c1"&gt;# Login to OpenFaaS gateway&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; -n b391be3c12d7dc8412a26eb13625f0d28bab2e578acb7473ea6c9e209e501f37 &lt;span class="p"&gt;|&lt;/span&gt; faas-cli login --username&lt;span class="o"&gt;=&lt;/span&gt;admin --password-stdin
&lt;span class="c1"&gt;# Calling the OpenFaaS server to validate the credentials...&lt;/span&gt;
&lt;span class="c1"&gt;# WARNING! Communication is not secure, please consider using HTTPS. Letsencrypt.org offers free SSL/TLS certificates.&lt;/span&gt;
&lt;span class="c1"&gt;# credentials saved for admin http://127.0.0.1:8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Info: faas-cli login will store your password as a hash at ~/.openfaas/config.yaml.&lt;br&gt;
But when you open the OpenFaaS Portal at http://127.0.0.1:8080 you will also need the psw.&lt;br&gt;
127.0.0.1 is the localhost IP. You can replace it with the internal (nat'ed) IP of your PC.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# What does the CLI give you?&lt;/span&gt;
faas-cli
&lt;span class="c1"&gt;# Available Commands:&lt;/span&gt;
&lt;span class="c1"&gt;#   build          Builds OpenFaaS function containers&lt;/span&gt;
&lt;span class="c1"&gt;#   cloud          OpenFaaS Cloud commands&lt;/span&gt;
&lt;span class="c1"&gt;#   deploy         Deploy OpenFaaS functions&lt;/span&gt;
&lt;span class="c1"&gt;#   describe       Describe an OpenFaaS function&lt;/span&gt;
&lt;span class="c1"&gt;#   generate       Generate Kubernetes CRD YAML file&lt;/span&gt;
&lt;span class="c1"&gt;#   help           Help about any command&lt;/span&gt;
&lt;span class="c1"&gt;#   invoke         Invoke an OpenFaaS function&lt;/span&gt;
&lt;span class="c1"&gt;#   list           List OpenFaaS functions&lt;/span&gt;
&lt;span class="c1"&gt;#   login          Log in to OpenFaaS gateway&lt;/span&gt;
&lt;span class="c1"&gt;#   logout         Log out from OpenFaaS gateway&lt;/span&gt;
&lt;span class="c1"&gt;#   new            Create a new template in the current folder with the name given as name&lt;/span&gt;
&lt;span class="c1"&gt;#   push           Push OpenFaaS functions to remote registry (Docker Hub)&lt;/span&gt;
&lt;span class="c1"&gt;#   remove         Remove deployed OpenFaaS functions&lt;/span&gt;
&lt;span class="c1"&gt;#   secret         OpenFaaS secret commands&lt;/span&gt;
&lt;span class="c1"&gt;#   store          OpenFaaS store commands&lt;/span&gt;
&lt;span class="c1"&gt;#   template       OpenFaaS template store and pull commands&lt;/span&gt;
&lt;span class="c1"&gt;#   up             Builds, pushes and deploys OpenFaaS function containers&lt;/span&gt;
&lt;span class="c1"&gt;#   version        Display the clients version information&lt;/span&gt;

&lt;span class="c1"&gt;# Flags:&lt;/span&gt;
&lt;span class="c1"&gt;#       --filter string   Wildcard to match with function names in YAML file&lt;/span&gt;
&lt;span class="c1"&gt;#   -h, --help            help for faas-cli&lt;/span&gt;
&lt;span class="c1"&gt;#       --regex string    Regex to match with function names in YAML file&lt;/span&gt;
&lt;span class="c1"&gt;#   -f, --yaml string     Path to YAML file describing function(s)&lt;/span&gt;


&lt;span class="c1"&gt;# Let&amp;#39;s see what we have of functions&lt;/span&gt;
faas-cli list
&lt;span class="c1"&gt;# Function                        Invocations     Replicas&lt;/span&gt;
&lt;span class="c1"&gt;# figlet                          8               1&lt;/span&gt;

&lt;span class="c1"&gt;# Let&amp;#39;s try to invoke it once more&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;FaaS CLI&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; faas-cli invoke figlet
&lt;span class="c1"&gt;#  _____           ____     ____ _     ___&lt;/span&gt;
&lt;span class="c1"&gt;# |  ___|_ _  __ _/ ___|   / ___| |   |_ _|&lt;/span&gt;
&lt;span class="c1"&gt;# | |_ / _` |/ _` \___ \  | |   | |    | |&lt;/span&gt;
&lt;span class="c1"&gt;# |  _| (_| | (_| |___) | | |___| |___ | |&lt;/span&gt;
&lt;span class="c1"&gt;# |_|  \__,_|\__,_|____/   \____|_____|___|&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;OpenFaaS CLI Build&lt;/h4&gt;
&lt;p&gt;Now we can build our own functions.  &lt;/p&gt;
&lt;p&gt;I need to run some Python functions, so I'll develop with python.&lt;br&gt;
Here is a guide: &lt;a href="https://blog.alexellis.io/first-faas-python-function/"&gt;Your first serverless Python function with OpenFaaS&lt;/a&gt; (Step 3 - Write your function)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# What Python versions do I have on this devbox? &lt;/span&gt;
&lt;span class="c1"&gt;# 2.x:&lt;/span&gt;
python -V
&lt;span class="c1"&gt;# Python 2.7.15 &lt;/span&gt;
&lt;span class="c1"&gt;# (yes I know it is old)&lt;/span&gt;
pip -V
&lt;span class="c1"&gt;# pip 9.0.3 from c:\program files (x86)\python27\lib\site-packages (python 2.7)&lt;/span&gt;

&lt;span class="c1"&gt;# 3.x:&lt;/span&gt;
py -V
&lt;span class="c1"&gt;# Python 3.6.4&lt;/span&gt;
pip3 -V
&lt;span class="c1"&gt;# pip 9.0.1 from c:\program files (x86)\python36-32\lib\site-packages (python 3.6)&lt;/span&gt;

&lt;span class="c1"&gt;# OK, let&amp;#39;s create a python project&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; C:&lt;span class="se"&gt;\U&lt;/span&gt;sers&lt;span class="se"&gt;\y&lt;/span&gt;ourname&lt;span class="se"&gt;\p&lt;/span&gt;rojs-openfaas &lt;span class="c1"&gt;#or where ever you want your code&lt;/span&gt;
faas-cli new faas-py-test1 --lang python
&lt;span class="c1"&gt;# 2019/03/29 21:22:17 No templates found in current directory.&lt;/span&gt;
&lt;span class="c1"&gt;# 2019/03/29 21:22:17 Attempting to expand templates from https://github.com/openfaas/templates.git&lt;/span&gt;
&lt;span class="c1"&gt;# 2019/03/29 21:22:23 Fetched 15 template(s) : [csharp csharp-armhf dockerfile go go-armhf java8 node node-arm64 node-armhf php7 python python-armhf python3 python3-armhf ruby] from https://github.com/openfaas/templates.git&lt;/span&gt;
&lt;span class="c1"&gt;# Folder: faas-py-test1 created.&lt;/span&gt;
&lt;span class="c1"&gt;# Function created in folder: faas-py-test1&lt;/span&gt;
&lt;span class="c1"&gt;# Stack file written: faas-py-test1.yml&lt;/span&gt;

&lt;span class="c1"&gt;# So the files we have are&lt;/span&gt;
&lt;span class="c1"&gt;# |- faas-py-test1.yml    # Docker Stack file&lt;/span&gt;
&lt;span class="c1"&gt;# |- faas-py-test1&lt;/span&gt;
&lt;span class="c1"&gt;#     |- handler.py       # Py program&lt;/span&gt;
&lt;span class="c1"&gt;#     |- requirements.txt # Py dependencies&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tips about templates: 
* &lt;a href="https://github.com/openfaas/faas-cli/blob/master/guide/TEMPLATE.md"&gt;faas-cli/guide/TEMPLATE&lt;/a&gt;
* &lt;a href="https://github.com/openfaas/faas-cli"&gt;faas-cli&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Edit faas-py-test1.yml:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;provider&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;openfaas&lt;/span&gt;
  &lt;span class="nt"&gt;gateway&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://127.0.0.1:8080&lt;/span&gt;
&lt;span class="nt"&gt;functions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;faas-py-test1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;python&lt;/span&gt;
    &lt;span class="nt"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./faas-py-test1&lt;/span&gt;
    &lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;rasor/faas-py-test1:v1&lt;/span&gt; &lt;span class="c1"&gt;# edited! Added dockerhub userid/. Changed :latest to v1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Edit handler.py:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;handle a request to the function&lt;/span&gt;
&lt;span class="sd"&gt;    Args:&lt;/span&gt;
&lt;span class="sd"&gt;        req (str): request body&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello! You said: &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Added this line&lt;/span&gt;
    &lt;span class="c1"&gt;# return req # Removed this line&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# So let&amp;#39;s build!&lt;/span&gt;
faas-cli build -f ./faas-py-test1.yml
&lt;span class="c1"&gt;# [0] &amp;gt; Building faas-py-test1.&lt;/span&gt;
&lt;span class="c1"&gt;# Clearing temporary build folder: ./build/faas-py-test1/&lt;/span&gt;
&lt;span class="c1"&gt;# Preparing ./faas-py-test1/ ./build/faas-py-test1//function&lt;/span&gt;
&lt;span class="c1"&gt;# Building: rasor/faas-py-test1:v1 with python template. Please wait..&lt;/span&gt;
&lt;span class="c1"&gt;# Sending build context to Docker daemon  8.192kB&lt;/span&gt;
&lt;span class="c1"&gt;# Step 1/25 : FROM python:2.7-alpine&lt;/span&gt;
&lt;span class="c1"&gt;# ..............&lt;/span&gt;
&lt;span class="c1"&gt;# Step 22/25 : ENV fprocess=&amp;quot;python index.py&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 597f759e3ecb&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 597f759e3ecb&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; d5d5ec9ac47b&lt;/span&gt;
&lt;span class="c1"&gt;# Step 23/25 : EXPOSE 8080&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 855b6cb3e7f2&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 855b6cb3e7f2&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; fad6d57e56ab&lt;/span&gt;
&lt;span class="c1"&gt;# Step 24/25 : HEALTHCHECK --interval=3s CMD [ -e /tmp/.lock ] || exit 1&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in 0016df8d9c04&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container 0016df8d9c04&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; f39663c66ae2&lt;/span&gt;
&lt;span class="c1"&gt;# Step 25/25 : CMD [&amp;quot;fwatchdog&amp;quot;]&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; Running in f301a88e4ebb&lt;/span&gt;
&lt;span class="c1"&gt;# Removing intermediate container f301a88e4ebb&lt;/span&gt;
&lt;span class="c1"&gt;#  ---&amp;gt; 4cf93e981b89&lt;/span&gt;
&lt;span class="c1"&gt;# Successfully built 4cf93e981b89&lt;/span&gt;
&lt;span class="c1"&gt;# Successfully tagged rasor/faas-py-test1:v1&lt;/span&gt;
&lt;span class="c1"&gt;# SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have &amp;#39;-rwxr-xr-x&amp;#39; permissions. It is recommended to double check and reset permissions for sensitive files and directories.&lt;/span&gt;
&lt;span class="c1"&gt;# Image: rasor/faas-py-test1:v1 built.&lt;/span&gt;
&lt;span class="c1"&gt;# [0] &amp;lt; Building faas-py-test1 done.&lt;/span&gt;
&lt;span class="c1"&gt;# [0] worker done.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The build created file Dockerfile.&lt;br&gt;
Dockerfile contains the 25 build steps you see in the output. It builds the docker image.&lt;br&gt;
Note: It also tells OpenFaaS how and where to start the function.&lt;/p&gt;
&lt;p&gt;.\build\faas-py-test1\Dockerfile:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# ... Lines omitted&lt;/span&gt;
&lt;span class="c"&gt;# Here OpenFaaS knows howto starts the program&lt;/span&gt;
&lt;span class="k"&gt;ENV&lt;/span&gt; &lt;span class="nv"&gt;fprocess&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python index.py&amp;quot;&lt;/span&gt;
&lt;span class="c"&gt;# ... Lines omitted&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify img has been built&lt;/span&gt;
docker images
&lt;span class="c1"&gt;# REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE&lt;/span&gt;
&lt;span class="c1"&gt;# rasor/faas-py-test1            v1                  4cf93e981b89        14 minutes ago      65.8MB&lt;/span&gt;

&lt;span class="c1"&gt;# Push the img to docker hub for fast access&lt;/span&gt;
faas-cli push -f faas-py-test1.yml
&lt;span class="c1"&gt;# [0] &amp;gt; Pushing faas-py-test1 [rasor/faas-py-test1:v1].&lt;/span&gt;
&lt;span class="c1"&gt;# The push refers to repository [docker.io/rasor/faas-py-test1]&lt;/span&gt;
&lt;span class="c1"&gt;# 617c2e92f234: Pushed&lt;/span&gt;
&lt;span class="c1"&gt;# .......&lt;/span&gt;
&lt;span class="c1"&gt;# bcf2f368fe23: Mounted from library/python&lt;/span&gt;
&lt;span class="c1"&gt;# v1: digest: sha256:84991bc8eae01a7893b869e50758b7849482017f81334b3057289a283932a95a size: 3655&lt;/span&gt;
&lt;span class="c1"&gt;# [0] &amp;lt; Pushing faas-py-test1 [rasor/faas-py-test1:v1] done.&lt;/span&gt;
&lt;span class="c1"&gt;# [0] worker done.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Verify that the img has been uploaded: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/rasor/faas-py-test1"&gt;repository/docker/rasor/faas-py-test1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Time to Deploy&lt;/span&gt;
faas-cli deploy -f ./faas-py-test1.yml
&lt;span class="c1"&gt;# Deploying: faas-py-test1.&lt;/span&gt;
&lt;span class="c1"&gt;# WARNING! Communication is not secure, please consider using HTTPS. Letsencrypt.org offers free SSL/TLS certificates.&lt;/span&gt;
&lt;span class="c1"&gt;# Deployed. 202 Accepted.&lt;/span&gt;
&lt;span class="c1"&gt;# URL: http://127.0.0.1:8080/function/faas-py-test1&lt;/span&gt;

&lt;span class="c1"&gt;# Let&amp;#39;s try to invoke it once more&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;HiHoh&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; faas-cli invoke faas-py-test1
&lt;span class="c1"&gt;# Hello! You said: &amp;quot;HiHoh&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Next steps&lt;/h2&gt;
&lt;h3&gt;Next steps - Development&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;OpenFaaS CLI Build with JSON input/output&lt;ul&gt;
&lt;li&gt;See &lt;a href="https://blog.alexellis.io/first-faas-python-function/"&gt;Your first serverless Python function with OpenFaaS&lt;/a&gt; (Step 4 - Import 3rd party dependencies).  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.openfaas.com/deployment/troubleshooting/"&gt;Troubleshooting - OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.openfaas.com/reference/async/"&gt;Async - OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Next steps - New tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;OpenFaaS Dashboard&lt;ul&gt;
&lt;li&gt;HowTo setup &lt;strong&gt;Grafana&lt;/strong&gt; as dashboard service in your cluster:&lt;br&gt;
See book D4S chapter 4 (The OpenFaaS dashboard page 80).  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.alexellis.io/cli-functions-with-openfaas/"&gt;Turn Any CLI into a Function with OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;h2&gt;OpenFaaS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.openfaas.com/blog/serverless-single-page-app/"&gt;How to build a Serverless Single Page App&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/alexellis/leaderboard-app"&gt;alexellis/leaderboard-app&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/openfaas-incubator/openfaas-sinatra-guestbook"&gt;openfaas-incubator/openfaas-sinatra-guestbook&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Deploy: &lt;a href="https://github.com/openfaas/openfaas-cloud#get-started"&gt;openfaas/openfaas-cloud&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;One-Click install on k8s cluster: &lt;a href="https://github.com/openfaas-incubator/ofc-bootstrap"&gt;openfaas-incubator/ofc-bootstrap&lt;/a&gt; - watch vid!&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.openfaas.com/blog/openfaas-cloud-gitlab/"&gt;Introducing OpenFaaS Cloud with GitLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=Sa1VBSfVpK0"&gt;OpenFaaS Cloud in 100 seconds&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=J9xoNf9yZ60"&gt;Get your own OpenFaaS Cloud in 1 minute&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=6xJwQgDnMFE"&gt;Create a 2-node Kubernetes cluster in 10 minutes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Manual install: &lt;a href="https://github.com/openfaas/openfaas-cloud/blob/master/docs/README.md"&gt;openfaas/openfaas-cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Deploy docs: &lt;a href="https://docs.openfaas.com/deployment/"&gt;Deployment - OpenFaaS&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://secanablog.wordpress.com/2018/06/10/run-your-own-faas-with-openfaas-and-net-core/"&gt;Run your own FaaS with OpenFaas and .Net Core&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.openshift.com/openfaas-on-openshift/"&gt;OpenFaaS on OpenShift - Red Hat OpenShift Blog&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.alexellis.io/openshift-in-a-footloose-container/"&gt;Install OpenShift in a container with Weave Footloose&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/weaveworks/footloose"&gt;weaveworks/footloose&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Uses &lt;a href="https://github.com/moby/buildkit"&gt;moby/buildkit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Private image registry: &lt;a href="https://docs.docker.com/registry/"&gt;Docker Registry&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;docker-machine&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/docker/machine"&gt;docker/machine&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/"&gt;Create a swarm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/johnmccabe/55baab605c0fb82df9c1cbf8c3dde407"&gt;Running OpenFaaS on Windows 10 - using Docker Swarm on Hyper-V&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OpenFaaS &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/openfaas/workshop"&gt;openfaas/workshop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;My own blogs&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/tag/docker.html"&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/tag/kubernetes.html"&gt;Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Cloud IaaS container cluster hosts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.digitalocean.com/"&gt;DigitalOcean&lt;/a&gt; - k8s manager node for free - you pay for cluster nodes only. Min $30/Month.&lt;/li&gt;
&lt;li&gt;AWS&lt;/li&gt;
&lt;li&gt;Azure&lt;/li&gt;
&lt;li&gt;GCP&lt;/li&gt;
&lt;li&gt;&lt;a href="https://devcenter.heroku.com/categories/deploying-with-docker"&gt;Deploying with Docker | Heroku Dev Center&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;More Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.alexellis.io/swarm-secrets-in-action/"&gt;Docker Secrets in action: Github integration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://ngrok.com/"&gt;ngrok - secure introspectable tunnels to localhost&lt;/a&gt; - use it to expose you localhost to the internet, when testing.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.alexellis.io/cli-functions-with-openfaas/"&gt;Turn Any CLI into a Function with OpenFaaS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Books&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;2018-04: &lt;a href="https://www.packtpub.com/virtualization-and-cloud/docker-serverless-applications"&gt;Docker for Serverless Applications | PACKT Books&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#openfaas"></category><category term="#curl"></category><category term="#docker"></category><category term="#kubernetes"></category><category term="#hyperv"></category><category term="#virtualbox"></category><category term="#kitematic"></category><category term="#dockerswarm"></category><category term="#python"></category><category term="#git"></category><category term="#gitlab"></category><category term="#openshift"></category><category term="#footloose"></category></entry><entry><title>Azure Fundamentals Course 107979F</title><link href="https://rasor.github.io/azure-fundamentals-course-107979f.html" rel="alternate"></link><published>2019-02-23T10:00:00+01:00</published><updated>2019-10-09T22:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2019-02-23:/azure-fundamentals-course-107979f.html</id><summary type="html">&lt;h2&gt;Notes from Azure Fundamentals Course 107979F&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Course: &lt;a href="https://www.microsoft.com/en-us/learning/course.aspx?cid=10979"&gt;107979F | Microsoft Learning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Labs: &lt;ul&gt;
&lt;li&gt;Version F-: &lt;a href="https://github.com/MicrosoftLearning/10979-Introduction-to-Azure-for-IT-Professionals"&gt;MicrosoftLearning/10979-Introduction-to-Azure-for-IT-Professionals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Version A-E (depricated): &lt;a href="https://github.com/MicrosoftLearning/10979-MicrosoftAzureFundamentals"&gt;MicrosoftLearning/10979-MicrosoftAzureFundamentals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Before the course you can &lt;a href="#pre-installing"&gt;pre install&lt;/a&gt; what you need during the course. This includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Visual-Studio"&gt;Visual Studio&lt;/a&gt; Installer package&lt;/li&gt;
&lt;li&gt;&lt;a href="#Azure-CLI"&gt;Azure CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Azure-PowerShell"&gt;Azure PowerShell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Azure-Storage-Explorer"&gt;Azure Storage Explorer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Visual-Studio-Code"&gt;Visual Studio Code&lt;/a&gt; extensions …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h2&gt;Notes from Azure Fundamentals Course 107979F&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Course: &lt;a href="https://www.microsoft.com/en-us/learning/course.aspx?cid=10979"&gt;107979F | Microsoft Learning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Labs: &lt;ul&gt;
&lt;li&gt;Version F-: &lt;a href="https://github.com/MicrosoftLearning/10979-Introduction-to-Azure-for-IT-Professionals"&gt;MicrosoftLearning/10979-Introduction-to-Azure-for-IT-Professionals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Version A-E (depricated): &lt;a href="https://github.com/MicrosoftLearning/10979-MicrosoftAzureFundamentals"&gt;MicrosoftLearning/10979-MicrosoftAzureFundamentals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Before the course you can &lt;a href="#pre-installing"&gt;pre install&lt;/a&gt; what you need during the course. This includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Visual-Studio"&gt;Visual Studio&lt;/a&gt; Installer package&lt;/li&gt;
&lt;li&gt;&lt;a href="#Azure-CLI"&gt;Azure CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Azure-PowerShell"&gt;Azure PowerShell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Azure-Storage-Explorer"&gt;Azure Storage Explorer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Visual-Studio-Code"&gt;Visual Studio Code&lt;/a&gt; extensions (optional)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With these tools in place you can use you MSDN subscription (if you have one) and just follow the the labs (on github) and save the course money.  &lt;/p&gt;
&lt;p&gt;During the course you will only be working in &lt;a href="https://portal.azure.com/"&gt;Azure Portal&lt;/a&gt;.&lt;br&gt;
You will not be working in VSTS - now called &lt;a href="https://visualstudio.com"&gt;Azure Devops&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;On the course you will get $100 to spend (so you don't need a credit card). You will get it via &lt;a href="https://www.microsoftazurepass.com/"&gt;Microsoft Azure Pass&lt;/a&gt;. It is a trial lasting 30 days.&lt;br&gt;
The course book is only at &lt;a href="https://skillpipe.com/?lang=en-GB#/account/login"&gt;Skillpipe&lt;/a&gt;. Since it is not a PDF is is more or less useless. Also you can find much better online for free. E.g.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Videos on &lt;a href="https://channel9.msdn.com/"&gt;Channel 9&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;eBooks: &lt;a href="https://mva.microsoft.com/ebooks"&gt;Microsoft Virtual Academy&lt;/a&gt; - will retire during 2019!&lt;/li&gt;
&lt;li&gt;Blog: &lt;a href="https://rasor.github.io/microsoft-architecture-and-implementations.html#microsoft-architecture-and-implementations"&gt;Microsoft Architecture and Implementations&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Building&lt;/h3&gt;
&lt;h4&gt;Iac - Infrastructure as Code - ARM Templates&lt;/h4&gt;
&lt;p&gt;When you are building stuff for Azure there are several ways to get the infrastructure in place.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create the resource via &lt;a href="https://portal.azure.com/"&gt;Azure Portal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Create the resource via powershell. You get a lot of help from Powershell ISE&lt;/li&gt;
&lt;li&gt;Create the resource via Azure CLI. You get some help via Clould Shell (in bash mode)&lt;/li&gt;
&lt;li&gt;Use ARM templates from github as a starting point: &lt;a href="https://github.com/Azure/azure-quickstart-templates"&gt;Azure/azure-quickstart-templates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;From Visual Studio you can get some pre-made ARM templates by selecting&lt;br&gt;
new project - cloud - resourse group. When you deploy the resources will be created&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When the resource group is created you can save it as a ARM template and re-use it e.g. for&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;test and prod &lt;/li&gt;
&lt;li&gt;app1 and app2&lt;/li&gt;
&lt;li&gt;customer1 and customer2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tips:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When you save the resource to Azure Templates, then only the ARM json template is saved. But also Powershell and CLI commands are generated. You need to store the Powershell or CLI commands somewhere else - e.g. in AzureDevOps or Ansible or other CD tool.&lt;/li&gt;
&lt;li&gt;Shared resources should have its own reource group e.g. a network should be separated from the apps sharing that subnet.&lt;/li&gt;
&lt;li&gt;The resource group should follow the life cycle of what it contains, so when the resources should die you just delete the resource group.&lt;/li&gt;
&lt;li&gt;Charging can be seen on a resource group level&lt;/li&gt;
&lt;li&gt;Charging can be filtered by tags, so add tags to all resources&lt;/li&gt;
&lt;li&gt;Apply policies, so roles&lt;ul&gt;
&lt;li&gt;cannot create expensive resources&lt;/li&gt;
&lt;li&gt;cannot delete stuff in prod&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create jobs to auto-delete resource groups in test at 18:00&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ACI - Azure Container Instances&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Tutorial: &lt;a href="https://docs.microsoft.com/en-us/azure/container-instances/"&gt;Azure Container Instances Documentation - Tutorials&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ACI is the managed version (PaaS) of container services. Azure Kubernetes Service (AKS) is the unmanaged (IaaS) version.&lt;br&gt;
In AWS the corresponding product is &lt;a href="https://aws.amazon.com/fargate/"&gt;AWS Fargate&lt;/a&gt;.&lt;br&gt;
As a developer I want the managed product.  &lt;/p&gt;
&lt;h3&gt;Pre installing.&lt;/h3&gt;
&lt;p&gt;Before the course update to latest&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Visual Studio&lt;/li&gt;
&lt;li&gt;VsCode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(assuming you already have them installed)&lt;/p&gt;
&lt;h4&gt;Visual Studio Code&lt;/h4&gt;
&lt;p&gt;You could need the extensions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=msazurermtools.azurerm-vscode-tools"&gt;Azure Resource Manager Tools&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Visual Studio&lt;/h4&gt;
&lt;p&gt;In VSInstaller select the Azure package to get Azure SDK installed. This enables &lt;a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/vs-azure-tools-resource-groups-deployment-projects-create-deploy"&gt;Visual Studio Azure resource group projects&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Azure CLI&lt;/h4&gt;
&lt;p&gt;Azure CLI gives you convenient &lt;code&gt;az&lt;/code&gt; commands to run from bash - very nice together with VSCode or Azure Cloud Shell.&lt;br&gt;
HowTo: &lt;a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?view=azure-cli-latest"&gt;Install the Azure CLI for Windows&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;After install of MSI package:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Open PowerShell&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify installation&lt;/span&gt;
az -v
&lt;span class="c1"&gt;# azure-cli                         2.0.58&lt;/span&gt;
&lt;span class="c1"&gt;# .. and a lot of other rows&lt;/span&gt;
&lt;span class="c1"&gt;# Python location &amp;#39;C:\Program Files (x86)\Microsoft SDKs\Azure\CLI2\python.exe&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# Extensions directory &amp;#39;C:\Users\&amp;lt;user&amp;gt;\.azure\cliextensions&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice the CLI is running on Python which it installed for itself. &lt;br&gt;
&lt;em&gt;You need to add some path to ENV to be able to run from Git Bash, too.&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Try login&lt;/span&gt;
az login
&lt;span class="c1"&gt;# Note, we have launched a browser for you to login. For old experience with device code, use &amp;quot;az login --use-device-code&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# You have logged in. Now let us find all the subscriptions to which you have access...&lt;/span&gt;
&lt;span class="c1"&gt;# [&lt;/span&gt;
&lt;span class="c1"&gt;#   {&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;cloudName&amp;quot;: &amp;quot;AzureCloud&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;id&amp;quot;: &amp;quot;119643ba-5138-4a85-876c-aaaaaaaaaaaa&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;isDefault&amp;quot;: true,&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;name&amp;quot;: &amp;quot;Visual Studio Enterprise&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;state&amp;quot;: &amp;quot;Enabled&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;tenantId&amp;quot;: &amp;quot;eef828d6-45f3-457f-a6e0-aaaaaaaaaaaa&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#     &amp;quot;user&amp;quot;: {&lt;/span&gt;
&lt;span class="c1"&gt;#       &amp;quot;name&amp;quot;: &amp;quot;someone@testing.az&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#       &amp;quot;type&amp;quot;: &amp;quot;user&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#     }&lt;/span&gt;
&lt;span class="c1"&gt;#   }&lt;/span&gt;
&lt;span class="c1"&gt;# ]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;More on &lt;a href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest"&gt;Azure CLI&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Azure PowerShell&lt;/h4&gt;
&lt;p&gt;Azure PowerShell will be used for automation scripts together with container yaml files and json ARM templates.&lt;br&gt;
It replaces AzureRM, which you should uninstall first.  &lt;/p&gt;
&lt;p&gt;Installation of &lt;a href="https://docs.microsoft.com/en-us/powershell/azure/install-az-ps?view=azps-1.3.0"&gt;Azure PowerShell with PowerShellGet&lt;/a&gt;:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Open PowerShell&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# While running as admin:&lt;/span&gt;

&lt;span class="c1"&gt;# Allow to download &lt;/span&gt;
Set-ExecutionPolicy RemoteSigned
&lt;span class="c1"&gt;# Enable remote install&lt;/span&gt;
Import-Module PowerShellGet
&lt;span class="c1"&gt;# Install Azure PowerShell&lt;/span&gt;
Install-Module -Name Az -AllowClobber
&lt;span class="c1"&gt;# Test by connecting to Az&lt;/span&gt;
Connect-AzAccount
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The new tool runs also on Linux (via .NET Standard), so that is why MS made a new one. Read More: &lt;a href="https://docs.microsoft.com/en-us/powershell/azure/new-azureps-module-az?view=azps-1.3.0"&gt;Introducing the Azure PowerShell Az module&lt;/a&gt;.&lt;br&gt;
&lt;a href="https://docs.microsoft.com/en-us/powershell/azure/queries-azureps?view=azps-1.3.0"&gt;Here are some Querys&lt;/a&gt; to get you started&lt;/p&gt;
&lt;h4&gt;Azure Storage Explorer&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Download and install &lt;a href="https://azure.microsoft.com/en-us/features/storage-explorer/"&gt;Azure Storage Explorer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Exams&lt;/h3&gt;
&lt;p&gt;The course leads towards the &lt;a href="https://www.microsoft.com/en-us/learning/azure-exams.aspx"&gt;Azure certification exams&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-az-900.aspx"&gt;Exam AZ-900: Microsoft Azure Fundamentals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-100.aspx"&gt;Exam AZ-100: Microsoft Azure Infrastructure and Deployment&lt;/a&gt;&lt;/em&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/MicrosoftLearning/AZ-100-MicrosoftAzureInfrastructureDeployment"&gt;MicrosoftLearning/AZ-100-MicrosoftAzureInfrastructureDeployment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-101.aspx"&gt;Exam AZ-101: Microsoft Azure Integration and Security&lt;/a&gt;&lt;/em&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/MicrosoftLearning/AZ-101-MicrosoftAzureIntegrationandSecurity"&gt;MicrosoftLearning/AZ-101-MicrosoftAzureIntegrationandSecurity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-103.aspx"&gt;Exam AZ-103 Microsoft Azure Administrator&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Retires AZ-100 and AZ-101&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/MicrosoftLearning/AZ-103-MicrosoftAzureAdministrator"&gt;MicrosoftLearning/AZ-103-MicrosoftAzureAdministrator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://training.azure-academy.com/courses/course-v1:FP+AZ-103.1+2019_T3/course/"&gt;Course | AZ-103.1 | AzureAcademy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-200.aspx"&gt;Exam AZ-200: Microsoft Azure Developer Core Solutions (beta)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-201.aspx"&gt;Exam AZ-201: Microsoft Azure Developer Advanced Solutions (beta)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-az-202.aspx"&gt;Exam AZ-202: Microsoft Azure Developer Certification Transition (beta)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-az-203.aspx"&gt;Exam AZ-203: Developing Solutions for Microsoft Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-300.aspx"&gt;Exam AZ-300: Microsoft Azure Architect Technologies&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;The exam is an extended version of AZ-103.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/MicrosoftLearning/AZ-300-MicrosoftAzureArchitectTechnologies"&gt;MicrosoftLearning/AZ-300-MicrosoftAzureArchitectTechnologies&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.microsoft.com/en-us/learning/exam-AZ-301.aspx"&gt;Exam AZ-301: Microsoft Azure Architect Design&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/MicrosoftLearning/AZ-301-MicrosoftAzureArchitectDesign"&gt;MicrosoftLearning/AZ-301-MicrosoftAzureArchitectDesign&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://training.azure-academy.com/dashboard"&gt;Courses&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/learn/?WT.mc_id=home_homepage-azureportal-learn&amp;amp;tab=tab-start-a-learning-path"&gt;Microsoft Learn&lt;/a&gt; - Learning Paths (LP) &amp;amp; Modules (M)&lt;ul&gt;
&lt;li&gt;Roles:&lt;/li&gt;
&lt;li&gt;Admin&lt;/li&gt;
&lt;li&gt;AI&lt;/li&gt;
&lt;li&gt;Biz analyst&lt;/li&gt;
&lt;li&gt;Biz user&lt;/li&gt;
&lt;li&gt;Data eng.&lt;/li&gt;
&lt;li&gt;Data sci.&lt;/li&gt;
&lt;li&gt;Developer&lt;/li&gt;
&lt;li&gt;Functional consultant&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/learn/browse/?roles=solution-architect"&gt;Sln. Architecht&lt;/a&gt; - 13 LPs + 100 Ms &lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/learn/browse/?roles=solution-architect&amp;amp;resource_type=learning%20path&amp;amp;levels=beginner"&gt;Beginner Learning path&lt;/a&gt; - 8 LPs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Security eng.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;People&lt;/h3&gt;
&lt;p&gt;Perhaps you know or will meet some of my co-students out in the community.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instructor &lt;a href="https://www.linkedin.com/in/nis-gabriel-3400296/"&gt;Nis Gabriel&lt;/a&gt; - pro at Windows infrastructure&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/bruno-westergaard-b179151a/"&gt;Bruno Westergaard&lt;/a&gt; - pro at managing VMs in Azure&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/dennismoeller/"&gt;Dennis Møller Jensen&lt;/a&gt; - pro at managing on-prem hosting&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/martin-serup-0979a4/"&gt;Martin Serup&lt;/a&gt; - pro at compliance, infrastructure architechture, mobile phone management for enterprises&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/andersbustedjanum/"&gt;Anders Busted-Janum&lt;/a&gt; - developer&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/nielslunn/"&gt;Niels Lunn&lt;/a&gt; - developer&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Study"></category><category term="#azure"></category><category term="#microsoft"></category><category term="#docker"></category><category term="#paas"></category><category term="#iaas"></category><category term="#vm"></category><category term="#powershell"></category><category term="#visualstudio"></category><category term="#aci"></category><category term="#arm"></category><category term="#iac"></category></entry><entry><title>YAML tables in Markdown</title><link href="https://rasor.github.io/yaml-tables-in-markdown.html" rel="alternate"></link><published>2018-09-07T17:00:00+02:00</published><updated>2018-09-07T17:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-09-07:/yaml-tables-in-markdown.html</id><summary type="html">&lt;p&gt;If you put YAML in your github markdown, you can use it for creating &lt;strong&gt;nested&lt;/strong&gt; tables&lt;br&gt;
&lt;a href="https://blog.github.com/2013-09-27-viewing-yaml-metadata-in-your-documents/"&gt;&lt;img alt="Nested tables with yaml" src="https://f.cloud.github.com/assets/64050/1228267/e049d0c6-27a0-11e3-9dd8-a1cd22599344.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is opposed to using &lt;a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#tables"&gt;normal markdown tables&lt;/a&gt; as here:  &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Normal&lt;/th&gt;
&lt;th align="center"&gt;Markdown&lt;/th&gt;
&lt;th align="right"&gt;Tables&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;col 3 is&lt;/td&gt;
&lt;td align="center"&gt;right-aligned&lt;/td&gt;
&lt;td align="right"&gt;$1600&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;col 2 is&lt;/td&gt;
&lt;td align="center"&gt;centered&lt;/td&gt;
&lt;td align="right"&gt;$12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;zebra stripes&lt;/td&gt;
&lt;td align="center"&gt;are neat&lt;/td&gt;
&lt;td align="right"&gt;$1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Cool usage sample&lt;/h2&gt;
&lt;p&gt;CryptoZombies is a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you put YAML in your github markdown, you can use it for creating &lt;strong&gt;nested&lt;/strong&gt; tables&lt;br&gt;
&lt;a href="https://blog.github.com/2013-09-27-viewing-yaml-metadata-in-your-documents/"&gt;&lt;img alt="Nested tables with yaml" src="https://f.cloud.github.com/assets/64050/1228267/e049d0c6-27a0-11e3-9dd8-a1cd22599344.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is opposed to using &lt;a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#tables"&gt;normal markdown tables&lt;/a&gt; as here:  &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Normal&lt;/th&gt;
&lt;th align="center"&gt;Markdown&lt;/th&gt;
&lt;th align="right"&gt;Tables&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;col 3 is&lt;/td&gt;
&lt;td align="center"&gt;right-aligned&lt;/td&gt;
&lt;td align="right"&gt;$1600&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;col 2 is&lt;/td&gt;
&lt;td align="center"&gt;centered&lt;/td&gt;
&lt;td align="right"&gt;$12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;zebra stripes&lt;/td&gt;
&lt;td align="center"&gt;are neat&lt;/td&gt;
&lt;td align="right"&gt;$1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Cool usage sample&lt;/h2&gt;
&lt;p&gt;CryptoZombies is a code teaching webapp that uses data from Yaml tables as persistence for their content. Here is how their markup shows in github:&lt;br&gt;
&lt;a href="https://github.com/loomnetwork/cryptozombie-lessons/blob/master/en/3/02-ownable.md"&gt;&lt;img alt="cryptozombie markdown" src="img/2018/2018-09-07-YamlTable1.PNG"&gt;&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;The corresponding yaml markdown:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Ownable Contracts&lt;/span&gt;
&lt;span class="nt"&gt;actions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;checkAnswer&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;hints&amp;#39;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
&lt;span class="nt"&gt;requireLogin&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;true&lt;/span&gt;
&lt;span class="nt"&gt;material&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;editor&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;language&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;sol&lt;/span&gt;
    &lt;span class="nt"&gt;startingCode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;zombiefactory.sol&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
        &lt;span class="no"&gt;pragma solidity ^0.4.19;&lt;/span&gt;
        &lt;span class="no"&gt;// 1. Import here&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;zombiefeeding.sol&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
        &lt;span class="no"&gt;pragma solidity ^0.4.19;&lt;/span&gt;
        &lt;span class="no"&gt;// other sol code here &lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;ownable.sol&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;|&lt;/span&gt;
        &lt;span class="no"&gt;// other sol code here &lt;/span&gt;
    &lt;span class="nt"&gt;answer&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="no"&gt;pragma solidity ^0.4.19;&lt;/span&gt;
      &lt;span class="no"&gt;// other sol code here &lt;/span&gt;
&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;Did you spot ....&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;What is really cool is how their webapp formats the .md
&lt;a href="https://cryptozombies.io/en/lesson/3/chapter/2"&gt;&lt;img alt="cryptozombie markdown" src="img/2018/2018-09-07-YamlTable2.PNG"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/github/markup"&gt;github/markup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet"&gt;Markdown Cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://cryptozombies.io/en/course"&gt;CryptoZombies - Learn to code games on Ethereum.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/loomnetwork/cryptozombie-lessons"&gt;CryptoZombies lessons webapp on github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#github"></category><category term="#yaml"></category><category term="#markdown"></category></entry><entry><title>Using TFS from VSCode</title><link href="https://rasor.github.io/using-tfs-from-vscode.html" rel="alternate"></link><published>2018-09-02T14:00:00+02:00</published><updated>2018-09-07T11:30:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-09-02:/using-tfs-from-vscode.html</id><summary type="html">&lt;p&gt;You might continue a while working with TFS before you jump to GIT.&lt;br&gt;
At least we do that at my work. For frontend projects like Ionic, Angular, Vue, etc using a CLI for generation code templates it makes most sense to to stay in VSCode (opposed to Visual Studio).&lt;br&gt;
So …&lt;/p&gt;</summary><content type="html">&lt;p&gt;You might continue a while working with TFS before you jump to GIT.&lt;br&gt;
At least we do that at my work. For frontend projects like Ionic, Angular, Vue, etc using a CLI for generation code templates it makes most sense to to stay in VSCode (opposed to Visual Studio).&lt;br&gt;
So howto use TFS from VSCode?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make sure you are already connected to TFS from normal Visual Studio&lt;/li&gt;
&lt;li&gt;From the normal Visual Studio you need to change your workspace from &lt;code&gt;server&lt;/code&gt; to &lt;code&gt;local&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Goto Source Control Explorer and edit workspaces&lt;/li&gt;
&lt;li&gt;Change Location from &lt;code&gt;server&lt;/code&gt; to &lt;code&gt;local&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Map the root of your npm project (in level with package.json) to where you want it (or where it already is) in TFS &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://github.com/Microsoft/vsts-vscode/blob/master/TFVC_README.md#what-is-the-difference-between-a-local-and-server-workspace-how-can-i-tell-which-one-im-working-with"&gt;&lt;img alt="edit workspaces" src="https://raw.githubusercontent.com/Microsoft/vsts-vscode/master/assets/tf-workspace-dialog.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install into VSCode &lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vsts.team"&gt;Visual Studio Team Services&lt;/a&gt; plugin&lt;/li&gt;
&lt;li&gt;In the root of your npm project (in level with package.json) create a &lt;a href="https://docs.microsoft.com/en-us/previous-versions/visualstudio/visual-studio-2013/jj155786(v=vs.120)#tfignore-file-example"&gt;.tfignore&lt;/a&gt; file.&lt;br&gt;
Here is a sample:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# .tfignore&lt;/span&gt;
&lt;span class="c1"&gt;# When using VSCode plugin Visual Studio Team Services&lt;/span&gt;
&lt;span class="c1"&gt;# https://marketplace.visualstudio.com/items?itemName=ms-vsts.team&lt;/span&gt;
&lt;span class="c1"&gt;# .. then you need this .tfignore file&lt;/span&gt;

&lt;span class="c1"&gt;# https://docs.microsoft.com/en-us/previous-versions/visualstudio/visual-studio-2013/jj155786(v=vs.120)#tfignore-file-example&lt;/span&gt;

&lt;span class="c1"&gt;# Ignore all files in the sub-folders&lt;/span&gt;
&lt;span class="se"&gt;\n&lt;/span&gt;ode_modules
&lt;span class="se"&gt;\.&lt;/span&gt;sourcemaps
&lt;span class="se"&gt;\w&lt;/span&gt;ww
&lt;span class="se"&gt;\p&lt;/span&gt;latforms
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;In your &lt;a href="https://stackoverflow.com/questions/48056972/how-to-connect-tfs-in-visual-studio-code/48070466#48070466"&gt;VSCode user settings&lt;/a&gt; (File - Preferences - Settings) add:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;tfvc.location&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\Common7\\IDE\\CommonExtensions\\Microsoft\\TeamFoundation\\Team Explorer\\tf.exe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;tfvc.restrictWorkspace&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;In VSCode you can now login to TFS with command (Ctrl-Shift-P) team signin, where you´ll enter your corporate username and password&lt;/li&gt;
&lt;li&gt;So now you can checkin (incl see diffs, undo and exclude) to TFS from the Source Control tab&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://github.com/Microsoft/vsts-vscode/blob/master/TFVC_README.md#the-tfvc-source-control-viewlet"&gt;&lt;img alt="Source Control Tab in VSCode" src="https://raw.githubusercontent.com/Microsoft/vsts-vscode/master/assets/tfvc-viewlet.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#vscode"></category><category term="#tfs"></category><category term="#git"></category><category term="#npm"></category><category term="#visualstudio"></category></entry><entry><title>Microsoft Architecture and Implementations</title><link href="https://rasor.github.io/microsoft-architecture-and-implementations.html" rel="alternate"></link><published>2018-08-18T20:00:00+02:00</published><updated>2020-10-18T10:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-08-18:/microsoft-architecture-and-implementations.html</id><summary type="html">&lt;p&gt;This blog will help you choosing the right design and corresponding code, when you build microsoft web and services in 2017 and 2018.&lt;/p&gt;
&lt;h1&gt;Lists of Architectures and Implementations&lt;/h1&gt;
&lt;p&gt;Here are some lists that can be gives you several designs.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/net/learn/architecture"&gt;.NET Application Architecture Guidance&lt;/a&gt;&lt;br&gt;
Mobile, Desktop, Web and Azure&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/"&gt;Azure Reference …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;This blog will help you choosing the right design and corresponding code, when you build microsoft web and services in 2017 and 2018.&lt;/p&gt;
&lt;h1&gt;Lists of Architectures and Implementations&lt;/h1&gt;
&lt;p&gt;Here are some lists that can be gives you several designs.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/net/learn/architecture"&gt;.NET Application Architecture Guidance&lt;/a&gt;&lt;br&gt;
Mobile, Desktop, Web and Azure&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/"&gt;Azure Reference Architectures&lt;/a&gt;&lt;br&gt;
Big data, Web applications, N-tier applications, Virtual networks, Active Directory, VM workloads&lt;ul&gt;
&lt;li&gt;eBook (2017, 333 pages): &lt;a href="https://azure.microsoft.com/en-us/campaigns/cloud-application-architecture-guide/"&gt;Cloud Application Architecture Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/standard/guidance-architecture"&gt;.NET Architecture Guidance&lt;/a&gt;&lt;br&gt;
eBooks and Code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;WebApps and services&lt;/h2&gt;
&lt;p&gt;This blog only looks at webapps and webservices.  &lt;/p&gt;
&lt;h3&gt;Intro&lt;/h3&gt;
&lt;p&gt;Should you choose simple monolitic webs, scalable microservices or cost saving functions?&lt;br&gt;
Have a look at &lt;strong&gt;Architecture styles&lt;/strong&gt; below to quickly see what you get.&lt;br&gt;
Read the Fowler Article &lt;a href="https://martinfowler.com/articles/serverless.html"&gt;Serverless Architectures&lt;/a&gt; to understand when you continue from microservices to serverless functions.&lt;br&gt;
Follow the &lt;a href="https://docs.microsoft.com/en-us/azure/architecture/guide/design-principles/index"&gt;Design principles for Azure applications&lt;/a&gt;.&lt;br&gt;
Follow the &lt;a href="https://docs.microsoft.com/en-us/azure/security/security-best-practices-and-patterns"&gt;Azure security best practices and patterns&lt;/a&gt;.&lt;br&gt;
Review your design with &lt;a href="https://docs.microsoft.com/en-us/azure/architecture/checklist/resiliency"&gt;Resiliency checklist&lt;/a&gt;.  &lt;/p&gt;
&lt;h4&gt;Architecture from real life&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront"&gt;Vue Storefront&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;eBook (2018, 122 pages): &lt;a href="http://go.divante.co/microservices-architecture-ecommerce/"&gt;Microservices Architecture for eCommerce&lt;/a&gt;&lt;br&gt;
The book is not about Azure nor about C#. It is about architecting for cloud and PWA.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/"&gt;Architecture styles&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;The drawings below gives you a fast overview of some web patterns you can use.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;N-tier - Monolitic - The most simple - Good for PaaS&lt;br&gt;
&lt;img alt="N-tier" src="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/n-tier-sketch.svg"&gt;&lt;/li&gt;
&lt;li&gt;Web-Queue-Worker - Good for PaaS&lt;br&gt;
&lt;img alt="Web-Queue-Worker" src="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/web-queue-worker-sketch.svg"&gt;&lt;/li&gt;
&lt;li&gt;Microservices - Good for containers&lt;br&gt;
&lt;img alt="Microservices" src="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/microservices-sketch.svg"&gt;&lt;/li&gt;
&lt;li&gt;CQRS - good for scaling data&lt;br&gt;
&lt;img alt="CQRS" src="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/cqrs-sketch.svg"&gt;&lt;/li&gt;
&lt;li&gt;Event-driven - good for scaling services&lt;br&gt;
&lt;img alt="Event-driven" src="https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/event-driven-sketch.svg"&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://martinfowler.com/articles/serverless.html"&gt;Serverless functions&lt;/a&gt; - FaaS&lt;br&gt;
&lt;img alt="Serverless functions" src="https://martinfowler.com/articles/serverless/sps.svg"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Cloud Design Patterns&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/patterns/"&gt;Cloud Design Patterns&lt;/a&gt; is a long list of patterns you can use to finetune your design of SW, Infrascructure, CI/CD pipline, Monitoring and Operations.  &lt;/p&gt;
&lt;h3&gt;Samples With implementation&lt;/h3&gt;
&lt;p&gt;If you want code to look at here is a list of samples with code.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;N-tier (monolith): &lt;a href="https://docs.microsoft.com/en-us/dotnet/standard/modern-web-apps-azure-architecture/"&gt;Architect modern web applications with ASP.NET Core and Azure&lt;/a&gt;&lt;br&gt;
How to select appropriate frontend and backend&lt;ul&gt;
&lt;li&gt;eBook core 3.1 (2020, 113 pages): &lt;a href="https://aka.ms/webappebook"&gt;Architecting Modern Web Applications with ASP.NET Core and Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/dotnet-architecture/eShopOnWeb"&gt;eShopOnWeb&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/ardalis/cleanarchitecture"&gt;CleanArchitecture&lt;/a&gt;
MVC and Razor Pages frontend, EF Code first&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;eBook (12-2019, 598 pages): &lt;a href="https://www.packtpub.com/product/asp-net-core-3-and-react/9781789950229"&gt;ASP.NET Core 3 and React&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;code: &lt;a href="https://github.com/PacktPublishing/ASP.NET-Core-3-and-React"&gt;PacktPublishing/ASP.NET-Core-3-and-React&lt;/a&gt;&lt;br&gt;
React frontend, WebAPI, Dapper, OIDConnect&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;eBook (11-2017, 542 pages): &lt;a href="https://www.packtpub.com/application-development/aspnet-core-2-and-angular-5?utm_source=GitHub&amp;amp;utm_medium=repository&amp;amp;utm_campaign=9781788293600"&gt;ASP.NET Core 2 and Angular 5&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/PacktPublishing/ASP.NET-Core-2-and-Angular-5"&gt;PacktPublishing/ASP.NET-Core-2-and-Angular-5&lt;/a&gt;&lt;br&gt;
Angular frontend, WebAPI, EF Code first, OIDConnect&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/standard/microservices-architecture/index"&gt;.NET Microservices. Architecture for Containerized .NET Applications&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;eBook(2018, 331 pages): &lt;a href="https://aka.ms/microservicesebook"&gt;.NET Microservices Architecture&lt;/a&gt;&lt;br&gt;
Using CQRS&lt;/li&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/dotnet-architecture/eShopOnContainers"&gt;eShopOnContainers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/dotnet-architecture/eShopOnAzure"&gt;eShopOnAzure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/dotnet-architecture/eShopOnContainersAI"&gt;eShopOnContainersAI&lt;/a&gt;&lt;br&gt;
&lt;img alt="eShopOnContainers" src="https://user-images.githubusercontent.com/1712635/38758862-d4b42498-3f27-11e8-8dad-db60b0fa05d3.png"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/microservices/"&gt;Designing, building, and operating microservices on Azure with Kubernetes&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Code: https://github.com/mspnp/microservices-reference-implementation  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dotnet-architecture/"&gt;More Code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Samples Without implementation&lt;/h3&gt;
&lt;p&gt;If you just want the architecture design samples here is a list.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/app-service-web-app/basic-web-app"&gt;Basic web application&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/app-service-web-app/scalable-web-app"&gt;Scalable web application&lt;/a&gt;&lt;br&gt;
using WebApp, ApiApp, Queue, WebJob, Redis, SQL, Cosmos, Search, Blob, CDN&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/app-service-web-app/multi-region"&gt;Multi-region web application&lt;/a&gt;&lt;br&gt;
as above, but extend with standby region and replication&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/standard/serverless-architecture/index"&gt;Serverless apps: Architecture, patterns, and Azure implementation&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;eBook (2018, 54 pages): &lt;a href="https://aka.ms/serverless-ebook"&gt;Serverless apps&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Azure Tutorials&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/app-service/#step-by-step-tutorials"&gt;Azure Web Apps - Tutorials&lt;/a&gt;&lt;br&gt;
WebApp with Secure access to SQL DB&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-your-first-function-visual-studio"&gt;Create your first function in Azure using Visual Studio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/guides/developer/azure-developer-guide"&gt;Get started guide for developers on Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;eBook (33 pages): &lt;a href="https://www.microsoft.com/net/download/thank-you/azure-quick-start-ebook"&gt;Azure Quick Start Guide for .NET Developers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Transistion to cloud&lt;/h1&gt;
&lt;p&gt;If you need help to get started in cloud.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;eBook (2017, 156 pages): &lt;a href="https://azure.microsoft.com/en-us/resources/enterprise-cloud-strategy/"&gt;Enterprise Cloud Strategy&lt;/a&gt;&lt;br&gt;
Why go to cloud?&lt;/li&gt;
&lt;li&gt;eBook (2018, 120 pages): &lt;a href="https://azure.microsoft.com/en-us/resources/azure-strategy-and-implementation-guide/en-us/"&gt;Azure Strategy and Implementation Guide&lt;/a&gt;&lt;br&gt;
Governance, Architecture, Operations, Service Management&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/cloud-adoption-guide/"&gt;Cloud Adoption Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/dotnet/standard/modernize-with-azure-and-containers/index"&gt;Modernize Existing .NET Applications With Azure Cloud and Windows Containers (2nd edition)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;eBook (2018, 72 pages): &lt;a href="https://www.microsoft.com/net/download/thank-you/modernizing-existing-net-apps-ebook"&gt;Modernizing Existing .NET Applications&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Code: &lt;a href="https://github.com/dotnet-architecture/eShopModernizing"&gt;eShopModernizing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.microsoft.com/en-us/azureessentials/Pivot/AzureEssentials/AzureInfrastructure/Watch"&gt;Azure Essentials&lt;/a&gt; - Intro to Azure&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Infrastructure&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;eBook (10-2017, 346 pages): &lt;a href="https://azure.microsoft.com/en-us/resources/azure-for-architects/en-us/"&gt;Azure for Architects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Video course (2017): &lt;a href="https://www.youtube.com/watch?v=xJMbkZvuVO0&amp;amp;list=PL9XzOCngAkqs0Q8ZRdafnSYExKQurZrBY"&gt;Architecting Distributed Cloud Applications&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Architecture for providing &lt;a href="https://github.com/mspnp/reference-architectures/tree/master/dmz/secure-vnet-dmz"&gt;Azure services for on-premise and the Internet&lt;/a&gt;&lt;br&gt;
&lt;img alt="Azure services" src="https://camo.githubusercontent.com/f48de024cb1b395a4727b20e18fb14dc33d1bb53/68747470733a2f2f646f63732e6d6963726f736f66742e636f6d2f617a7572652f6172636869746563747572652f7265666572656e63652d617263686974656374757265732f646d7a2f696d616765732f646d7a2d7075626c69632e706e67"&gt;&lt;/li&gt;
&lt;li&gt;ARM &lt;a href="https://azure.microsoft.com/en-us/resources/templates/"&gt;Quickstart Templates&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Git repo for &lt;a href="https://github.com/Azure/azure-quickstart-templates"&gt;quickstart-templates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;AzureStack - Cloud on-premise&lt;/h3&gt;
&lt;p&gt;If you want to deploy to Azure-on-premise, then AzureStack is the Microsoft answer to OpenStack&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;eBook (2017, 54 pages): &lt;a href="https://azure.microsoft.com/en-us/resources/azure-stack-building-end-to-end-validation-environment/en-us/"&gt;Azure Stack: Building an end-to-end validation environment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/azure-stack/"&gt;Azure Stack Operator - Tutorials&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;More resources&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://mva.microsoft.com/ebooks"&gt;Microsoft Virtual Academy eBooks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rasor/awesome-tables/blob/master/awesome-ebooks-training.md#ebooks"&gt;Rasor - eBooks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;The past&lt;/h1&gt;
&lt;p&gt;Up until 2017 you could find guidance on&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://archive.codeplex.com/?s=patterns%20practices"&gt;CodePlex Archive&lt;/a&gt; - Pattern &amp;amp; Practices&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#microsoft"></category><category term="#architecture"></category><category term="#ebooks"></category><category term="#azure"></category><category term="#microservices"></category><category term="#faas"></category><category term="#react"></category><category term="#ng"></category><category term="#ef"></category><category term="#dapper"></category><category term="#vue"></category></entry><entry><title>Tools for Wordpress sites</title><link href="https://rasor.github.io/tools-for-wordpress-sites.html" rel="alternate"></link><published>2018-06-10T22:00:00+02:00</published><updated>2018-06-10T22:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-06-10:/tools-for-wordpress-sites.html</id><summary type="html">&lt;p&gt;Wordpress sites is still going strong with a large community creating beautiful themes.&lt;/p&gt;
&lt;h2&gt;Chrome Plugin: WP Sniffer&lt;/h2&gt;
&lt;p&gt;PenguinWP has created a  &lt;a href="https://chrome.google.com/webstore/detail/wpsniffer-wordpress-theme/kihhefcbenhkjgjhchanjfhhflaojldn"&gt;Chrome plugin&lt;/a&gt; called &lt;a href="https://penguinwp.com/better-way-to-find-most-popular-wordpress-themes/"&gt;WPSniffer&lt;/a&gt; &lt;/p&gt;
&lt;h3&gt;Testing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;GoTo a site hosted by WordPress - e.g. &lt;a href="http://www.knowledgecube.net/"&gt;Knowledge Cube&lt;/a&gt;&lt;br&gt;
=&amp;gt; The plugin will change color to orange in the address bar.&lt;/li&gt;
&lt;li&gt;Press the plugin …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Wordpress sites is still going strong with a large community creating beautiful themes.&lt;/p&gt;
&lt;h2&gt;Chrome Plugin: WP Sniffer&lt;/h2&gt;
&lt;p&gt;PenguinWP has created a  &lt;a href="https://chrome.google.com/webstore/detail/wpsniffer-wordpress-theme/kihhefcbenhkjgjhchanjfhhflaojldn"&gt;Chrome plugin&lt;/a&gt; called &lt;a href="https://penguinwp.com/better-way-to-find-most-popular-wordpress-themes/"&gt;WPSniffer&lt;/a&gt; &lt;/p&gt;
&lt;h3&gt;Testing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;GoTo a site hosted by WordPress - e.g. &lt;a href="http://www.knowledgecube.net/"&gt;Knowledge Cube&lt;/a&gt;&lt;br&gt;
=&amp;gt; The plugin will change color to orange in the address bar.&lt;/li&gt;
&lt;li&gt;Press the plugin&lt;br&gt;
=&amp;gt; DETECTED WORDPRESS THEME: &lt;a href="https://themeforest.net/item/jupiter-multipurpose-responsive-theme/5177775?s_rank=1"&gt;JUPITER&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="WPSniffer" src="https://lh3.googleusercontent.com/-4HDYqRKhxBQWvniHkf7AAMtLKmL9L2jySRvb8cIesOIYAR9PdvxzrtaTEsLkiEHWAxvroM=w640-h400-e365"&gt;&lt;/p&gt;
&lt;h2&gt;Theme: Jupiter&lt;/h2&gt;
&lt;p&gt;Jupiter has an &lt;a href="https://themes.artbees.net/docs/installing-theme-and-child-theme/"&gt;Installation instruction&lt;/a&gt; telling how to install a child theme to avoid theme customizations to be overwritten by theme updates.&lt;/p&gt;
&lt;h2&gt;Tool: Visual Composer&lt;/h2&gt;
&lt;p&gt;Knowledge Cube web also uses the tool &lt;a href="https://visualcomposer.io/"&gt;Visual Composer&lt;/a&gt; to edit the Website.&lt;/p&gt;
&lt;h2&gt;WP Plugin: Yoast SEO&lt;/h2&gt;
&lt;p&gt;Knowledge Cube web does SEO optimisation with &lt;a href="https://yoast.com/wordpress/plugins/seo/"&gt;Yoast SEO&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#wordpress"></category><category term="#themes"></category><category term="#seo"></category></entry><entry><title>Vue Storefront installation on Windows Dev box</title><link href="https://rasor.github.io/vue-storefront-installation-on-windows-dev-box.html" rel="alternate"></link><published>2018-05-15T23:00:00+02:00</published><updated>2020-06-26T19:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-05-15:/vue-storefront-installation-on-windows-dev-box.html</id><summary type="html">&lt;p&gt;&lt;a href="https://medium.com/@piotrkarwatka/vue-storefront-1-0rc-3-has-arrived-5c770a338d4"&gt;Vue Storefront&lt;/a&gt; will soon be out (june 2018).
It is a PWA frontend to the Magento webshop.  &lt;/p&gt;
&lt;p&gt;I think I'll give it a testdrive.&lt;br&gt;
I am attending a online marketing seminar and workshop presented by &lt;a href="https://twitter.com/tzacchi"&gt;Thomas Zacchi (@tzacchi)&lt;/a&gt; from &lt;a href="https://www.intoto.dk/"&gt;intoto digital&lt;/a&gt;, so I could use a modern webshop to play …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="https://medium.com/@piotrkarwatka/vue-storefront-1-0rc-3-has-arrived-5c770a338d4"&gt;Vue Storefront&lt;/a&gt; will soon be out (june 2018).
It is a PWA frontend to the Magento webshop.  &lt;/p&gt;
&lt;p&gt;I think I'll give it a testdrive.&lt;br&gt;
I am attending a online marketing seminar and workshop presented by &lt;a href="https://twitter.com/tzacchi"&gt;Thomas Zacchi (@tzacchi)&lt;/a&gt; from &lt;a href="https://www.intoto.dk/"&gt;intoto digital&lt;/a&gt;, so I could use a modern webshop to play with.  &lt;/p&gt;
&lt;h2&gt;Initial thoughts about installation&lt;/h2&gt;
&lt;p&gt;I think I'll deploy Magento to a cheap PHP webhotel I have and then at another time roll it out as a Docker container.&lt;br&gt;
&lt;a href="https://hub.docker.com/r/bitnami/magento/"&gt;bitnami/magento/&lt;/a&gt; looks good for test - it proposes a data volume with MariaDB.&lt;br&gt;
Vue Storefront could just as well be served from the same container as Magento.  &lt;/p&gt;
&lt;p&gt;But hey - I won't need it neither front nor back deployed - I only want to play. Then instead I'll serve it in MiniShift from my PC.  &lt;/p&gt;
&lt;h2&gt;Got a little wiser&lt;/h2&gt;
&lt;p&gt;In the article  &lt;a href="https://www.linkedin.com/pulse/magento2-nosql-database-pwa-support-piotr-karwatka/"&gt;"Magento2 - NoSQL database and PWA support"&lt;/a&gt; &lt;a href="https://twitter.com/piotrkarwatka"&gt;Piotr Karwatka (@piotrkarwatka)&lt;/a&gt; explains there is a little more the setup than a Vue frontend and a Magento backend.&lt;br&gt;
There seems to be two chains that works something like  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OLTP chain: &lt;a href="https://github.com/DivanteLtd/vue-storefront"&gt;VueFront&lt;/a&gt; -&amp;gt; &lt;a href="https://github.com/DivanteLtd/vue-storefront-api"&gt;ExpressApiBack&lt;/a&gt; -&amp;gt; ElasticSearch or MongoDB container &lt;/li&gt;
&lt;li&gt;Sync with Magento chain: &lt;a href="https://github.com/Automattic/kue"&gt;KueWorker&lt;/a&gt; -&amp;gt; KueBack(Redis) container -&amp;gt;  &lt;a href="https://github.com/DivanteLtd/mage2vuestorefront"&gt;Mage2VueFront&lt;/a&gt; -&amp;gt; ElasticSearch or MongoDB &amp;lt;-&amp;gt; Magento DB  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The model of VueFront the data apparently is great for NoSQL storage and querying, which supposedly scales better than the models used in SQL (which the Magento DB uses).&lt;br&gt;
So I guess we for the dev envir again are down to three containers:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vue apps: VueFront, ExpressApiBack, KueWorker, Mage2VueFront&lt;/li&gt;
&lt;li&gt;Vue storage: Redis, ElasticSearch or MongoDB&lt;/li&gt;
&lt;li&gt;Magento app, Magento DB&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If we for a quick start skip the sync chain, then &lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/Installing%20on%20Linux%20and%20MacOS.md#install-the-vue-storefront-api"&gt;data can be fetched&lt;/a&gt; from &lt;a href="https://github.com/magento/magento2-sample-data"&gt;magento2-sample-data&lt;/a&gt;&lt;br&gt;
Let's see if that is doable.&lt;/p&gt;
&lt;h2&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/Installing%20on%20Windows.md"&gt;Installing on Windows&lt;/a&gt;&lt;/h2&gt;
&lt;h3&gt;Prerequisites&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Install &lt;a href="https://git-scm.com/downloads"&gt;Git for Windows&lt;/a&gt; - This will install &lt;code&gt;Git Bash&lt;/code&gt;&lt;ol&gt;
&lt;li&gt;Optional Install &lt;a href="https://rasor.github.io/curl-cli-on-windows.html"&gt;cUrl CLI on Windows&lt;/a&gt; - This will ensure that you can call a remote end over SSL&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://store.docker.com/editions/community/docker-ce-desktop-windows"&gt;Docker CE for Windows&lt;/a&gt;. &lt;ol&gt;
&lt;li&gt;I installed &lt;a href="2018-05-06-Docker4Win.md"&gt;Docker4Win here&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;Moore info: &lt;a href="https://blog.jayway.com/2017/04/19/running-docker-on-bash-on-windows/"&gt;Running Docker containers on Bash on Windows&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;If you use VS Code you could install &lt;a href="https://marketplace.visualstudio.com/items?itemName=PeterJausovec.vscode-docker"&gt;Docker Support for VSCode&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://rasor.github.io/using-nvm-for-windows-and-yarn.html"&gt;NVM for Windows, Node.js and Yarn&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://www.npmjs.com/package/vue-cli"&gt;vue-cli&lt;/a&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# print installed node versions&lt;/span&gt;
nvm list

&lt;span class="c1"&gt;# At time of writing vue-cli 3 is still in beta, so I choose an old one&lt;/span&gt;
&lt;span class="c1"&gt;#nvm install 8.11.1&lt;/span&gt;
nvm use &lt;span class="m"&gt;8&lt;/span&gt;.11.1 
npm install -g vue-cli@2.9.3
vue --version
&lt;span class="c1"&gt;# Test drive&lt;/span&gt;
vue list
&lt;span class="nb"&gt;cd&lt;/span&gt; .&lt;span class="se"&gt;\y&lt;/span&gt;our-vue-root&lt;span class="se"&gt;\&lt;/span&gt;
vue init webpack-simple my-29project
&lt;span class="nb"&gt;cd&lt;/span&gt; my-29project
code . &lt;span class="c1"&gt;#if you are using VS Code editor&lt;/span&gt;
npm install
npm run dev &lt;span class="c1"&gt;# Opens http://localhost:8080/&lt;/span&gt;

&lt;span class="c1"&gt;# When vue-cli 3 comes out I want to have that cli together with another node version - notice - the cli changed name @npm&lt;/span&gt;
&lt;span class="c1"&gt;#nvm install 10.1.0&lt;/span&gt;
nvm use &lt;span class="m"&gt;10&lt;/span&gt;.1.0
npm install -g @vue/cli@3.0.0-beta.10
vue --version
&lt;span class="c1"&gt;# Test drive&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; .&lt;span class="se"&gt;\y&lt;/span&gt;our-vue-root&lt;span class="se"&gt;\&lt;/span&gt;
vue create my-30project
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;1. v2.9.3 [vue-cli](https://github.com/vuejs/vue-cli/tree/master) intro&lt;/span&gt;
&lt;span class="err"&gt;2. v3.0. [@vue/cli](https://github.com/vuejs/vue-cli/blob/dev/docs/README.md#introduction) intro&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;If you use VSCode you could install &lt;a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur"&gt;Vetur&lt;/a&gt; - Vue tooling for VSCode for syntax highlight and snippets&lt;/li&gt;
&lt;li&gt;If you use Chrome you need &lt;a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?hl=en"&gt;Vue.js devtools&lt;/a&gt; for debugging&lt;ol&gt;
&lt;li&gt;The devtools has &lt;strong&gt;Open in editor&lt;/strong&gt; button to bring you back to the code. check out &lt;a href="https://medium.com/the-vue-point/whats-new-in-vue-devtools-4-0-9361e75e05d0"&gt;What’s new in Vue Devtools 4.0&lt;/a&gt;, which also points you to this &lt;a href="https://github.com/vuejs/vue-devtools/blob/master/docs/open-in-editor.md"&gt;setup guide&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Install Vue Storefront&lt;/h3&gt;
&lt;p&gt;There are two parts&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the Express API including a Docker container for the data&lt;/li&gt;
&lt;li&gt;the Vue frontend&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;VS API&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Start Docker VM by double-click on the desktop icon. This takes a while&lt;/li&gt;
&lt;li&gt;Install VS API&lt;br&gt;
From GitBash:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; .&lt;span class="se"&gt;\y&lt;/span&gt;our-vue-root&lt;span class="se"&gt;\&lt;/span&gt;
git clone https://github.com/DivanteLtd/vue-storefront-api.git vue-storefront-api
&lt;span class="nb"&gt;cd&lt;/span&gt; vue-storefront-api
&lt;span class="c1"&gt;# Fetch dependencies&lt;/span&gt;
yarn
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Load you docker VM with containers from docker-compose.yaml&lt;br&gt;
From CMD prompt:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# login to docker - this did not work from GitBash, but did from CMD&lt;/span&gt;
docker login -u yourUseridNotYourEmail -p yourPassword
&lt;span class="c1"&gt;# Run Docker containers required by vue-storefront-api. This can take a while ...&lt;/span&gt;
docker-compose up
&lt;span class="c1"&gt;# this CMD promt won&amp;#39;t return the promt. It is probably a Daemon now, so switch back to GitBash&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Load the Docker data containers with data&lt;br&gt;
From GitBash:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify that the containers are running&lt;/span&gt;
docker network ls
&lt;span class="c1"&gt;# Open browser for Elastic Search (es1) container&lt;/span&gt;
start http://localhost:9200/
&lt;span class="c1"&gt;# Restore products database (yarn restore) and run latest migrations (yarn migrate)&lt;/span&gt;
yarn restore
yarn migrate
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Copy &lt;code&gt;config/default.json&lt;/code&gt; to &lt;code&gt;config/local.json&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add &lt;a href="https://gist.github.com/rasor/6eb9293a025ae919d66a31a8f8bdcb3d"&gt;..vscode\launch.json&lt;/a&gt; to the project&lt;/li&gt;
&lt;li&gt;Edit package.json - change:  &lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="s"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;dev&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;nodemon&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;-w&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;src&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;--exec&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;\&amp;quot;babel-node&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;src&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;--presets&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;es2015,stage-0\&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to (add --inspect)  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="s"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;dev&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;nodemon&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;--inspect&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;-w&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;src&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;--exec&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;\&amp;quot;babel-node&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;src&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;--presets&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;es2015,stage-0\&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Run API using &lt;code&gt;yarn dev&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Verify API is running&lt;br&gt;
start http://localhost:8080/api/&lt;br&gt;
Response:  &lt;code&gt;{"version":"0.1.0"}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Debug the API from VSCode by setting breakpoints and press &lt;code&gt;play Attach&lt;/code&gt; on the Debug tab.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;VS Frontend&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Install VS API&lt;br&gt;
From GitBash 2:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; .&lt;span class="se"&gt;\y&lt;/span&gt;our-vue-root&lt;span class="se"&gt;\&lt;/span&gt;
git clone https://github.com/DivanteLtd/vue-storefront.git vue-storefront
&lt;span class="nb"&gt;cd&lt;/span&gt; vue-storefront
&lt;span class="c1"&gt;# Fetch dependencies&lt;/span&gt;
yarn install
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Copy &lt;code&gt;config/default.json&lt;/code&gt; to &lt;code&gt;config/local.json&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Images: because vue-storefront-api uses &lt;code&gt;imagemagick&lt;/code&gt; and some nodejs cmdline bindings it can be dificult to run the image proxy on localhost/windows machine. Please point out the vue-storefront to image proxy provided by changing &lt;code&gt;config/local.json&lt;/code&gt; images.baseUrl:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;export&lt;/span&gt; &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;elasticsearch&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;httpAuth&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;host&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;localhost:8080/api/catalog&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;index&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;vue_storefront_catalog&amp;#39;&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="c1"&gt;// we have vue-storefront-api (https://github.com/DivanteLtd/vue-storefront-api) endpoints below:&lt;/span&gt;
  &lt;span class="nx"&gt;orders&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;endpoint&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;localhost:8080/api/order/create&amp;#39;&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nx"&gt;images&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;baseUrl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;https://demo.vuestorefront.io/img/&amp;#39;&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Run Vue Storefront Server using &lt;code&gt;yarn dev&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Verify Fronteend is running&lt;br&gt;
start http://localhost:3000/  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You will see a &lt;a href="https://medium.com/@deepusnath/4-points-to-keep-in-mind-before-introducing-progressive-web-apps-pwa-to-your-team-8dc66bcf6011"&gt;PWA&lt;/a&gt; webshop
&lt;a href="https://demo.vuestorefront.io/"&gt;&lt;img alt="Vue Storefront" src="img/2018/2018-05-15-VueStore1.PNG"&gt;&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;The shop is reponsive&lt;br&gt;
&lt;a href="https://demo.vuestorefront.io/"&gt;&lt;img alt="Vue Storefront" src="img/2018/2018-05-15-VueStore2.PNG"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And images resizes to small, when devices are very small&lt;br&gt;
&lt;a href="https://demo.vuestorefront.io/"&gt;&lt;img alt="Vue Storefront" src="img/2018/2018-05-15-VueStore3.PNG"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Turn off Vue Storefront&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Frontend - in GitBash-2 is just a PWA server - there is nothing to save - just &lt;code&gt;X&lt;/code&gt; it&lt;/li&gt;
&lt;li&gt;API - in GitBash-1 is just an API server - there is nothing to save - just &lt;code&gt;X&lt;/code&gt; it&lt;/li&gt;
&lt;li&gt;Now what about the CMD and the VM? You need to tell the containers in the VM to close down and then close down the VM.&lt;ul&gt;
&lt;li&gt;Start a new GitBash-3  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify containers are there&lt;/span&gt;
docker container ls
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;CONTAINER ID   IMAGE               COMMAND                  CREATED       STATUS       PORTS                              NAMES&lt;/span&gt;
&lt;span class="err"&gt;fcd38fe4910e   kibana:5.5          &amp;quot;/docker-entrypoint.…&amp;quot;   2 hours ago   Up 2 hours   0.0.0.0:5601-&amp;gt;5601/tcp             vue-storefront-api_kibana_1&lt;/span&gt;
&lt;span class="err"&gt;070f93cc3a08   redis               &amp;quot;docker-entrypoint.s…&amp;quot;   2 hours ago   Up 2 hours   0.0.0.0:6379-&amp;gt;6379/tcp             vue-storefront-api_redis_1&lt;/span&gt;
&lt;span class="err"&gt;a3fec0cc4f2b   elasticsearch:5.5   &amp;quot;/docker-entrypoint.…&amp;quot;   2 hours ago   Up 2 hours   9200/tcp, 9300/tcp                 vue-storefront-api_es2_1&lt;/span&gt;
&lt;span class="err"&gt;56caf26862c4   elasticsearch:5.5   &amp;quot;/docker-entrypoint.…&amp;quot;   2 hours ago   Up 2 hours   0.0.0.0:9200-&amp;gt;9200/tcp, 9300/tcp   es1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hmm - this is part of the &lt;a href="https://www.elastic.co/elk-stack"&gt;ELK Stack: Elasticsearch, Logstash, Kibana&lt;/a&gt; and the Redis needed for sync with Magento is also there, so perhaps it is ready to connect to a real Magento installation.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; .&lt;span class="se"&gt;\y&lt;/span&gt;our-vue-root&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; vue-storefront-api
&lt;span class="c1"&gt;# Turn off the containers&lt;/span&gt;
docker-compose stop
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;Stopping vue-storefront-api_kibana_1 ... done&lt;/span&gt;
&lt;span class="err"&gt;Stopping vue-storefront-api_redis_1  ... done&lt;/span&gt;
&lt;span class="err"&gt;Stopping vue-storefront-api_es2_1    ... done&lt;/span&gt;
&lt;span class="err"&gt;Stopping es1                         ... done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The CMD promt will display this, so you can close it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;redis_1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;handler&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1526416098&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Received&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;SIGTERM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;scheduling&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;shutdown&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;redis_1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;May&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;18.957&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;User&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;requested&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;shutdown&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;redis_1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;May&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;19.142&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Saving&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;final&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;RDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;snapshot&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;before&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exiting&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es2_1&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,274&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;J8Lto-u&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stopping&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es1&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,271&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sH31WJW&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stopping&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;redis_1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;May&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;19.306&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;saved&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;disk&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;redis_1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;May&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;19.306&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Redis&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ready&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bye&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bye&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es1&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,444&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sH31WJW&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stopped&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es1&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,444&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sH31WJW&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;closing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es2_1&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,473&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;J8Lto-u&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stopped&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es2_1&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,473&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;J8Lto-u&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;closing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es1&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,509&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sH31WJW&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;closed&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es2_1&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;2018-05-15T20:28:19,509&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;INFO &lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;o.e.n.Node               &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;J8Lto-u&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;closed&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;vue&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;storefront&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;api_es2_1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exited&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;143&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;vue&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;storefront&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;api_redis_1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exited&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;vue&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;storefront&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;api_kibana_1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exited&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;143&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;es1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exited&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;143&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Optionally Close Docker from the taskbar-notification-icon: Select &lt;code&gt;Quit&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Startup scripts&lt;/h2&gt;
&lt;p&gt;I've created &lt;a href="https://gist.github.com/rasor/a3e6e6d6fd824685956d922a3de55b63"&gt;three scripts&lt;/a&gt; that does the above startup.&lt;br&gt;
You can put them in &lt;code&gt;\your-vue-root\&lt;/code&gt; and just double-click on them to start up VueStorefront. They are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vsapi1.bat&lt;/li&gt;
&lt;li&gt;vsapi2.sh&lt;/li&gt;
&lt;li&gt;vs3.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You must set Git Bash to open extension .sh for this to work&lt;/li&gt;
&lt;li&gt;You must start them in above order and wait patiently for each part to start before you continue with the next script&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Whats next?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;You can customize your frontend theme and change the behavior (code)&lt;/li&gt;
&lt;li&gt;You can install Magento at some host and configure your shop to go towards it&lt;/li&gt;
&lt;li&gt;You can deploy your shop&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;h2&gt;Vue Storefront&lt;/h2&gt;
&lt;h3&gt;4 - Vue Storefront - People&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://vuestorefront.slack.com/messages/DAP34PT8U/"&gt;vuestorefront.slack.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/VueStorefront"&gt;Vue Storefront (@VueStorefront) | Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/piotrkarwatka"&gt;Piotr Karwatka (@piotrkarwatka) | Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/filrakowski"&gt;Filip Rakowski (@filrakowski) | Twitter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;1 - Vue Storefront - Events&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;2018 May &lt;a href="https://medium.com/@piotrkarwatka/vue-storefront-hackathon-1-0-stable-case-studies-29406050727a"&gt;Vue Storefront Hackathon, 1.0 STABLE, case studies – Piotr Karwatka – Medium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2018 May &lt;a href="http://go.divante.co/wro-open-source/#lp-pom-block-1029"&gt;Wro Open Source 2018&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2 - Vue Storefront - Github issues&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/issues?q=is%3Aopen+is%3Aissue+label%3Avs-hackathon"&gt;vue-storefront issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3 - Vue Storefront - Learn&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;eBook (2018, 122 pages): &lt;a href="http://go.divante.co/microservices-architecture-ecommerce/"&gt;Microservices Architecture for eCommerce&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/channel/UCkm1F3Cglty3CE1QwKQUhhg"&gt;Vue Storefront - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Blog: -&amp;gt; 2018.01.31 &lt;a href="https://medium.com/@piotrkarwatka/vue-storefront-how-to-install-and-integrate-with-magento2-227767dd65b2"&gt;Vue Storefront — how to install and integrate with Magento2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Blog: 2018.01.04 &lt;a href="https://medium.com/@piotrkarwatka/how-to-connect-3rd-party-platform-to-vue-storefront-df9cb30779f6"&gt;How to connect 3rd party platform to Vue Storefront?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Slides: 2018.02.26 &lt;a href="https://www.slideshare.net/FilipRakowski/vue-storefront-basics"&gt;Vue Storefront Basics - Why we created Vue Storefront and how it works&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vue: PWA front, Magento back &lt;a href="https://github.com/DivanteLtd/vue-storefront"&gt;DivanteLtd/vue-storefront&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Demo: &lt;a href="https://demo.vuestorefront.io/"&gt;Home Page - Vue Storefront&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/Installing%20on%20Windows.md"&gt;Installing on Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/Installing%20on%20Linux%20and%20MacOS.md"&gt;Installing on Linux and MacOS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/pulse/magento2-nosql-database-pwa-support-piotr-karwatka/"&gt;Magento2 - NoSQL database and PWA support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/FAQ%20and%20Receipes.md"&gt;FAQ and Receipes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/Project%20structure.md"&gt;Project structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/wiki/Config-file-format-for-vue-storefront"&gt;Config file format for vue storefront&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/tree/master/doc"&gt;More docs...&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Vue&lt;/h2&gt;
&lt;h3&gt;Vue Libs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;vue &lt;a href="https://github.com/topics/shopping-cart?l=vue"&gt;shopping-carts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vue-bulma/nprogress"&gt;vue-bulma/nprogress&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.npmjs.com/package/vue-tags"&gt;vue-tags&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Vue - Learn&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://vuejs.org/v2/guide/installation.html"&gt;Installation — Vue.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://egghead.io/courses/build-async-vue-js-apps-with-rxjs?utm_source=drip&amp;amp;utm_medium=email&amp;amp;utm_campaign=may2018&amp;amp;utm_term=vue&amp;amp;utm_content=build-async-vue-js-apps-with-rxjs"&gt;Build Async Vue.js Apps with RxJS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.dropbox.com/s/8h9lo8ee65oo9y1/front-end-performance-checklist-2018.pdf?dl=0"&gt;front-end-performance-checklist-2018.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;SEO and PWA: &lt;a href="https://medium.com/progressive-web-apps/2018-state-of-progressive-web-apps-f7517d43ba70"&gt;2018 State of PWA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="HeadlessApiFirst.md"&gt;Other headless / API first apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/topics/ecommerce"&gt;Other ecommerce projects on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;My &lt;a href="https://github.com/rasor/awesome-tables/blob/master/awesome-cli-js.md#nvm-sets-of-tools---avoiding-version-conficts"&gt;list of npm installs locally&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.gatsbyjs.org/starters/AlexanderProd/gatsby-shopify-starter/"&gt;Gatsby Shopify Starter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.gatsbyjs.org/starters/GraphCMS/gatsby-graphcms-ecommerce-starter/"&gt;gatsby-graphcms-ecommerce-starter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.gatsbyjs.org/starters/rohitguptab/OneShopper/"&gt;OneShopper&lt;/a&gt; - using SnipChart&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;OpenShift&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/developing-with-openshift.html"&gt;Installing OpenShift&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.openshift.org/latest/minishift/getting-started/quickstart.html#deploy-sample-app"&gt;Deploying&lt;/a&gt; to MiniShift&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#vue"></category><category term="#magento"></category><category term="#webshop"></category><category term="#seo"></category><category term="#pwa"></category><category term="#docker"></category><category term="#git"></category><category term="#yarn"></category><category term="#npm"></category><category term="#nvm"></category><category term="#shopify"></category><category term="#snipchart"></category></entry><entry><title>Docker for Windows</title><link href="https://rasor.github.io/docker-for-windows.html" rel="alternate"></link><published>2018-05-06T17:00:00+02:00</published><updated>2019-03-28T09:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-05-06:/docker-for-windows.html</id><summary type="html">&lt;p&gt;For a development project I needed Docker for Windows (D4W).&lt;br&gt;
In this blog I'll install Docker. Playing with it I'll do in another post.  &lt;/p&gt;
&lt;h2&gt;Prerequisite&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Install &lt;a href="https://git-scm.com/downloads"&gt;Git for Windows&lt;/a&gt; - This will install &lt;code&gt;Git Bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Optional Install &lt;a href="https://rasor.github.io/curl-cli-on-windows.html"&gt;cUrl CLI on Windows&lt;/a&gt; - This will ensure that you can call a remote end …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;For a development project I needed Docker for Windows (D4W).&lt;br&gt;
In this blog I'll install Docker. Playing with it I'll do in another post.  &lt;/p&gt;
&lt;h2&gt;Prerequisite&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Install &lt;a href="https://git-scm.com/downloads"&gt;Git for Windows&lt;/a&gt; - This will install &lt;code&gt;Git Bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Optional Install &lt;a href="https://rasor.github.io/curl-cli-on-windows.html"&gt;cUrl CLI on Windows&lt;/a&gt; - This will ensure that you can call a remote end over SSL&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Install&lt;/h2&gt;
&lt;p&gt;You download &lt;a href="https://store.docker.com/editions/community/docker-ce-desktop-windows"&gt;Docker CE for Windows here&lt;/a&gt;.  &lt;/p&gt;
&lt;p&gt;Docker wants to know if you want to use Windows or Linux containers - Since I'll deploy to Linux in production, I also choose Linux here. Linux will ususally be the cheepest choise in cloud.&lt;br&gt;
The version I installed was 18.03.1-ce-win65.&lt;br&gt;
Note: The installer will log you out to be able to finish.  &lt;/p&gt;
&lt;h2&gt;1st test drive&lt;/h2&gt;
&lt;p&gt;When starting Docker from the Desktop Icon I was met with:&lt;br&gt;
&lt;img alt="Docker will disable VirtualBox" src="img/2018/2018-05-06-Docker4Win1.PNG"&gt;  &lt;/p&gt;
&lt;p&gt;Docker will disable VirtualBox. Oh-oh - I am using VirtualBox for OpenShift - so I don't want that option.&lt;br&gt;
When I press cancel I get:&lt;br&gt;
&lt;img alt="Docker will exit" src="img/2018/2018-05-06-Docker4Win2.PNG"&gt;    &lt;/p&gt;
&lt;p&gt;Damned - I don't have other option than to let the bastard disable VirtualBox - I wonder if this disabling is only for Docker4Windows... I'll bite the grasss and do as I'm told.  &lt;/p&gt;
&lt;h2&gt;2nd test drive&lt;/h2&gt;
&lt;p&gt;Ok, so 2nd time I started Docker I chose OK to enable Hyper-V and Container services. That also required a restart.  &lt;/p&gt;
&lt;p&gt;When it was done enabling and restarting it still needed some time to boot the Docker VM. Meanwhile I could take a look and see what the installation had done.&lt;br&gt;
It had enabled the Windows features Containers and Hyper-V as it told me&lt;br&gt;
&lt;img alt="Container services enabled" src="img/2018/2018-05-06-Docker4Win3.PNG"&gt;    &lt;/p&gt;
&lt;p&gt;It had enabled two Hyper-V Virtual Ethernet Adapters, but my VirtualBox networks remained. I wonder if I easily can switch to VirtualBox then?&lt;br&gt;
&lt;img alt="Docker VM Network enabled" src="img/2018/2018-05-06-Docker4Win5.PNG"&gt;    &lt;/p&gt;
&lt;p&gt;When it was done starting the Docker VM I could see it running in Hyper-V manager&lt;br&gt;
&lt;img alt="Hyper-V manager" src="img/2018/2018-05-06-Docker4Win6.PNG"&gt;   &lt;/p&gt;
&lt;p&gt;It was called MobyLinuxVM&lt;br&gt;
&lt;img alt="MobyLinuxVM" src="img/2018/2018-05-06-Docker4Win7.PNG"&gt;   &lt;/p&gt;
&lt;p&gt;Docker4Win wanted me to login to Docker Cloud. Docker Cloud uses Docker Hub as image registry, so even though I won't use Docker Cloud at this time, I'll need to be logged in to Docker.&lt;br&gt;
&lt;img alt="Docker for windows GUI" src="img/2018/2018-05-06-Docker4Win4.PNG"&gt;   &lt;/p&gt;
&lt;p&gt;Docker4Win GUI disappears, when you log in - but then you go to TaskBar-Notification area to find Docker4Win. Choose Settings&lt;br&gt;
&lt;img alt="Docker for windows GUI" src="img/2018/2018-05-06-Docker4Win8.PNG"&gt;   &lt;/p&gt;
&lt;p&gt;I unchecked &lt;code&gt;Start Docker when you log in&lt;/code&gt;. Then I hope I can be using VirtualBox, too. I am unsure if I have to disable Hyper-V and/or Container services before that is possible. I'll come back with an update later. &lt;/p&gt;
&lt;p&gt;After boot Docker VM will not be running, but you'll have docker client somewhere on the PC:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker -v
&lt;span class="c1"&gt;# Docker version 18.03.1-ce, build 9ee9f40&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But while the VM is not running you'll get an error, when calling the VM:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker images
&lt;span class="c1"&gt;# error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_engine/v1.37/images/json: open //./pipe/docker_engine: The system cannot find the file specified. In the default daemon configuration on Windows, the docker client must be run elevated to connect. This error may also indicate that the docker daemon is not running.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Workflow&lt;/h2&gt;
&lt;p&gt;After boot you'll be able to do like this:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Start D4W from the Desktop icon - and wait for the Docker animation in the taskbar-notofication-area to end - then Docker VM has started&lt;/li&gt;
&lt;li&gt;Call D4W:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker images
&lt;span class="c1"&gt;# REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Do some more work from bash e.g. read &lt;a href="https://www.syncfusion.com/ebooks/docker_succinctly"&gt;Docker Succinctly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;AddOns&lt;/h2&gt;
&lt;p&gt;The Docker taksbar menu gives you an option called &lt;a href="https://kitematic.com/"&gt;Kitematic&lt;/a&gt;. When you select the menu you'll &lt;a href="https://download.docker.com/kitematic/Kitematic-Windows.zip"&gt;start downloading Kitematic&lt;/a&gt;.&lt;br&gt;
Kitematic is a GUI on top of your Docker CLI.&lt;br&gt;
Here I even have the option to switch back to VirtualBox. I'll do that later.&lt;br&gt;
&lt;img alt="Kitematic settings" src="img/2018/2018-05-06-Docker4Win9.PNG"&gt;   &lt;/p&gt;
&lt;p&gt;I wonder if that switch will work - changing shell from powershell to bash did not work - Kitematic is in time og writing only in Alpha.&lt;/p&gt;
&lt;h2&gt;D4W CLI - docker-machine&lt;/h2&gt;
&lt;p&gt;Behind the scenes it seemes like the D4W uses &lt;a href="https://github.com/docker/machine"&gt;docker-machine&lt;/a&gt; for setting up a docker host.&lt;br&gt;
You can use docker-machine for setting up a docker swarm cluster.&lt;br&gt;
Here is a Gist for setting up Swarm for host for OpenFaas: &lt;a href="https://gist.github.com/johnmccabe/55baab605c0fb82df9c1cbf8c3dde407"&gt;Running OpenFaaS on Windows 10 - using Docker Swarm on Hyper-V&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;h3&gt;Learn&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.syncfusion.com/ebooks/docker_succinctly"&gt;Syncfusion Free Ebooks | Docker Succinctly&lt;/a&gt; (2018)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developers.redhat.com/cheat-sheets/containers/"&gt;Containers Cheat Sheet&lt;/a&gt; (2017)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Hosts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://cloud.docker.com/"&gt;Docker Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The Public Docker Image Registry &lt;a href="https://hub.docker.com/"&gt;Docker Hub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Other installation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/curl-cli-on-windows.html"&gt;cUrl CLI on Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.jayway.com/2017/04/19/running-docker-on-bash-on-windows/"&gt;Running Docker containers on Bash on Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DivanteLtd/vue-storefront/blob/master/doc/Installing%20on%20Windows.md"&gt;vue-storefront Installing on Windows.md&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End.&lt;/p&gt;</content><category term="DevOps"></category><category term="#docker"></category><category term="#hyperv"></category><category term="#virtualbox"></category><category term="#openfaas"></category><category term="#kitematic"></category></entry><entry><title>Developing with OpenShift</title><link href="https://rasor.github.io/developing-with-openshift.html" rel="alternate"></link><published>2018-04-15T15:00:00+02:00</published><updated>2020-10-27T20:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-04-15:/developing-with-openshift.html</id><summary type="html">&lt;p&gt;It has become time (for me) to explore OpenShift.
OpenShift is a Build and Deployment block using Kubernetes and Docker as deployment target. In other words: It connects GitHub and DockerHub to your cloud provider. It allows you to do do on-premise deployment and to monitor and operate your cloud …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It has become time (for me) to explore OpenShift.
OpenShift is a Build and Deployment block using Kubernetes and Docker as deployment target. In other words: It connects GitHub and DockerHub to your cloud provider. It allows you to do do on-premise deployment and to monitor and operate your cloud.
In this blog I'll run it (my own little cloud) locally on Windows.&lt;/p&gt;
&lt;h2&gt;Why OpenShift?&lt;/h2&gt;
&lt;p&gt;There are four good reasons seen with my dev glasses on: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OpenShift is my local cloud. I can build it locally and replicate it to a real cloud, when I see it is working as intended.&lt;/li&gt;
&lt;li&gt;I don't have to pay cloud resources for a test envir except for when testers needs it - I'll delete it, when it is not in use.&lt;/li&gt;
&lt;li&gt;Microservices like Redis and MongoDB - I can have it installed inside my OpenShift envir - just by fetching them as containers from DockerHub. Once I know how there'll not be any hassle and I won't be forsed to use SaaS services.&lt;/li&gt;
&lt;li&gt;When you build your OpenShift environment with Ansible it becomes an environment you can deploy to any cloud provider.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course there'll be pros and cons depending on your taste and on other requirement, but OpenShift is a great option.&lt;/p&gt;
&lt;h2&gt;So how to get started with OpenShift?&lt;/h2&gt;
&lt;h3&gt;Which editions (products) are awailbale?&lt;/h3&gt;
&lt;p&gt;Currently (spring 2018) you get a good helicopter view from the free eBook &lt;a href="https://www.openshift.com/promotions/deploying-to-openshift.html"&gt;Deploying to OpenShift&lt;/a&gt; - Preface - Online Resources.&lt;br&gt;
From there you'll learn that there are two editions (called products) of OpenShift:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;OpenShift Origin&lt;/code&gt; - This is the OpenShift repo, that you can also use while doing local dev.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OpenShift Container Platform&lt;/code&gt; - An Enterprise version aimed for on-premise hosting of your own cloud.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On the &lt;a href="https://docs.openshift.com/"&gt;OpenShift documentation&lt;/a&gt; homepage, you'll learn that there are also two more editions (products):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;OpenShift Dedicated&lt;/code&gt; - Redhat's managed public cloud edition of &lt;code&gt;OpenShift Container Platform&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OpenShift Online&lt;/code&gt; - I think this is like the dedicated edition (single tenant) except that the VMs are not dedicated to only one customer, but are multi tenant.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The latter two editions seems to be clouds hosted by RedHat.&lt;/p&gt;
&lt;p&gt;OpenShift is a managed PaaS, that must be deployed to some IaaS &lt;a href="https://developers.redhat.com/products/cdk/overview/"&gt;explained here&lt;/a&gt; - Quote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The containers you build can be easily deployed on any Red Hat container host or platform, including: &lt;code&gt;Red Hat Enterprise Linux&lt;/code&gt;, &lt;code&gt;Red Hat Enterprise Linux Atomic Host&lt;/code&gt;, and our platform-as-a-service solution, &lt;code&gt;OpenShift Container Platform 3&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think this IaaS stack often will be RedHat OpenStack and probably also is it, when you are using RedHat Enterprise Linux as the container host.&lt;/p&gt;
&lt;h3&gt;How do I start playing with the toy?&lt;/h3&gt;
&lt;p&gt;You can locally play with either &lt;code&gt;OpenShift Origin&lt;/code&gt; or &lt;code&gt;OpenShift Container Platform&lt;/code&gt;.  &lt;/p&gt;
&lt;p&gt;With &lt;code&gt;OpenShift Origin&lt;/code&gt; you have &lt;a href="https://github.com/sclorg/nodejs-ex#nodejs-sample-app-on-openshift"&gt;5 options&lt;/a&gt;:  &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;OpenShift Origin&lt;/code&gt; Option&lt;/th&gt;
&lt;th&gt;Win/Mac/Lin&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1.&lt;/td&gt;
&lt;td&gt;Running a VM with &lt;code&gt;Vagrant&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;W/M/L&lt;/td&gt;
&lt;td&gt;*1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2.&lt;/td&gt;
&lt;td&gt;Running a VM managed by &lt;code&gt;MiniShift&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;W/M/L&lt;/td&gt;
&lt;td&gt;*1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3.&lt;/td&gt;
&lt;td&gt;Starting a &lt;code&gt;Docker&lt;/code&gt; container&lt;/td&gt;
&lt;td&gt;L (Fedora, CentOS, RHEL)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4.&lt;/td&gt;
&lt;td&gt;Downloading the &lt;code&gt;binary&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5.&lt;/td&gt;
&lt;td&gt;Running an &lt;code&gt;Ansible&lt;/code&gt; playbook&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;*1: &lt;code&gt;MiniShift&lt;/code&gt; is a newer method for local development than the method used in eBook &lt;code&gt;OpenShift for Developers&lt;/code&gt; called &lt;code&gt;Vagrant all-in-one virtual machine&lt;/code&gt;.&lt;br&gt;
In eBook &lt;code&gt;DevOps with OpenShift&lt;/code&gt; a local all-in-one cluster is started using &lt;code&gt;oc cluster up&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In the table below there are some links provided by OpenShift:  &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;Origin&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;Container Platform&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Download and Run Openshift locally&lt;/td&gt;
&lt;td&gt;&lt;a href="https://www.openshift.org/minishift/"&gt;&lt;code&gt;MiniShift&lt;/code&gt;&lt;/a&gt; *1&lt;/td&gt;
&lt;td&gt;&lt;a href="https://developers.redhat.com/products/cdk/overview/"&gt;&lt;code&gt;Container Development Kit (CDK)&lt;/code&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Test Hosted Openshift&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://aws.amazon.com/testdrive/redhat/"&gt;Red Hat Test Drive&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Install Walkthrough&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://docs.openshift.com/container-platform/3.9/getting_started/install_openshift.html"&gt;Container Platform 3.9&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Configure Walkthrough&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://docs.openshift.com/container-platform/3.9/getting_started/configure_openshift.html"&gt;Container Platform 3.9&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Web Console&lt;/code&gt; Walkthrough&lt;/td&gt;
&lt;td&gt;&lt;a href="https://docs.openshift.org/3.9/getting_started/developers_console.html"&gt;Origin 3.9&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://docs.openshift.com/container-platform/3.9/getting_started/developers_console.html"&gt;Container Platform 3.9&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CLI&lt;/code&gt; Walkthrough&lt;/td&gt;
&lt;td&gt;&lt;a href="https://docs.openshift.org/3.9/getting_started/developers_cli.html"&gt;Origin 3.9&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://docs.openshift.com/container-platform/3.9/getting_started/developers_cli.html"&gt;Container Platform 3.9&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;So there are lots of options to play with it locally. I'll use &lt;code&gt;MiniShift&lt;/code&gt;, which seems to be the simplest option.&lt;/p&gt;
&lt;h3&gt;What is in the box?&lt;/h3&gt;
&lt;p&gt;Fig 1. When you run the box there will be a REST API enabling you to manage the box (Drawing by &lt;a href="https://www.levvel.io/author/james-buckett"&gt;James Bucket&lt;/a&gt; hosted by levvel.io)
&lt;a href="https://www.levvel.io/our-ideas/differences-between-kubernetes-and-openshift"&gt;&lt;img alt="OpenShift access and control" src="https://cdn.levvel.io/blog_content/James+Buckett+Differences+Article/Differences2.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Fig 2. Your code (in docker containers) will be deployed to Kubernetes Pods inside the box (Drawing by &lt;a href="https://www.levvel.io/author/james-buckett"&gt;James Bucket&lt;/a&gt; hosted by levvel.io)&lt;br&gt;
&lt;a href="https://www.levvel.io/our-ideas/differences-between-kubernetes-and-openshift"&gt;&lt;img alt="OpenShift project (Namespace)" src="https://cdn.levvel.io/blog_content/James+Buckett+Differences+Article/Differences1.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you compare Fig 2. to a deployment in GCP without OpenShift, then you'll notice that OpenShift takes all the pieces and put them into one box.&lt;br&gt;
So if you build your OpenShift environment (including DBs and other microservices) with Ansible, then you can deploy it to any cloud provider - you environment is now 100% portable.&lt;br&gt;
Fig 3. Continuous Deployment to Kubernetes Engine using Jenkins (Drawing hosted by google.com)&lt;br&gt;
&lt;a href="https://cloud.google.com/solutions/continuous-delivery-jenkins-kubernetes-engine?hl=en"&gt;&lt;img alt="Continuous Deployment to Kubernetes Engine using Jenkins" src="https://cloud.google.com/solutions/images/jenkins-cd-container-engine.svg"&gt;&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;Fig 4. RedHats own picture of OpenShift runtime environment (Drawing by &lt;a href="https://blog.openshift.com/author/mikebarrett/"&gt;Mike Barret&lt;/a&gt; hosted by openshift.com)
&lt;a href="https://blog.openshift.com/openshift-enterprise-3-evolving-paas-future/"&gt;&lt;img alt="OpenShift runtime environment" src="https://www.openshift.com/hubfs/Imported_Blog_Media/arch-diagram.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;h3&gt;VirtualBox&lt;/h3&gt;
&lt;p&gt;I am installing on Windows 10.&lt;br&gt;
Openshift needs a hypervisor. There are two options: Hyper-v or VirtualBox.&lt;br&gt;
VirtualBox is the easy one to handle is my experince. It is also an option that can be chosen both on Windows, Linux and Mac.&lt;br&gt;
I have used hypervisors some years ago on my local PC, so I know that I have already enabled &lt;code&gt;Intel Virtualization Technology&lt;/code&gt; (also known as &lt;code&gt;Intel VT&lt;/code&gt;) in the Bios. It was required for Hyper-v, so I assume it is either beneficial or required for VirtualBox, too.&lt;br&gt;
Notice: Not all PC's comes with Intel VT.  &lt;/p&gt;
&lt;p&gt;When you have &lt;a href="https://www.virtualbox.org/wiki/Downloads"&gt;downloaded VirtualBox&lt;/a&gt; and start to install it you are told that it will disconnect your network (why did I also just start a long running upload? - I'll abort that for a while)&lt;br&gt;
Fig 5. Your network will disconnect&lt;br&gt;
&lt;img alt="Will disconnect network" src="img/2018/2018-04-15-OpenShift1.PNG"&gt;&lt;/p&gt;
&lt;p&gt;After restart I had an extra network adapter&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ipconfig /all

&lt;span class="c1"&gt;# output:&lt;/span&gt;
&lt;span class="c1"&gt;# Ethernet adapter VirtualBox Host-Only Network:&lt;/span&gt;
&lt;span class="c1"&gt;#   Connection-specific DNS Suffix  . :&lt;/span&gt;
&lt;span class="c1"&gt;#   Description . . . . . . . . . . . : VirtualBox Host-Only Ethernet Adapter&lt;/span&gt;
&lt;span class="c1"&gt;#   IPv4 Address. . . . . . . . . . . : 192.168.56.1(Preferred)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;MiniShift&lt;/h3&gt;
&lt;p&gt;I downloaded and unzipped &lt;a href="https://github.com/minishift/minishift/releases"&gt;minishift/minishift&lt;/a&gt; for Windows.&lt;br&gt;
It could be unzipped to anywhere. I chose &lt;code&gt;C:\Program Files\&lt;/code&gt;, so after unzip the MiniShift path was &lt;code&gt;C:\Program Files\minishift-1.15.1-windows-amd64&lt;/code&gt;. That path had to be added to the environment %path%.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Verify minishift can be reached from any local path&lt;/span&gt;
&lt;span class="c1"&gt;# Note: On Windows minishift cannot be executed from a network drive&lt;/span&gt;
minishift --help
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If any issues consult &lt;a href="https://docs.openshift.org/latest/minishift/getting-started/installing.html"&gt;Installing Minishift&lt;/a&gt; guide.&lt;/p&gt;
&lt;h2&gt;Test driving MiniShift&lt;/h2&gt;
&lt;h3&gt;&lt;a href="https://docs.openshift.org/latest/minishift/getting-started/quickstart.html#starting-minishift"&gt;Start&lt;/a&gt; and stop&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Optionally Start hypervisor - if you don&amp;#39;t start the GUI, it will be started by MiniShift as headless using VBoxHeadless.exe&lt;/span&gt;
C:&lt;span class="se"&gt;\P&lt;/span&gt;rogram Files&lt;span class="se"&gt;\O&lt;/span&gt;racle&lt;span class="se"&gt;\V&lt;/span&gt;irtualBox&lt;span class="se"&gt;\V&lt;/span&gt;irtualBox.exe
&lt;span class="c1"&gt;# Start minishift&lt;/span&gt;
minishift start --vm-driver&lt;span class="o"&gt;=&lt;/span&gt;virtualbox
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;-- Starting profile &amp;#39;minishift&amp;#39;
-- Checking if requested OpenShift version &amp;#39;v3.7.2&amp;#39; is valid ... OK
-- Checking if requested OpenShift version &amp;#39;v3.7.2&amp;#39; is supported ... OK
-- Checking if requested hypervisor &amp;#39;virtualbox&amp;#39; is supported on this platform ... OK
-- Checking if VirtualBox is installed ... OK
-- Checking the ISO URL ... OK
-- Downloading OpenShift binary &amp;#39;oc&amp;#39; version &amp;#39;v3.7.2&amp;#39;
 38.44 MiB / 38.44 MiB [=======================================================================================================================================] 100.00% 0s-- Downloading OpenShift v3.7.2 checksums ... OK
-- Checking if provided oc flags are supported ... OK
-- Starting local OpenShift cluster using &amp;#39;virtualbox&amp;#39; hypervisor ...
-- Minishift VM will be configured with ...
   Memory:    2 GB
   vCPUs :    2
   Disk size: 20 GB

   Downloading ISO &amp;#39;https://github.com/minishift/minishift-b2d-iso/releases/download/v1.2.0/minishift-b2d.iso&amp;#39;
 40.00 MiB / 40.00 MiB [=======================================================================================================================================] 100.00% 0s
-- Starting Minishift VM ...................................... OK
-- Checking for IP address ... OK
-- Checking for nameservers ... OK
-- Checking if external host is reachable from the Minishift VM ...
   Pinging 8.8.8.8 ... OK
-- Checking HTTP connectivity from the VM ...
   Retrieving http://minishift.io/index.html ... OK
-- Checking if persistent storage volume is mounted ... OK
-- Checking available disk space ... 0% used OK
   Importing &amp;#39;openshift/origin:v3.7.2&amp;#39; . CACHE MISS
   Importing &amp;#39;openshift/origin-docker-registry:v3.7.2&amp;#39; . CACHE MISS
   Importing &amp;#39;openshift/origin-haproxy-router:v3.7.2&amp;#39; . CACHE MISS
-- OpenShift cluster will be configured with ...
   Version: v3.7.2
Starting OpenShift using openshift/origin:v3.7.2 ...
Pulling image openshift/origin:v3.7.2
Pulled 1/4 layers, 26% complete
Pulled 2/4 layers, 78% complete
Pulled 3/4 layers, 90% complete
Pulled 4/4 layers, 100% complete
Extracting
Image pull complete
OpenShift server started.

The server is accessible via web console at:
    https://192.168.99.100:8443

You are logged in as:
    User:     developer
    Password: &amp;lt;any value&amp;gt;

To login as administrator:
    oc login -u system:admin

-- Exporting of OpenShift images is occuring in background process with pid 11256.
&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If your screen looks like above the downloded minishift image wil be cached to&lt;br&gt;
&lt;code&gt;c:\users\youruserid\.minishift\cache\iso\b2d\v1.2.0\&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Fig 6. In VirtualBox you'll see the VM running:
&lt;img alt="Minishift running" src="img/2018/2018-04-15-OpenShift2.PNG"&gt;&lt;/p&gt;
&lt;p&gt;If you have trouble consult &lt;a href="https://docs.openshift.org/latest/minishift/getting-started/quickstart.html"&gt;Minishift Quickstart&lt;/a&gt; and &lt;a href="https://docs.openshift.org/latest/minishift/troubleshooting/troubleshooting-getting-started.html#minshift-startup-check-failed"&gt;Troubleshooting Minishift&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As you could see from the output you got an url to the &lt;a href="https://192.168.99.100:8443/console/"&gt;Web Console: https://192.168.99.100:8443/&lt;/a&gt; that was shown in Fig 1.&lt;br&gt;
Fig 7. Log in to Minishift web console with user &lt;code&gt;developer&lt;/code&gt; and &lt;code&gt;&amp;lt;any key&amp;gt;&lt;/code&gt; as psw.
&lt;img alt="Log in to Minishift Web Console" src="img/2018/2018-04-15-OpenShift3.PNG"&gt;  &lt;/p&gt;
&lt;p&gt;Fig 8. MiniShift Web Console
&lt;img alt="MiniShift Web Console" src="img/2018/2018-04-15-OpenShift4.PNG"&gt;&lt;/p&gt;
&lt;p&gt;OK, we're in. How about turning off?&lt;/p&gt;
&lt;p&gt;VirtualBox has following options:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Action&lt;/th&gt;
&lt;th&gt;Keybord shortcut&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Pause&lt;/td&gt;
&lt;td&gt;Ctrl-P&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Reset&lt;/td&gt;
&lt;td&gt;Ctrl-T&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Close - save state&lt;/td&gt;
&lt;td&gt;Ctrl-V&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ACPI Shutdown&lt;/td&gt;
&lt;td&gt;Ctrl-H&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Power Off&lt;/td&gt;
&lt;td&gt;Ctrl-F&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You could accidently power off the VM. No worries - you can just start from scratch with minishift start ... - as before.
But MiniShift has a corresponding command for stopping:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;minishift stop
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Did you notice during stop - the image is a &lt;a href="https://github.com/boot2docker/boot2docker"&gt;boot2docker&lt;/a&gt; - which apparently is what b2d is short for. On their githup page they recommend that on Windows one should rather use &lt;a href="https://www.docker.com/docker-windows"&gt;Docker For Windows&lt;/a&gt;. I wonder if that will be the default image, if you choose hyper-v as hyperviser...&lt;/p&gt;
&lt;h3&gt;The oc CLI&lt;/h3&gt;
&lt;p&gt;In Fig 1. you saw three clients for MiniShift: Dev CLI, Adm CLI and Web Console.&lt;br&gt;
I think the Dev and Adm CLI is one and same - just having different roles using it. At least I know that for CLI we have the &lt;code&gt;oc&lt;/code&gt; command.&lt;br&gt;
But where is it?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Start again&lt;/span&gt;
minishift start --vm-driver&lt;span class="o"&gt;=&lt;/span&gt;virtualbox
&lt;span class="c1"&gt;# What does status print?&lt;/span&gt;
minishift status
&lt;span class="c1"&gt;# Output:&lt;/span&gt;
&lt;span class="c1"&gt;# Minishift:  Running&lt;/span&gt;
&lt;span class="c1"&gt;# Profile:    minishift&lt;/span&gt;
&lt;span class="c1"&gt;# OpenShift:  Running (openshift v3.7.2+5eda3fa-5)&lt;/span&gt;
&lt;span class="c1"&gt;# DiskUsage:  8% of 17.9G&lt;/span&gt;

&lt;span class="c1"&gt;# Print what to exec to add oc to your %path%&lt;/span&gt;
minishift oc-env
&lt;span class="c1"&gt;# Output&lt;/span&gt;
&lt;span class="c1"&gt;# export PATH=&amp;quot;C:\Users\youruserid\.minishift\cache\oc\v3.7.2\windows:$PATH&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# Run this command to configure your shell:&lt;/span&gt;
&lt;span class="c1"&gt;# eval $(minishift oc-env)&lt;/span&gt;

&lt;span class="c1"&gt;# Nice - then let&amp;#39;s do what it tells us to do. This works at least from the Git bash shell:&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;minishift oc-env&lt;span class="k"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Did it work?&lt;/span&gt;
oc --help
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Output: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;OpenShift Client

This client helps you develop, build, deploy, and run your applications on any OpenShift or Kubernetes compatible platform. It also includes the administrative commands for managing a cluster under the &amp;#39;adm&amp;#39; subcommand.

Basic Commands:
  types           An introduction to concepts and types
  login           Log in to a server
  new-project     Request a new project
  new-app         Create a new application
  status          Show an overview of the current project
  project         Switch to another project
  projects        Display existing projects
  explain         Documentation of resources
  cluster         Start and stop OpenShift cluster

Build and Deploy Commands:
  rollout         Manage a Kubernetes deployment or OpenShift deployment config
  rollback        Revert part of an application back to a previous deployment
  new-build       Create a new build configuration
  start-build     Start a new build
  cancel-build    Cancel running, pending, or new builds
  import-image    Imports images from a Docker registry
  tag             Tag existing images into image streams

Application Management Commands:
  get             Display one or many resources
  describe        Show details of a specific resource or group of resources
  edit            Edit a resource on the server
  set             Commands that help set specific features on objects
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  expose          Expose a replicated application as a service or route
  delete          Delete one or more resources
  scale           Change the number of pods in a deployment
  autoscale       Autoscale a deployment config, deployment, replication controller, or replica set
  secrets         Manage secrets
  serviceaccounts Manage service accounts in your project

Troubleshooting and Debugging Commands:
  logs            Print the logs for a resource
  rsh             Start a shell session in a pod
  rsync           Copy files between local filesystem and a pod
  port-forward    Forward one or more local ports to a pod
  debug           Launch a new instance of a pod for debugging
  exec            Execute a command in a container
  proxy           Run a proxy to the Kubernetes API server
  attach          Attach to a running container
  run             Run a particular image on the cluster
  cp              Copy files and directories to and from containers.

Advanced Commands:
  adm             Tools for managing a cluster
  create          Create a resource by filename or stdin
  replace         Replace a resource by filename or stdin
  apply           Apply a configuration to a resource by filename or stdin
  patch           Update field(s) of a resource using strategic merge patch
  process         Process a template into list of resources
  export          Export resources so they can be used elsewhere
  extract         Extract secrets or config maps to disk
  idle            Idle scalable resources
  observe         Observe changes to resources and react to them (experimental)
  policy          Manage authorization policy
  auth            Inspect authorization
  convert         Convert config files between different API versions
  import          Commands that import applications
  image           Useful commands for managing images

Settings Commands:
  logout          End the current server session
  config          Change configuration files for the client
  whoami          Return information about the current session
  completion      Output shell completion code for the specified shell (bash or zsh)

Other Commands:
  help            Help about any command
  plugin          Runs a command-line plugin
  version         Display client and server versions

Use &amp;quot;oc &amp;lt;command&amp;gt; --help&amp;quot; for more information about a given command.
Use &amp;quot;oc options&amp;quot; for a list of global command-line options (applies to all commands).
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you save (&lt;a href="https://gist.github.com/rasor/2060037307731d2c2bb740e503c951bb"&gt;or download&lt;/a&gt;) the following to &lt;code&gt;C:\Program Files\minishift-1.15.1-windows-amd64\shiftcli.sh&lt;/code&gt;, then you can start your minishift from Git Bash with &lt;code&gt;shiftcli.sh&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="c1"&gt;#shiftcli.sh&lt;/span&gt;
&lt;span class="c1"&gt;# Start a VM and start an OpenShift Cluster inside the VM&lt;/span&gt;
minishift start --vm-driver&lt;span class="o"&gt;=&lt;/span&gt;virtualbox
minishift status
&lt;span class="c1"&gt;# Enable oc - the CLI&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;minishift oc-env&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# print oc cmds, if you prefer CLI to the Web Console&lt;/span&gt;
oc --help
&lt;span class="c1"&gt;# optionally start Web Console if you like that better than the CLI&lt;/span&gt;
start chrome https://192.168.99.100:8443/ 

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;minishift stop #when done&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tip: There is a desktop k8s clustermanager called &lt;a href="https://kubernetic.com/"&gt;Kubernetic&lt;/a&gt; - Details: &lt;a href="https://docs.kubernetic.com/"&gt;docs.kubernetic&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;Next: Deploying to MiniShift&lt;br&gt;
... to be continued in Part 2&lt;/p&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.openshift.org/latest/minishift/command-ref/minishift.html"&gt;MiniShift - Command Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.openshift.org/latest/cli_reference/index.html"&gt;oc CLI Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.openshift.org/latest/apb_devel/index.html"&gt;apb CLI - Ansible Playbook Bundle Development Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developers.redhat.com/downloads/"&gt;Downloads | Red Hat Developer Program&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Getting Started&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.openshift.com/"&gt;OpenShift Blog&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.openshift.com/announcing-net-core-2-0-support-openshift/"&gt;Announcing .NET Core 2.0 Support for OpenShift&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.openshift.com/asp-net-on-openshift-getting-started-in-asp-net/"&gt;ASP.NET on OpenShift: Getting started in ASP.NET&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2017/10/11/running-nuget-server-openshift/"&gt;Running a NuGet server on OpenShift&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developers.redhat.com/products/dotnet/overview/"&gt;.NET Core 2.0 Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developers.redhat.com/topics/dotnet/"&gt;.NET Core 2.0 Topics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://commons.openshift.org/"&gt;OpenShift Commons&lt;/a&gt; - a community&lt;ul&gt;
&lt;li&gt;&lt;a href="https://commons.openshift.org/sig/Openshift.NET.html"&gt;OpenShift .NET Special Interest Group&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://commons.openshift.org/events.html"&gt;OpenShift Events&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Free eBook 1: &lt;a href="https://www.openshift.com/promotions/for-developers.html"&gt;OpenShift for Developers&lt;/a&gt; (2016)&lt;/li&gt;
&lt;li&gt;Free eBook 2: &lt;a href="https://www.openshift.com/promotions/devops-with-openshift.html"&gt;DevOps with OpenShift&lt;/a&gt; (2017)&lt;ul&gt;
&lt;li&gt;&lt;a href="https://12factor.net/"&gt;The Twelve-Factor App &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Free eBook 3: &lt;a href="https://www.openshift.com/promotions/deploying-to-openshift.html"&gt;Deploying to OpenShift&lt;/a&gt; (2018)&lt;/li&gt;
&lt;li&gt;Free eBook 4: &lt;a href="https://developers.redhat.com/promotions/dot-net-core/"&gt;Transitioning to .NET Core on Red Hat Enterprise Linux&lt;/a&gt; (2016)&lt;/li&gt;
&lt;li&gt;More eBooks: &lt;a href="https://developers.redhat.com/search/?f=type~book&amp;amp;s=most-recent"&gt;Search Results Red Hat Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Cheat Sheet: &lt;a href="https://developers.redhat.com/cheat-sheets/red-hat-openshift-container-platform/"&gt;Red Hat OpenShift Container Platform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Cheat Sheet: &lt;a href="https://developers.redhat.com/cheat-sheets/net-core-red-hat-enterprise-linux/"&gt;.NET Core 2.0 on Red Hat Enterprise Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;More Cheat Sheets: &lt;a href="https://developers.redhat.com/search/?f=type~cheatsheet&amp;amp;s=most-recent"&gt;Search Results Red Hat Developers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://learn.openshift.com/"&gt;OpenShift: Interactive Learning Portal&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Above is based on &lt;a href="https://katacoda.com/"&gt;Katacoda - Interactive Learning Platform&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.alexellis.io/openshift-in-a-footloose-container/"&gt;Install OpenShift in a container with Weave Footloose&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/weaveworks/footloose"&gt;weaveworks/footloose&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.openshift.com/openfaas-on-openshift/"&gt;OpenFaaS on OpenShift - Red Hat OpenShift Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Old &lt;a href="https://rasor.wordpress.com/2013/11/26/cloud-services/"&gt;Cloud&lt;/a&gt; landscape anno 2013 - from my old blog.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#openshift"></category><category term="#docker"></category><category term="#kubernetes"></category><category term="#redhat"></category><category term="#paas"></category><category term="#virtualbox"></category><category term="#ansible"></category><category term="#kubernetic"></category><category term="#openfaas"></category><category term="#footloose"></category></entry><entry><title>Dependency management in Angular CLI - Lib: A-Frame</title><link href="https://rasor.github.io/dependency-management-in-angular-cli-lib-a-frame.html" rel="alternate"></link><published>2018-03-29T22:00:00+02:00</published><updated>2018-05-12T03:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-03-29:/dependency-management-in-angular-cli-lib-a-frame.html</id><summary type="html">&lt;p&gt;Using 3rd party libraries in Angular 2+ takes a while to become friends with.
In this blog the Virtual Reality library &lt;a href="https://aframe.io/"&gt;A-Frame&lt;/a&gt; is what I want to use together with Angular CLI (Currently using Ng core: 5.2.0, Ng cli: 1.7.3).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Code from the post can be …&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Using 3rd party libraries in Angular 2+ takes a while to become friends with.
In this blog the Virtual Reality library &lt;a href="https://aframe.io/"&gt;A-Frame&lt;/a&gt; is what I want to use together with Angular CLI (Currently using Ng core: 5.2.0, Ng cli: 1.7.3).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Code from the post can be found &lt;a href="https://github.com/rasor/ng-maze-vr-blank"&gt;here&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Problem #1 - Angular by default expects to know all html elements&lt;/h2&gt;
&lt;p&gt;Given some A-Frame html (in this case separated in its own ng component) - aframe-vr.component.html having selector: 'aframe-vr' in class AframeVrComponent&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- src/app/components/aframe-vr.component.html --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-scene&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-box&lt;/span&gt; &lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-1 0.5 -4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0.25 0.5 1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rotation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-45 0 0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#4CC3D9&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-box&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-plane&lt;/span&gt; &lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0 -1 -4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rotation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-45 0 0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;15&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#7BC8A4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-plane&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-sky&lt;/span&gt; &lt;span class="na"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#ECECEC&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-sky&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-scene&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Angular will complain:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gd"&gt;--- console ---&lt;/span&gt;
Uncaught Error: Template parse errors:
&amp;#39;a-box&amp;#39; is not a known element:
1. If &amp;#39;a-box&amp;#39; is an Angular component, then verify that it is part of this module.
2. If &amp;#39;a-box&amp;#39; is a Web Component then add &amp;#39;CUSTOM_ELEMENTS_SCHEMA&amp;#39; to the &amp;#39;@NgModule.schemas&amp;#39; of this component to suppress this message. (&amp;quot;&amp;lt;a-scene&amp;gt;
  [ERROR -&amp;gt;]&amp;lt;a-box position=&amp;quot;-1 0.5 -4&amp;quot; scale=&amp;quot;0.25 0.5 1&amp;quot; rotation=&amp;quot;-45 0 0&amp;quot; color=&amp;quot;#4CC3D9&amp;quot;&amp;gt;&amp;lt;/a-box&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Solution #1.1&lt;/h3&gt;
&lt;p&gt;And as it says there is an easy fix:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;// --- app.module.ts ---&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;CUSTOM_ELEMENTS_SCHEMA&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nx"&gt;from&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;@angular/core&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kd"&gt;@NgModule&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
  &lt;span class="c1"&gt;// Allow elements not to be compiled by Angular &lt;/span&gt;
  &lt;span class="nx"&gt;schemas&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;CUSTOM_ELEMENTS_SCHEMA&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Problem #2 - You cannot load A-Frame in the main bundle&lt;/h2&gt;
&lt;p&gt;I want to load A-Frame just before the component from above.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;// --- app.module.ts ---&lt;/span&gt;
&lt;span class="c1"&gt;// Require aframe in main bundle before an aframe component is loaded&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;aframe&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;aframe-extras&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;AframeVrComponent&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nx"&gt;from&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;./components/aframe-vr/aframe-vr.component&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In other words - I want to load A-Frame in the main bundle.  &lt;/p&gt;
&lt;h3&gt;Result #2&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gd"&gt;--- console ---&lt;/span&gt;
zone.js:2803 Uncaught TypeError: Cannot assign to read only property &amp;#39;attributeChangedCallback&amp;#39; of object &amp;#39;[object HTMLElement]&amp;#39;
    at eval (zone.js:2803)
    at Array.forEach (&amp;lt;anonymous&amp;gt;)
    at HTMLDocument.document.registerElement (`zone.js`:2789)
    at module.exports.registerElement (`aframe-master.js`:74843)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sample &lt;a href="https://github.com/rasor/ng-maze-vr-blank/tree/69b38f4b340fe14d1676e2749f78061e24254ac8"&gt;ng-maze-vr-blank/commit 4&lt;/a&gt; demonstrates the problem.  &lt;/p&gt;
&lt;p&gt;If you view-page-source of the page you will see&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- index.html --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;app-root&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;app-root&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;inline.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;polyfills.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;styles.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;vendor.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;main.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;zone.js&lt;/code&gt; is stored in &lt;code&gt;polyfills.bundle.js&lt;/code&gt;,&lt;br&gt;
&lt;code&gt;aframe-master.js&lt;/code&gt; (and all other node_modules from package.json) is stored in &lt;code&gt;vendor.bundle.js&lt;/code&gt; and in&lt;br&gt;
&lt;code&gt;main.bundle.js&lt;/code&gt; the error is thrown when we try to load A-Frame with &lt;code&gt;import 'aframe';&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Tip: Do also install aframe types (so you can use it in TypeScript) by adding  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;// --- package.json ---&lt;/span&gt; 
  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;quot;devDependencies&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;@types/aframe&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;^0.7.0&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;More details on @types: &lt;a href="https://github.com/angular/angular-cli/wiki/stories-third-party-lib"&gt;3rd Party Library Installation&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The blog ´&lt;a href="https://medium.com/@pitipon/a-frame-with-angular-setup-project-5797b2f2a03b"&gt;A-frame with Angular&lt;/a&gt;´ will tell you that you need to load A-Frame earlier - before zone.js. It suggests polyfills.js.  &lt;/p&gt;
&lt;h3&gt;Solution attempt #2.1&lt;/h3&gt;
&lt;p&gt;Angular CLI has a way to load libraries globally, as if they were in script tags.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Remove the aframe import from app.module.ts&lt;/li&gt;
&lt;li&gt;Add the A-Frame library to Angular Cli config&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;// --- .angular-cli.json ---&lt;/span&gt; 
  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;quot;apps&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;../node_modules/aframe/dist/aframe-master.js&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;../node_modules/aframe-extras/dist/aframe-extras.min.js&amp;quot;&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;],&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Result #2.1&lt;/h3&gt;
&lt;p&gt;If you view-page-source of the page you will see&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- index.html --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;app-root&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;app-root&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;inline.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;polyfills.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;styles.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;scripts.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;vendor.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;main.bundle.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;New is ´scripts.bundle.js´. &lt;/p&gt;
&lt;p&gt;But still we have an error:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gd"&gt;--- console ---&lt;/span&gt;
zone.js:2803 Uncaught TypeError: Cannot assign to read only property &amp;#39;attributeChangedCallback&amp;#39; of object &amp;#39;[object HTMLElement]&amp;#39;
    at eval (zone.js:2803)
    at Array.forEach (&amp;lt;anonymous&amp;gt;)
    at HTMLDocument.document.registerElement (zone.js:2789)
    at module.exports.registerElement (scripts.bundle.js:74843)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;zone.js&lt;/code&gt; is stored in &lt;code&gt;polyfills.bundle.js&lt;/code&gt;,&lt;br&gt;
&lt;code&gt;aframe-master.js&lt;/code&gt; is stored and loaded in &lt;code&gt;scripts.bundle.js&lt;/code&gt; and&lt;br&gt;
all other node_modules from package.json is stored in &lt;code&gt;vendor.bundle.js&lt;/code&gt;.&lt;br&gt;
The error is thrown when we try to auto-load A-Frame inside &lt;code&gt;scripts.bundle.js&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The common pattern is again that A-Frame is loaded after zone.js.&lt;/p&gt;
&lt;p&gt;Sample &lt;a href="https://github.com/rasor/ng-maze-vr-blank/tree/cd0fd787cb4aa9dcc287925e2ddd9310e7b837ab"&gt;ng-maze-vr-blank/commit 5&lt;/a&gt; demonstrates the error.  &lt;/p&gt;
&lt;h3&gt;Solution attempt #2.2&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;scripts.bundle.js&lt;/code&gt; is loaded after &lt;code&gt;polyfills.bundle.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;As the blog ´&lt;a href="https://medium.com/@pitipon/a-frame-with-angular-setup-project-5797b2f2a03b"&gt;A-frame with Angular&lt;/a&gt;´ told you, you needed to load A-Frame before zone.js.  &lt;/p&gt;
&lt;p&gt;So this time we go one more level up to polyfills.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Remove the scripts in &lt;code&gt;.angular-cli.json&lt;/code&gt; (or just rename the scripts property)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;// --- .angular-cli.json ---&lt;/span&gt; 
  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;quot;apps&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;someUnusedScripts&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;../node_modules/aframe/dist/aframe-master.js&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;../node_modules/aframe-extras/dist/aframe-extras.min.js&amp;quot;&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;],&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Add aframe to polyfills before zone.js&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;// --- src/polyfills.ts ---&lt;/span&gt;
&lt;span class="c1"&gt;// Load aframe before zone.js&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;aframe&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;aframe-extras&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;zone.js/dist/zone&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;// Included with Angular CLI.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Result #2.2&lt;/h3&gt;
&lt;p&gt;Now A-Frame is loaded in &lt;code&gt;polyfills.bundle.js&lt;/code&gt; before zone.js and A-Frame content is rendered  &lt;/p&gt;
&lt;p&gt;&lt;img alt="Aframe loaded from polyfills.bundle.js" src="img/2018/2018-03-29-Ng-cli.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Sample &lt;a href="https://github.com/rasor/ng-maze-vr-blank/tree/d15d7271277ba6b8bc5c16fc35bd06d8497569f2"&gt;ng-maze-vr-blank/commit 6&lt;/a&gt; shows the result.  &lt;/p&gt;
&lt;h2&gt;Problem #3 - Some A-Frame extras doesn't render&lt;/h2&gt;
&lt;p&gt;If you want to replace the floor &lt;code&gt;&amp;lt;a-plane&amp;gt;&lt;/code&gt; with the floor from A-Frame extras &lt;code&gt;&amp;lt;a-grid&amp;gt;&lt;/code&gt; you can't see it. This happens with following change:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- src/app/components/aframe-vr.component.html --&amp;gt;&lt;/span&gt;
  &lt;span class="c"&gt;&amp;lt;!-- &amp;lt;a-plane position=&amp;quot;0 -1 -4&amp;quot; rotation=&amp;quot;-45 0 0&amp;quot; width=&amp;quot;15&amp;quot; height=&amp;quot;80&amp;quot; color=&amp;quot;#7BC8A4&amp;quot;&amp;gt;&amp;lt;/a-plane&amp;gt; --&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-grid&lt;/span&gt; &lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0 -1 -4&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rotation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-90 0 0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;static-body&lt;/span&gt; &lt;span class="na"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;15&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;80&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#7BC8A4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-grid&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Solution #3&lt;/h3&gt;
&lt;p&gt;Now we will move loading of A-Frame even further up from polyfills to the &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Remove A-Frame from polyfills&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;// --- src/polyfills.ts ---&lt;/span&gt;
&lt;span class="c1"&gt;// Load aframe before zone.js&lt;/span&gt;
&lt;span class="c1"&gt;//import &amp;#39;aframe&amp;#39;;&lt;/span&gt;
&lt;span class="c1"&gt;//import &amp;#39;aframe-extras&amp;#39;;&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;zone.js/dist/zone&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;  &lt;span class="c1"&gt;// Included with Angular CLI.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;In Ng Cli config copy A-Frame dist to assets  &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;// --- .angular-cli.json ---&lt;/span&gt; 
  &lt;span class="l l-Scalar l-Scalar-Plain"&gt;&amp;quot;apps&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
    &lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
      &lt;span class="s"&gt;&amp;quot;assets&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;{&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;glob&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;**/*&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;input&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;../node_modules/aframe/dist&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;output&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;./assets/lib/aframe/dist/&amp;quot;&lt;/span&gt; &lt;span class="p p-Indicator"&gt;},&lt;/span&gt;
        &lt;span class="p p-Indicator"&gt;{&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;glob&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;**/*&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;input&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;../node_modules/aframe-extras/dist&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;output&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;./assets/lib/aframe-extras/dist/&amp;quot;&lt;/span&gt; &lt;span class="p p-Indicator"&gt;}&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;],&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;Link: Copy assets via &lt;a href="https://github.com/angular/angular-cli/wiki/stories-asset-configuration"&gt;angular-cli&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In index.html head load A-Frame + extras  &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- src/index.html --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;assets/lib/aframe/dist/aframe-master.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;assets/lib/aframe-extras/dist/aframe-extras.min.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Result #3 - Commit 7&lt;/h3&gt;
&lt;p&gt;Now A-Frame is loaded already in the &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; before &lt;code&gt;polyfills.bundle.js&lt;/code&gt; and also &lt;code&gt;&amp;lt;a-grid&amp;gt;&lt;/code&gt; is rendered  &lt;/p&gt;
&lt;p&gt;&lt;img alt="Aframe loaded from head" src="img/2018/2018-03-29-Ng-cli2.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Sample &lt;a href="https://github.com/rasor/ng-maze-vr-blank/tree/4f666ce66cf74e211ee06df0f019b528723c2398"&gt;ng-maze-vr-blank/commit 7&lt;/a&gt; shows the result.  &lt;/p&gt;
&lt;h2&gt;Problem #4 - When using &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; for loading, then @types are not loaded and you cannot use the types in code&lt;/h2&gt;
&lt;p&gt;Having the libraries loaded now I want to use them in code. Example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;VrBox&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;position&lt;/span&gt;: &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="kr"&gt;constructor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;pos&lt;/span&gt;: &lt;span class="kt"&gt;AFrame.Coordinate&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;position&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;AFRAME&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;utils&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;coordinates&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;stringify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;pos&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;WebPack complains:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;error TS2552: Cannot find name &amp;#39;AFRAME&amp;#39;. Did you mean &amp;#39;frames&amp;#39;&lt;/span&gt;
&lt;span class="err"&gt;error TS2503: Cannot find namespace &amp;#39;AFrame&amp;#39;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Solution #4a&lt;/h3&gt;
&lt;p&gt;If you did not have the @types/aframe you could define the types yourself&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;declare&lt;/span&gt; &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;AFRAME&lt;/span&gt;: &lt;span class="kt"&gt;any&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; 
&lt;span class="kr"&gt;declare&lt;/span&gt; &lt;span class="nx"&gt;namespace&lt;/span&gt; &lt;span class="nx"&gt;AFrame&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kr"&gt;interface&lt;/span&gt; &lt;span class="nx"&gt;Coordinate&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Solution #4b&lt;/h3&gt;
&lt;p&gt;But since you have the @types/aframe you instead just can import them&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;// src/app/components/aframe-vr.component.ts&lt;/span&gt;
&lt;span class="c1"&gt;/// &amp;lt;reference types=&amp;quot;aframe&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;// Above ref is needed when aframe is loaded from &amp;lt;script&amp;gt; instead of&lt;/span&gt;
&lt;span class="c1"&gt;// import &amp;#39;aframe&amp;#39;;&lt;/span&gt;
&lt;span class="c1"&gt;// It will use the types from @types/aframe&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Result #4 - Commit 10&lt;/h3&gt;
&lt;p&gt;Now we can use A-Frame library in our code.&lt;/p&gt;
&lt;p&gt;Sample &lt;a href="https://github.com/rasor/ng-maze-vr-blank/tree/7535b3cca27f3354b061deff21005c863907b06e"&gt;ng-maze-vr-blank/commit 10&lt;/a&gt; shows the result.  &lt;/p&gt;
&lt;h2&gt;Problem #5 - A-Frame doen't work with Angular binding&lt;/h2&gt;
&lt;p&gt;Next up is to use Angular binding. In this case I want to create &lt;code&gt;&amp;lt;a-box&amp;gt;&lt;/code&gt;'s from a list of data.&lt;br&gt;
Looping through the list with &lt;code&gt;*ngFor&lt;/code&gt; is not a problem, but setting the position proporty does not work.  &lt;/p&gt;
&lt;p&gt;In the view a &lt;code&gt;div&lt;/code&gt; on top of A-Frame demonstrates how &lt;code&gt;*ngFor&lt;/code&gt; sets a property.&lt;br&gt;
But in the &lt;code&gt;a-scene&lt;/code&gt; the same way of binding does not work. The created &lt;code&gt;&amp;lt;a-box&amp;gt;&lt;/code&gt; is put in position "0 0 0". You have to go backwards to see the box. It is behind you.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- src/app/components/aframe-vr.component.html --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;box&amp;quot;&lt;/span&gt; &lt;span class="err"&gt;*&lt;/span&gt;&lt;span class="na"&gt;ngFor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;let b of vrBoxes&amp;quot;&lt;/span&gt; &lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="na"&gt;title&lt;/span&gt;&lt;span class="err"&gt;]=&amp;quot;&lt;/span&gt;&lt;span class="na"&gt;b&lt;/span&gt;&lt;span class="err"&gt;.&lt;/span&gt;&lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="err"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;I am a div {{b.position}}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-scene&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="na"&gt;scene&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="c"&gt;&amp;lt;!-- &amp;lt;a-box position=&amp;quot;-1 0.5 -4&amp;quot; scale=&amp;quot;0.25 0.5 1&amp;quot; rotation=&amp;quot;-45 0 0&amp;quot; color=&amp;quot;#4CC3D9&amp;quot;&amp;gt;&amp;lt;/a-box&amp;gt; --&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a-box&lt;/span&gt; &lt;span class="err"&gt;*&lt;/span&gt;&lt;span class="na"&gt;ngFor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;let b of vrBoxes&amp;quot;&lt;/span&gt; &lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="err"&gt;]=&amp;quot;&lt;/span&gt;&lt;span class="na"&gt;b&lt;/span&gt;&lt;span class="err"&gt;.&lt;/span&gt;&lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="err"&gt;&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0.25 0.5 1&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;rotation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-45 0 0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#4CC3D9&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-box&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a-scene&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="Angular binding not working with Aframe" src="img/2018/2018-03-29-Ng-cli3.PNG"&gt;  &lt;/p&gt;
&lt;p&gt;Sample &lt;a href="https://github.com/rasor/ng-maze-vr-blank/tree/f2933d4d324036c99df2739fb266c7cf5af21dea"&gt;ng-maze-vr-blank/commit 11&lt;/a&gt; demonstrates this situation.  &lt;/p&gt;
&lt;h3&gt;So what are the options?&lt;/h3&gt;
&lt;p&gt;Initially I picked options like these:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create an Angular wrapper component.&lt;br&gt;
&lt;a href="https://github.com/zefoy/ngx-ace-wrapper"&gt;zefoy/ngx-ace-wrapper&lt;/a&gt; is an example of a wrapper.&lt;br&gt;
ZEF has a handfull of &lt;a href="https://github.com/zefoy?utf8=%E2%9C%93&amp;amp;q=wrapper&amp;amp;type=&amp;amp;language="&gt;other wrappers&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Publish to npm: &lt;a href="https://medium.com/@nikolasleblanc/building-an-angular-4-component-library-with-the-angular-cli-and-ng-packagr-53b2ade0701e"&gt;Building an Angular 4 Component Library with the Angular CLI and ng-packagr&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create a Web Component wrapper component&lt;br&gt;
&lt;a href="https://www.joshmorony.com/publishing-a-web-component-using-stencil-and-using-it-anywhere/"&gt;Publishing a Web Component Using Stencil (And Using It Anywhere)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Build and use a Web Component from Angular: &lt;a href="https://github.com/seveves/angular-stencil"&gt;seveves/angular-stencil&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The first attempt I did was to look at the &lt;a href="https://github.com/seveves/angular-stencil"&gt;seveves/angular-stencil&lt;/a&gt; repo and tried to see if I could bind A-Frame in a Stencil web component.
That attempt failed. Repo is here: &lt;a href="https://github.com/rasor/stencil-aframe"&gt;rasor/stencil-aframe&lt;/a&gt;.&lt;br&gt;
Notice: In that repo I am using the latest version of A-Frame: 0.8.0.&lt;/p&gt;
&lt;p&gt;Angular components builds on the web components-way of doing things - e.g. using ShaowDom. So I think, when binding with web components does not work, then I should not expect to getting it to work in Angular either. &lt;/p&gt;
&lt;h3&gt;So what are the options, when ShadowDom does not play well with A-Frame?&lt;/h3&gt;
&lt;p&gt;Well &lt;a href="https://github.com/trusktr"&gt;trusktr&lt;/a&gt; actually found a way &lt;a href="https://github.com/aframevr/aframe/issues/1492#issuecomment-324124434"&gt;to deal with Shadow DOM&lt;/a&gt;, which he find easy, but to me is protocol workaround - a low level protocol change, which should not be necessary to twist as library a user.  &lt;/p&gt;
&lt;h3&gt;So when I don't want to make ShadowDOM workaround, then what are the options?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Use &lt;a href="https://github.com/trusktr"&gt;trusktr&lt;/a&gt;s &lt;a href="https://infamous.io/docs/index.html"&gt;Infamous&lt;/a&gt; library (&lt;a href="https://github.com/trusktr/infamous"&gt;repo here&lt;/a&gt;) instead of A-Frame. Infamous supports Web Components (and Angular).&lt;/li&gt;
&lt;li&gt;A-Frames creator &lt;a href="https://github.com/ngokevin"&gt;ngokevin&lt;/a&gt; recommends using NunJucks/Static Templating:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I currently recommend using vanilla A-Frame and &lt;a href="https://www.npmjs.com/package/aframe-state-component"&gt;aframe-state-component&lt;/a&gt; with &lt;a href="https://mozilla.github.io/nunjucks/"&gt;static templating&lt;/a&gt; over &lt;a href="https://github.com/ngokevin/aframe-react"&gt;aframe-react&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To be continued...&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Declare lib + plugin and load globally in &lt;a href="https://github.com/angular/angular-cli/wiki/stories-global-scripts"&gt;angular-cli&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;More on zone.js: &lt;a href="https://medium.com/@MertzAlertz/what-the-hell-is-zone-js-and-why-is-it-in-my-angular-2-6ff28bcf943e"&gt;What the hell is Zone.js and why is it in my Angular 2?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Lots of other &lt;a href="https://github.com/angular/angular-cli/wiki/stories"&gt;Angular CLI tricks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/angular/angular-cli/wiki/angular-cli"&gt;Angular CLI Config Schema&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html"&gt;TypeScript Compiler Options&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#ng"></category><category term="#aframe"></category><category term="#webpack"></category><category term="#vr"></category></entry><entry><title>D'n'd development with RPA, hpaPaaS, mBaaS and ESB (iPaaS)</title><link href="https://rasor.github.io/dnd-development-with-rpa-hpapaas-mbaas-and-esb-ipaas.html" rel="alternate"></link><published>2018-01-11T20:00:00+01:00</published><updated>2019-02-20T15:30:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-01-11:/dnd-development-with-rpa-hpapaas-mbaas-and-esb-ipaas.html</id><summary type="html">&lt;h1&gt;Low-Code&lt;/h1&gt;
&lt;p&gt;Development using Drag'n'drop (&lt;a href="https://en.wikipedia.org/wiki/Low-code_development_platforms"&gt;Low-code development platforms - LCDP&lt;/a&gt;)
 is also taking a share in development pipelines with test/prod environments and version control.&lt;/p&gt;
&lt;p&gt;Some of the areas are&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Automated Business UI Process development - &lt;a href="https://en.wikipedia.org/wiki/Robotic_process_automation"&gt;RPA&lt;/a&gt;. Automated frontend using existing UI as data transfer channel are created in this category. &lt;/li&gt;
&lt;li&gt;Application development …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h1&gt;Low-Code&lt;/h1&gt;
&lt;p&gt;Development using Drag'n'drop (&lt;a href="https://en.wikipedia.org/wiki/Low-code_development_platforms"&gt;Low-code development platforms - LCDP&lt;/a&gt;)
 is also taking a share in development pipelines with test/prod environments and version control.&lt;/p&gt;
&lt;p&gt;Some of the areas are&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Automated Business UI Process development - &lt;a href="https://en.wikipedia.org/wiki/Robotic_process_automation"&gt;RPA&lt;/a&gt;. Automated frontend using existing UI as data transfer channel are created in this category. &lt;/li&gt;
&lt;li&gt;Application development - &lt;a href="https://en.wikipedia.org/wiki/Platform_as_a_service"&gt;hpaPaaS&lt;/a&gt;. Apps, Webapps (frontends) and APIs (backends) are created in this category.&lt;/li&gt;
&lt;li&gt;Application APIs - &lt;a href="https://en.wikipedia.org/wiki/Mobile_backend_as_a_service"&gt;mBaaS&lt;/a&gt;. This is backend exposing APIs to receive/produce data.&lt;/li&gt;
&lt;li&gt;Application integration - &lt;a href="https://en.wikipedia.org/wiki/Enterprise_service_bus"&gt;ESB / iPaaS&lt;/a&gt;. This is middleware/backend using and exposing APIs to transfer data (B2B).&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;1. RPA&lt;/h2&gt;
&lt;p&gt;Top RPA players are&lt;br&gt;
&lt;a href="https://forum.uipath.com/t/uipath-vs-other-rpa-vendor/1748/9"&gt;&lt;img alt="Forrester RPA" src="https://discourse-cdn-sjc1.com/business2/uploads/uipath/optimized/2X/6/640e7c77d0e13254150952ee7d6ed66959201abf_1_577x500.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.automationanywhere.com/"&gt;Automation Anywhere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.blueprism.com/"&gt;Blue Prism&lt;/a&gt; - C#&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.uipath.com/"&gt;UiPath&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;2. hpaPaaS&lt;/h2&gt;
&lt;p&gt;In 2017 Microsoft Access RAD tools are called &lt;strong&gt;High Productivity Application Platform as a Service&lt;/strong&gt; (hpaPaaS)&lt;br&gt;
&lt;a href="https://www.mendix.com/resources/gartner-high-productivity-apaas/"&gt;&lt;img alt="gartner hpaPaaS tools" src="https://images.mendix.com/wp-content/uploads/Gartner-High-Productivity-aPaaS-Magic-Quadrant.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In the top quadrant there are only 3 players&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.salesforce.com/"&gt;Salesforce&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.mendix.com/"&gt;Mendix&lt;/a&gt; - C# + Java&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.outsystems.com/"&gt;OutSystems&lt;/a&gt; - C#&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=hFwiZYxQboQ"&gt;Microsoft Azure Mobile Apps or Power Apps (+ Flow + Logic Apps) + Functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Download the &lt;a href="https://www.mendix.com/resources/gartner-high-productivity-apaas/"&gt;Gartner Quadrant&lt;/a&gt; to learn more.&lt;br&gt;
&lt;em&gt;According to Gartner, by 2020, at least 50 percent of all new business applications will be created with high-productivity toolsets&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;And compare features and integrations&lt;br&gt;
&lt;a href="https://www.getapp.com/it-management-software/a/mendix-business-agility-suite/compare/mule-esb-vs-outsystems-platform-vs-salesforce/"&gt;&lt;img alt="compare features and integrations" src="img/2018/2018-01-11-hpaPaaS1.PNG"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;3. API&lt;/h2&gt;
&lt;p&gt;To create IOT or mobile backends there are API tools&lt;br&gt;
&lt;a href="https://www.mulesoft.com/ty/report/gartner-magic-quadrant-api"&gt;&lt;img alt="gartner API tools" src="https://www.gartner.com/resources/277600/277632/277632_0001.png;wa4459b121dae44439?reprintKey=1-3KZGFI4"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.mulesoft.com/platform/api/anypoint-designer"&gt;MuleSoft Anypoint API Designer&lt;/a&gt; - Java&lt;/li&gt;
&lt;li&gt;&lt;a href="https://apigee.com/api-management/"&gt;Apigee&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ca.com/us/products/ca-live-api-creator.html"&gt;CA Live API Creator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://azure.microsoft.com/en-us/services/functions/"&gt;Microsoft Azure Functions or API Apps or Mobile Services&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;4. ESB / iPaaS / MaaS&lt;/h2&gt;
&lt;p&gt;To tie applications together there are integration tools also called ESBs&lt;br&gt;
&lt;a href="http://info.jitterbit.com/Adwords-Gartner-Magic-Quadrant-iPaaS-2017-Report.html"&gt;&lt;img alt="gartner iPaaS tools" src="https://www.gartner.com/resources/304000/304070/304070_0001.png?reprintKey=1-3ZKX04V"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.informatica.com"&gt;Informatica&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://boomi.com"&gt;Dell Boomi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.mulesoft.com/platform/soa/mule-esb-open-source-esb"&gt;MuleSoft ESB&lt;/a&gt; - Java&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=hFwiZYxQboQ"&gt;Microsoft Flow + Azure Logic Apps + Azure Service Bus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.neuronesb.com/#"&gt;Neuron ESB&lt;/a&gt; - C#&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;No-Code&lt;/h1&gt;
&lt;p&gt;Some tools offers &lt;a href="https://en.wikipedia.org/wiki/No-code_development_platform"&gt;No-code&lt;/a&gt; development at all.  &lt;/p&gt;
&lt;p&gt;Product Hunt highlights a few of them &lt;a href="https://www.producthunt.com/newsletter/2538"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;h2&gt;Design Sprint&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://medium.com/@dhruvghulati/google-ventures-5-day-design-sprint-1b3a07c93864"&gt;Google Ventures 5 Day Design Sprint – Dhruv Ghulati – Medium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.gv.com/sprint/"&gt;The Design Sprint — GV&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Microsoft Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=f6ysuQUZ2wQ"&gt;Microsoft Flow: Multi-Step Approvals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Microsoft Flow resources&lt;br&gt;
&lt;a href="https://youtu.be/hFwiZYxQboQ?t=34m43s"&gt;&lt;img alt="Microsoft Flow resources" src="img/2018/2018-01-11-hpaPaaS2.PNG"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Microsoft Messaging&lt;br&gt;
&lt;a href="https://www.servicebus360.com/blogs/azure-service-bus-event-hub-event-grid-one-choose/"&gt;&lt;img alt="Microsoft Messaging" src="https://www.servicebus360.com/wp-content/uploads/2017/08/azure-service-bus-event-hub-event-grid.jpg"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Microservices, SOA, and APIs: Friends or enemies?&lt;br&gt;
&lt;a href="https://www.ibm.com/developerworks/websphere/library/techarticles/1601_clark-trs/1601_clark.html"&gt;&lt;img alt="Microservices, SOA, and APIs" src="https://www.ibm.com/developerworks/websphere/library/techarticles/1601_clark-trs/images/figure8.jpg"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#hpapaas"></category><category term="#rpa"></category><category term="#mbaas"></category><category term="#ipaas"></category><category term="#esb"></category><category term="#designsprint"></category><category term="#nocode"></category></entry><entry><title>Moveslink 2 crash</title><link href="https://rasor.github.io/moveslink-2-crash.html" rel="alternate"></link><published>2018-01-11T19:00:00+01:00</published><updated>2018-01-11T19:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-01-11:/moveslink-2-crash.html</id><summary type="html">&lt;p&gt;A few days ago I &lt;a href="https://support.microsoft.com/ml-in/help/12415/windows-10-recovery-options"&gt;resat my Windows 10&lt;/a&gt;, so I could start from scratch.&lt;/p&gt;
&lt;h2&gt;Problem&lt;/h2&gt;
&lt;p&gt;The USB driver for my GPS watch, Suunto Ambit 2 misbehaved.&lt;/p&gt;
&lt;p&gt;I just connected the watch with USB cable.&lt;br&gt;
Then I installed &lt;a href="http://www.movescount.com/connect/moveslink"&gt;Moveslink2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I would see Moveslink in the taskbar and the taskmanager for …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A few days ago I &lt;a href="https://support.microsoft.com/ml-in/help/12415/windows-10-recovery-options"&gt;resat my Windows 10&lt;/a&gt;, so I could start from scratch.&lt;/p&gt;
&lt;h2&gt;Problem&lt;/h2&gt;
&lt;p&gt;The USB driver for my GPS watch, Suunto Ambit 2 misbehaved.&lt;/p&gt;
&lt;p&gt;I just connected the watch with USB cable.&lt;br&gt;
Then I installed &lt;a href="http://www.movescount.com/connect/moveslink"&gt;Moveslink2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I would see Moveslink in the taskbar and the taskmanager for a while and then it would disappear.&lt;/p&gt;
&lt;p&gt;I thought it was a problem that I had the watch connected while I installed Moveslink, but no.&lt;/p&gt;
&lt;h2&gt;Solution&lt;/h2&gt;
&lt;p&gt;It turned out that it is a &lt;a href="http://www.suunto.com/Support/faq-articles/features/what-should-i-do-if-moveslink2-does-not-start-after-installing-the-windows-10-fall-creators-update/"&gt;known error&lt;/a&gt; which appears with Windows 10 Fall Creators Update (1709).&lt;/p&gt;
&lt;p&gt;The problem causes moveslink2 to crash.&lt;/p&gt;
&lt;p&gt;What I had to do to make it disappear was:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Turn off Wifi&lt;/li&gt;
&lt;li&gt;Reconnect watch with USB wire&lt;br&gt;
=&amp;gt; Now moveslink would show&lt;/li&gt;
&lt;li&gt;Turn on Wifi&lt;/li&gt;
&lt;li&gt;Sign in to movescount.com&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All back to normal - Me happy&lt;/p&gt;
&lt;h2&gt;How you can troubleshoot&lt;/h2&gt;
&lt;p&gt;In System Information I could see&lt;br&gt;
&lt;img alt="Error in System Information" src="img/2018/2018-01-11-Ambit4.PNG"&gt;&lt;/p&gt;
&lt;p&gt;In Event Viewer I could see&lt;br&gt;
&lt;img alt="Error in Event Viewer" src="img/2018/2018-01-11-Ambit5.PNG"&gt;&lt;/p&gt;
&lt;p&gt;In Devices and Printers I could see Ambit (after all was back to normal)&lt;br&gt;
&lt;img alt="Ambit in Devices and Printers" src="img/2018/2018-01-11-Ambit1.PNG"&gt;&lt;/p&gt;
&lt;p&gt;Ambit has two drivers&lt;br&gt;
&lt;img alt="Ambit has to drivers" src="img/2018/2018-01-11-Ambit2.PNG"&gt;&lt;/p&gt;
&lt;p&gt;In Devices Manager I could not see Ambit, but now I knew which drivers it used&lt;br&gt;
&lt;img alt="Ambit in Devices Manager" src="img/2018/2018-01-11-Ambit3.PNG"&gt;&lt;/p&gt;
&lt;h2&gt;My related articles&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.wordpress.com/2012/11/09/garmin-305-display-misbehaving/"&gt;Garmin 305 display misbehaving&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasordk.wordpress.com/2015/01/08/suunto-ruter/"&gt;Suunto Ruter (in danish)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.facebook.com/soren.raarup/posts/10158624883721939"&gt;Moveslink2 is dead - Suunto App long live&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.suunto.com/da-dk/Support/faq-articles/transition/how-do-i-use-the-suunto-services-with-ambit2/"&gt;How do I use the Suunto services with Ambit2?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#ambit"></category><category term="#moveslink"></category><category term="#drivers"></category><category term="#windows"></category><category term="#suuntoapp"></category></entry><entry><title>NAS in the cloud</title><link href="https://rasor.github.io/nas-in-the-cloud.html" rel="alternate"></link><published>2018-01-01T12:00:00+01:00</published><updated>2018-01-01T12:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2018-01-01:/nas-in-the-cloud.html</id><summary type="html">&lt;p&gt;For the last many years I've been warming up to buy a NAS solution for my home with mirroved disks and at least 1 TB.&lt;/p&gt;
&lt;p&gt;I have I-drives at several providers, since the free veersion does not give much space compared to what you often wants to backup.
One of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;For the last many years I've been warming up to buy a NAS solution for my home with mirroved disks and at least 1 TB.&lt;/p&gt;
&lt;p&gt;I have I-drives at several providers, since the free veersion does not give much space compared to what you often wants to backup.
One of those providers being pCloud.
They have for long been sending me notices about my free space (10 GB) running out.
This time I acted on one such notice and was sent to&lt;br&gt;
&lt;a href="https://www.pcloud.com/cloud-storage-pricing-plans.html"&gt;&lt;img alt="Cloud Storage Pricing" src="img/2018/2017-12-31-pCloud.PNG"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Now it was possible to get 2 TB storage for a onetime payment for a lifetime period for a price probably lower than I could get a mirrowed disk solution at home for.&lt;br&gt;
Price: EUR 250,-&lt;/p&gt;
&lt;h3&gt;Pros&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Storage is striped or mirrowed on 5 disks - not only 2&lt;/li&gt;
&lt;li&gt;If one disk dies, I won't have to replace it - that's managed and included&lt;/li&gt;
&lt;li&gt;30 days backup - if wannacry hits my PC and encrypts my drives, I can just restore that cloud drive with a click&lt;/li&gt;
&lt;li&gt;I can share folders with other people without affecting adding cost for them&lt;/li&gt;
&lt;li&gt;Apps for IOS and Android&lt;/li&gt;
&lt;li&gt;Two phase authentication using my facebook account&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Cons&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bandwitdh much lower than local wifi or USB&lt;/li&gt;
&lt;li&gt;The could drive takes up some space for caching on your local drive, which it uses for sync, so you won't have 2 TB locally, only whatever you assing for your cache&lt;/li&gt;
&lt;li&gt;Seems to not the best integration with uppload photos from IOS, but neither would a local NAS be, probably&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So finally I won't have to worry about loosing photos and other content.&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#nas"></category><category term="#storage"></category><category term="#cloud"></category></entry><entry><title>cUrl CLI on Windows</title><link href="https://rasor.github.io/curl-cli-on-windows.html" rel="alternate"></link><published>2017-12-11T21:00:00+01:00</published><updated>2018-01-05T23:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-12-11:/curl-cli-on-windows.html</id><summary type="html">&lt;p&gt;cUrl on Windows is not trouble-free to get working, when posting to SSL domains.&lt;/p&gt;
&lt;p&gt;Here is howto:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Download latest &lt;a href="https://curl.haxx.se/dlwiz/?type=bin&amp;amp;os=Win64&amp;amp;flav=-&amp;amp;ver=*&amp;amp;cpu=x86_64"&gt;windows version of cUrl&lt;/a&gt;. I used &lt;a href="https://dl.uxnr.de/build/curl/curl_winssl_msys2_mingw64_stc/curl-7.57.0/curl-7.57.0.zip"&gt;curl-7.57.0&lt;/a&gt;, which is SSL and SSH enabled.&lt;/li&gt;
&lt;li&gt;Extract the files from the zip file to &lt;code&gt;C:\Program Files\curl-7.57.0\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add to …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;cUrl on Windows is not trouble-free to get working, when posting to SSL domains.&lt;/p&gt;
&lt;p&gt;Here is howto:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Download latest &lt;a href="https://curl.haxx.se/dlwiz/?type=bin&amp;amp;os=Win64&amp;amp;flav=-&amp;amp;ver=*&amp;amp;cpu=x86_64"&gt;windows version of cUrl&lt;/a&gt;. I used &lt;a href="https://dl.uxnr.de/build/curl/curl_winssl_msys2_mingw64_stc/curl-7.57.0/curl-7.57.0.zip"&gt;curl-7.57.0&lt;/a&gt;, which is SSL and SSH enabled.&lt;/li&gt;
&lt;li&gt;Extract the files from the zip file to &lt;code&gt;C:\Program Files\curl-7.57.0\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add to enviroment PATH (running as admin): &lt;code&gt;C:\Program Files\curl-7.57.0\src&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So now you can call the CLI from a prompt&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl --version

&lt;span class="c1"&gt;# Response:&lt;/span&gt;
&lt;span class="c1"&gt;# curl 7.57.0 (x86_64-w64-mingw32) libcurl/7.57.0 OpenSSL/1.0.2h (WinSSL) zlib/1.2.8 WinIDN libssh2/1.7.0_DEV&lt;/span&gt;
&lt;span class="c1"&gt;# Release-Date: 2017-11-30&lt;/span&gt;
&lt;span class="c1"&gt;# Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps pop3 pop3s rtsp scp sftp smtp smtps telnet tftp&lt;/span&gt;
&lt;span class="c1"&gt;#Features: AsynchDNS IDN IPv6 Largefile SSPI Kerberos SPNEGO NTLM SSL libz TLS-SRP HTTPS-proxy MultiSSL&lt;/span&gt;

&lt;span class="c1"&gt;# Call an API:&lt;/span&gt;
curl -X GET &lt;span class="s2"&gt;&amp;quot;http://petstore.swagger.io/v2/pet/1&amp;quot;&lt;/span&gt; -H &lt;span class="s2"&gt;&amp;quot;accept: application/json&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Response:&lt;/span&gt;
&lt;span class="c1"&gt;# {&amp;quot;id&amp;quot;:1,&amp;quot;category&amp;quot;:{&amp;quot;id&amp;quot;:1,&amp;quot;name&amp;quot;:&amp;quot;string&amp;quot;},&amp;quot;name&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;photoUrls&amp;quot;:[&amp;quot;string&amp;quot;],&amp;quot;tags&amp;quot;:[{&amp;quot;id&amp;quot;:1,&amp;quot;name&amp;quot;:&amp;quot;string&amp;quot;}],&amp;quot;status&amp;quot;:&amp;quot;1&amp;quot;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But if you try an SSL endpoint you get an error&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl -X GET &lt;span class="s2"&gt;&amp;quot;https://hacker-news.firebaseio.com/v0/item/8863.json?print=pretty&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Response:&lt;/span&gt;
&lt;span class="c1"&gt;# curl: (60) SSL certificate problem: unable to get local issuer certificate&lt;/span&gt;
&lt;span class="c1"&gt;# More details here: https://curl.haxx.se/docs/sslcerts.html&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The reason seems to be that &lt;a href="https://laracasts.com/discuss/channels/general-discussion/curl-error-60-ssl-certificate-problem-unable-to-get-local-issuer-certificate/replies/95548"&gt;cUrl can't access Windows's certificate store&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;HowTo fix curl: (60) SSL certificate problem:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Let curl read allowed SSL providers from file &lt;a href="https://curl.haxx.se/docs/caextract.html"&gt;cacert.pem&lt;/a&gt;. Put the file in the &lt;code&gt;\src\&lt;/code&gt; folder.&lt;/li&gt;
&lt;li&gt;Create &lt;a href="https://curl.haxx.se/docs/sslcerts.html"&gt;new enviroment variable&lt;/a&gt; (running as admin) &lt;code&gt;set CURL_CA_BUNDLE=C:\Program Files\curl-7.57.0\src\cacert.pem&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Refresh environment: &lt;code&gt;refreshenv&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl -X GET &lt;span class="s2"&gt;&amp;quot;https://hacker-news.firebaseio.com/v0/item/8863.json?print=pretty&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Response:&lt;/span&gt;
&lt;span class="c1"&gt;# {&lt;/span&gt;
&lt;span class="c1"&gt;#    &amp;quot;by&amp;quot; : &amp;quot;dhouston&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;#    &amp;quot;descendants&amp;quot; : 71,&lt;/span&gt;
&lt;span class="c1"&gt;#    &amp;quot;id&amp;quot; : 8863,...&lt;/span&gt;
&lt;span class="c1"&gt;# }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;SSL with GIT&lt;/h2&gt;
&lt;p&gt;Just like cUrl Git-for-windows also checks the SSL path.&lt;br&gt;
By default ca-bundle.crt file from OpenSSL&lt;br&gt;
&lt;img alt="GitInstall-SSL" src="img/2017/2017-12-11-GitInstall1.PNG"&gt;&lt;/p&gt;
&lt;p&gt;If you during installation change to use Windows Certificate Store, then Windows will keep the ca-list updated for you, I assume.&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#curl"></category><category term="#windows"></category><category term="#shell"></category><category term="#ssl"></category><category term="#git"></category><category term="#openssl"></category></entry><entry><title>Expand your WCF service with REST</title><link href="https://rasor.github.io/expand-your-wcf-service-with-rest.html" rel="alternate"></link><published>2017-11-19T13:00:00+01:00</published><updated>2017-12-16T10:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-11-19:/expand-your-wcf-service-with-rest.html</id><summary type="html">&lt;p&gt;If you are working with .NET you probably have WCF services.&lt;br&gt;
You might have thought of expanding those WCF services to REST allowing you to make mobile or SPA frontends.&lt;br&gt;
Instead of using ServiceStack or WebApi+Swashbuckle, you can stay in WCF. This have the advantage of a smaller learning …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you are working with .NET you probably have WCF services.&lt;br&gt;
You might have thought of expanding those WCF services to REST allowing you to make mobile or SPA frontends.&lt;br&gt;
Instead of using ServiceStack or WebApi+Swashbuckle, you can stay in WCF. This have the advantage of a smaller learning curve for other developers.&lt;/p&gt;
&lt;p&gt;After this walk-through you have a REST service and swagger.yaml that you can use for creating client code via &lt;a href="https://editor.swagger.io/"&gt;https://editor.swagger.io/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="IBookService.yaml" src="img/2017/2017-11-18-IBookService.yaml.PNG" title="IBookService.yaml"&gt;&lt;/p&gt;
&lt;p&gt;You can find &lt;a href="https://github.com/rasor/wcf-rest"&gt;code for this guide on github&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;HowTo create a REST service (including Swagger.yaml) from a WCF service&lt;/h1&gt;
&lt;p&gt;If you have an existing service you create yet an endpoint allowing you to keep the existing service.&lt;/p&gt;
&lt;p&gt;In most cases the best thing is to create yet a WCF service using the same contract as your original WCF service. Just start from bullet 2 then.&lt;/p&gt;
&lt;h2&gt;1. The templates&lt;/h2&gt;
&lt;p&gt;This guide is based on Visusal Studio 2017.4&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create an empty web&lt;ul&gt;
&lt;li&gt;File - New - Project - ASP.NET Web Application - Empty  &lt;/li&gt;
&lt;li&gt;=&amp;gt; This gives you a project without Global.Ajax and startup files&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Add Ajax-enabled WCF service&lt;ul&gt;
&lt;li&gt;Solution - RightClick project - Add - New Item (Ctrl-Shft-A) - WCF Service (Ajax-enabled) - You could call it &lt;code&gt;RestService1&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;=&amp;gt; This gives you a WCF service with webHttpBinding and a ref to System.ServiceModel.Web&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;2. The first response&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Change from SOAP to REST response&lt;ul&gt;
&lt;li&gt;In &lt;code&gt;RestService1.svc.cs&lt;/code&gt; add below &lt;code&gt;[OperationContract]&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="na"&gt;    [WebGet(RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Set a breakpoint in DoWork() and debug project (F5)&lt;/li&gt;
&lt;li&gt;Open &lt;a href="http://localhost:15563/RestService1.svc/DoWork"&gt;http://localhost:15563/RestService1.svc/DoWork&lt;/a&gt; in Chrome&lt;/li&gt;
&lt;li&gt;=&amp;gt; Breakpoint is hit. Response: {"d":null}&lt;/li&gt;
&lt;li&gt;GET &lt;a href="http://localhost:15563/RestService1.svc/DoWork"&gt;http://localhost:15563/RestService1.svc/DoWork&lt;/a&gt; in Postman&lt;/li&gt;
&lt;li&gt;=&amp;gt; Response: {"d":null}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;3. Change response to &lt;code&gt;&amp;lt;empty&amp;gt;&lt;/code&gt; for void functions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Change from Ajax to REST client&lt;ul&gt;
&lt;li&gt;In web.config &lt;code&gt;&amp;lt;behavior&amp;gt;&lt;/code&gt;: Replace &lt;code&gt;&amp;lt;enableWebScript /&amp;gt;&lt;/code&gt; with &lt;code&gt;&amp;lt;webHttp /&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Debug project (F5)&lt;/li&gt;
&lt;li&gt;GET &lt;a href="http://localhost:15563/RestService1.svc/DoWork"&gt;http://localhost:15563/RestService1.svc/DoWork&lt;/a&gt; in Postman&lt;/li&gt;
&lt;li&gt;=&amp;gt; Response: &lt;code&gt;&amp;lt;empty&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;4. Add Sample Interface&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Add a sample interface&lt;ul&gt;
&lt;li&gt;Paste &lt;code&gt;\models\Book.cs&lt;/code&gt; from &lt;a href="https://www.codeproject.com/Tips/1190441/How-to-generate-basic-swagger-yaml-description-for"&gt;https://www.codeproject.com/Tips/1190441/How-to-generate-basic-swagger-yaml-description-for&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Paste &lt;code&gt;\interfaces\IBookService.cs&lt;/code&gt; from &lt;a href="https://www.codeproject.com/Tips/1190441/How-to-generate-basic-swagger-yaml-description-for"&gt;https://www.codeproject.com/Tips/1190441/How-to-generate-basic-swagger-yaml-description-for&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Notice the code in &lt;code&gt;IBookService&lt;/code&gt; in this project is changed a bit to allow to POST and PUT a &lt;code&gt;Book&lt;/code&gt; object using JSON in the body of the request.&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;RestService1.svc.cs&lt;/code&gt; inherit from interface:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;RestService1&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IBookService&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Click on LigthBulp - Implement Interface&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Change contract. In &lt;code&gt;web.config&lt;/code&gt; change 
    from &lt;code&gt;&amp;lt;service contract="WebApplicationWcfRest1.RestService1&lt;/code&gt;&lt;br&gt;
    to &lt;code&gt;&amp;lt;service contract="WebApplicationWcfRest1.interfaces.IBookService&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Implement &lt;code&gt;GetBookById()&lt;/code&gt;. Add line:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;Book&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Id&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;The incredible stamp&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Debug project (F5)&lt;ul&gt;
&lt;li&gt;GET &lt;a href="http://localhost:15563/RestService1.svc/Book/1"&gt;http://localhost:15563/RestService1.svc/Book/1&lt;/a&gt; in Postman&lt;/li&gt;
&lt;li&gt;=&amp;gt; Response: &lt;code&gt;{"Id": 1, "Name": "The incredible stamp"}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;POST &lt;a href="http://localhost:15563/RestService1.svc/Book"&gt;http://localhost:15563/RestService1.svc/Book&lt;/a&gt; in Postman - Set Body to &lt;code&gt;raw&lt;/code&gt; and write &lt;code&gt;{"Id": 2, "Name": "The invincible stamp"}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;=&amp;gt; Notice - you receive the object as a &lt;code&gt;Book&lt;/code&gt; in C#&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;5. Create Swagger Yaml&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Create Swagger.yaml - this is the wsdl for REST&lt;ul&gt;
&lt;li&gt;In Project Properties (Alt-Enter) - Build - Select &lt;code&gt;XML Documentation file&lt;/code&gt; - Clear the path&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://www.nuget.org/packages/Swagger4WCF"&gt;https://www.nuget.org/packages/Swagger4WCF&lt;/a&gt; into the project containing the interfaces&lt;/li&gt;
&lt;li&gt;Build project&lt;/li&gt;
&lt;li&gt;=&amp;gt; The yaml file is in &lt;code&gt;\bin\WebApplicationWcfRest1.IBookService.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Edit yaml file&lt;ul&gt;
&lt;li&gt;Replace &lt;code&gt;host&lt;/code&gt; from &lt;code&gt;localhost&lt;/code&gt; to &lt;code&gt;localhost:15563&lt;/code&gt; (or to the test- or prod server host)&lt;/li&gt;
&lt;li&gt;Replace &lt;code&gt;basePath&lt;/code&gt; from  &lt;code&gt;/IBookService&lt;/code&gt; to &lt;code&gt;/RestService1.svc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Replace all &lt;code&gt;path&lt;/code&gt;s from e.g. &lt;code&gt;/GetBooksList:&lt;/code&gt; to &lt;code&gt;/Book:&lt;/code&gt; (as you wrote in UriTemplate)&lt;/li&gt;
&lt;li&gt;Group operations with same &lt;code&gt;path&lt;/code&gt; together and delete the duplicate paths&lt;/li&gt;
&lt;li&gt;Those paths having path parameters e.g. &lt;code&gt;/{id}&lt;/code&gt; change parameters from &lt;code&gt;in: query&lt;/code&gt; to &lt;code&gt;in: path&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Save the yaml file into &lt;code&gt;\interfaces\&lt;/code&gt; - update version number each time you send a new version to the client&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Test the yaml file&lt;ul&gt;
&lt;li&gt;Goto &lt;a href="http://editor.swagger.io/"&gt;http://editor.swagger.io/&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Replace left pane with the content of the yaml file (if you use chrome, you can paste)&lt;/li&gt;
&lt;li&gt;=&amp;gt; In top of right pane: The should be no errors&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;6. Move contracts to new library&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Swagger4WCF does not work well with Unity.WCF, so we move the contracts to a new library&lt;ul&gt;
&lt;li&gt;File - New - Project (Ctrl-Shft-N) - Class Library - Name: Contracts&lt;/li&gt;
&lt;li&gt;Drag'n'drop folder interfaces to Contracts&lt;/li&gt;
&lt;li&gt;Drag'n'drop folder models to Contracts&lt;/li&gt;
&lt;li&gt;Add Refs to project Contracts:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;System.ServiceModel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;System.ServiceModel.Web&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;System.Runtime.Serialization&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create Swagger.yaml - this is the wsdl for REST&lt;ul&gt;
&lt;li&gt;In Project Properties (Alt-Enter) - Build - Selt "XML Documentation file" - Clear the path&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://www.nuget.org/packages/Swagger4WCF"&gt;https://www.nuget.org/packages/Swagger4WCF&lt;/a&gt; into the project containing the interfaces (Contracts)&lt;/li&gt;
&lt;li&gt;Build project&lt;/li&gt;
&lt;li&gt;=&amp;gt; The yaml file is in &lt;code&gt;\bin\WebApplicationWcfRest1.IBookService.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Remove &lt;code&gt;Swagger4WCF&lt;/code&gt; from project &lt;code&gt;WebApplicationWcfRest1&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;In project &lt;code&gt;WebApplicationWcfRest1&lt;/code&gt; add ref to project &lt;code&gt;Contracts&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;packages.config&lt;/code&gt; remove line having &lt;code&gt;Swagger4WCF&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Rebuild Solution&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;7. Add dependency injection with Unity&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Remove &lt;code&gt;Swagger4WCF&lt;/code&gt; from service project&lt;ul&gt;
&lt;li&gt;Unload project &lt;code&gt;WebApplicationWcfRest1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Remove two lines containing &lt;code&gt;Swagger4WCF&lt;/code&gt; near bottom&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Add dependency injection&lt;ul&gt;
&lt;li&gt;Install &lt;a href="https://www.nuget.org/packages/Unity.Wcf"&gt;https://www.nuget.org/packages/Unity.Wcf&lt;/a&gt; into the project containing the services (&lt;code&gt;WebApplicationWcfRest1&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;=&amp;gt; This created file &lt;code&gt;WcfServiceFactory.cs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;View Markup of &lt;code&gt;RestService1.svc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Replace: &lt;code&gt;CodeBehind="RestService1.svc.cs"&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;with: &lt;code&gt;Factory="WebApplicationWcfRest1.WcfServiceFactory"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;WcfServiceFactory.cs&lt;/code&gt; register the service:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;               &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RegisterType&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;IBookService&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RestService1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Build the solution&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Debug project (F5)&lt;ul&gt;
&lt;li&gt;GET &lt;a href="http://localhost:15563/RestService1.svc/Book/1"&gt;http://localhost:15563/RestService1.svc/Book/1&lt;/a&gt; in Postman&lt;/li&gt;
&lt;li&gt;=&amp;gt; Response: &lt;code&gt;{"Id": 1, "Name": "The incredible stamp"}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;8. Use HTTP Status Codes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Add HTTP Status Codes to your service&lt;ul&gt;
&lt;li&gt;In your service &lt;code&gt;RestService1.svc.cs&lt;/code&gt; - method &lt;code&gt;AddBook()&lt;/code&gt; add content&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;            &lt;span class="n"&gt;WebOperationContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OutgoingResponse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StatusCode&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Net&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HttpStatusCode&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Created&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// 201&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;book&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;The incredible stamp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;   &lt;span class="c1"&gt;// Book exist&lt;/span&gt;
                &lt;span class="n"&gt;WebOperationContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OutgoingResponse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StatusCode&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Net&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HttpStatusCode&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Conflict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// 409&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;In method &lt;code&gt;UpdateBook()&lt;/code&gt; add content&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;book&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Id&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;// Book does not exist - 404&lt;/span&gt;
                &lt;span class="n"&gt;WebOperationContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OutgoingResponse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetStatusAsNotFound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Resource not found&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;book&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;// Invalid request&lt;/span&gt;
                &lt;span class="n"&gt;WebOperationContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OutgoingResponse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StatusCode&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Net&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HttpStatusCode&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MethodNotAllowed&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// 405&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;In method &lt;code&gt;GetBookById()&lt;/code&gt; add content&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;// Book does not exist - 404&lt;/span&gt;
                &lt;span class="n"&gt;WebOperationContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OutgoingResponse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SetStatusAsNotFound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Resource not found&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;null&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;Book&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;Id&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;The incredible stamp&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;Follow the guidance for HTTP Status Codes in &lt;a href="https://developers.redhat.com/blog/2017/01/19/applying-api-best-practices-in-fuse/"&gt;https://developers.redhat.com/blog/2017/01/19/applying-api-best-practices-in-fuse/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;=&amp;gt; Test the change using Postman&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Update your yaml with the Status Codes&lt;ul&gt;
&lt;li&gt;In &lt;code&gt;IBookService.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="nt"&gt;put&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;responses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;201&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;description&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Book&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;created&amp;quot;&lt;/span&gt;
        &lt;span class="nt"&gt;409&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;description&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Book&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;exist&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;post&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;responses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;404&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;description&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Book&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;not&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;found&amp;quot;&lt;/span&gt;
        &lt;span class="nt"&gt;405&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;description&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Validation&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;exception&amp;quot;&lt;/span&gt;
    &lt;span class="nt"&gt;get&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;responses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nt"&gt;404&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
          &lt;span class="nt"&gt;description&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Book&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;not&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;found&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;9. CORS&lt;/h2&gt;
&lt;p&gt;To be able to call the API you need to allow clients to call it. You can do that already in global.asax&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;protected&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Application_BeginRequest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;object&lt;/span&gt; &lt;span class="n"&gt;sender&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;EventArgs&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;HttpContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AddHeader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Access-Control-Allow-Origin&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://localhost&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HttpContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HttpMethod&lt;/span&gt; &lt;span class="p"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;OPTIONS&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;HttpContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AddHeader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Access-Control-Allow-Methods&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;POST, PUT, DELETE&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;HttpContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AddHeader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Access-Control-Allow-Headers&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Content-Type, Accept&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;HttpContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AddHeader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Access-Control-Max-Age&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1728000&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;HttpContext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;End&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;10. Security&lt;/h2&gt;
&lt;p&gt;Towards a SPA or mobile you could use OAuth as demonstrated in &lt;a href="https://www.codeproject.com/Tips/372422/Secure-WCF-RESTful-service-using-OAUTH"&gt;Secure WCF RESTful service using OAUTH&lt;/a&gt;&lt;br&gt;
Towards a partner you could use certificates as demonstrated in &lt;a href="http://hiteshkesharia.blogspot.dk/2014/01/secure-wcf-rest-service-with-x509.html"&gt;Secure a WCF REST Service with an X509 Certificate, hosted on IIS&lt;/a&gt;  &lt;/p&gt;
&lt;h2&gt;11. Adding Swagger examples&lt;/h2&gt;
&lt;p&gt;To make your API clearer to understand you can add &lt;a href="https://swagger.io/docs/specification/2-0/adding-examples/"&gt;Swagger examples&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Refs / Credits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Postman: &lt;a href="https://www.getpostman.com/"&gt;https://www.getpostman.com/&lt;/a&gt; or &lt;a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en"&gt;https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Swagger4WCF: &lt;a href="https://www.codeproject.com/Tips/1190441/How-to-generate-basic-swagger-yaml-description-for"&gt;https://www.codeproject.com/Tips/1190441/How-to-generate-basic-swagger-yaml-description-for&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;NuGet Swagger4WCF: &lt;a href="https://www.nuget.org/packages/Swagger4WCF"&gt;https://www.nuget.org/packages/Swagger4WCF&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Unity.WCF: &lt;a href="https://www.devtrends.co.uk/blog/introducing-unity.wcf-providing-easy-ioc-integration-for-your-wcf-services"&gt;https://www.devtrends.co.uk/blog/introducing-unity.wcf-providing-easy-ioc-integration-for-your-wcf-services&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Set StatusCode: &lt;a href="https://codeblitz.wordpress.com/2009/04/27/how-to-host-and-consume-wcf-restful-services/"&gt;https://codeblitz.wordpress.com/2009/04/27/how-to-host-and-consume-wcf-restful-services/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;API Best Practices: &lt;a href="https://developers.redhat.com/blog/2017/01/19/applying-api-best-practices-in-fuse/#"&gt;https://developers.redhat.com/blog/2017/01/19/applying-api-best-practices-in-fuse/#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Enabling CORS in WCF: &lt;a href="https://www.codeproject.com/Articles/845474/Enabling-CORS-in-WCF"&gt;https://www.codeproject.com/Articles/845474/Enabling-CORS-in-WCF&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Official WCF REST Docs: &lt;a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/samples/web"&gt;https://docs.microsoft.com/en-us/dotnet/framework/wcf/samples/web&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;WCF REST with ASP.NET routing: &lt;a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/samples/aspnetrouteintegration"&gt;https://docs.microsoft.com/en-us/dotnet/framework/wcf/samples/aspnetrouteintegration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#wcf"></category><category term="#rest"></category><category term="#swagger"></category><category term="#depencyinjection"></category><category term="#dotnet"></category><category term="#visualstudio"></category><category term="#cors"></category></entry><entry><title>Deploying Express REST API to Azure</title><link href="https://rasor.github.io/deploying-express-rest-api-to-azure.html" rel="alternate"></link><published>2017-10-29T21:00:00+01:00</published><updated>2017-10-30T17:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-10-29:/deploying-express-rest-api-to-azure.html</id><summary type="html">&lt;p&gt;This blog is part of a series.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-ionic-to-azure.html"&gt;Deploying Ionic to Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-express-rest-api-to-azure.html"&gt;Deploying Express REST API to Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Add Facebook Authentication to your Express REST API - Planned&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In this blog I will deploy an Express REST API to Azure Mobile Apps.&lt;/p&gt;
&lt;p&gt;The exercise is almost identical to Part 1 - Deploy Ionic …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This blog is part of a series.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-ionic-to-azure.html"&gt;Deploying Ionic to Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-express-rest-api-to-azure.html"&gt;Deploying Express REST API to Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Add Facebook Authentication to your Express REST API - Planned&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In this blog I will deploy an Express REST API to Azure Mobile Apps.&lt;/p&gt;
&lt;p&gt;The exercise is almost identical to Part 1 - Deploy Ionic to Azure, so in this blog I'll leave out the pictures.&lt;/p&gt;
&lt;h1&gt;Here is how to do&lt;/h1&gt;
&lt;h2&gt;The Build server (VSTS)&lt;/h2&gt;
&lt;p&gt;Currently the build server (VSTS) is running&lt;br&gt;
&lt;code&gt;user-agent = "npm/3.10.10 node/v6.10.0 win32 x64"&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So you should also build your API with &lt;code&gt;node v6&lt;/code&gt; or perhaps a bit lower. It is a bit like in .NET you would also want to build with a framework e.g. &lt;code&gt;.NET 4.5.2&lt;/code&gt; when the build server has &lt;code&gt;.NET 4.7&lt;/code&gt; - at least you don't get too big surprises when your code is build on the build server.&lt;/p&gt;
&lt;p&gt;It should be possible to specify another node version with &lt;code&gt;WEBSITE_NODE_DEFAULT_VERSION&lt;/code&gt;, though I haven't tried. Look for more info &lt;a href="http://blog.stevensanderson.com/2016/10/04/angular2-template-for-visual-studio/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Your local repo&lt;/h2&gt;
&lt;p&gt;So before you start deploy you should verify that your code can build for prod on &lt;code&gt;node v6&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# If you got nvm switch to v6&lt;/span&gt;
nvm list
nvm use &lt;span class="m"&gt;6&lt;/span&gt;.11.4
&lt;span class="c1"&gt;# or just check that you have v6&lt;/span&gt;
node -v
&lt;span class="c1"&gt;# If you don&amp;#39;t have v6 you might get surprises when you build in VSTS, but purhaps you won&amp;#39;t.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If no errors then we can continue.&lt;/p&gt;
&lt;h2&gt;Your remote origin&lt;/h2&gt;
&lt;p&gt;I have forked &lt;a href="https://github.com/dreamhouseapp/dreamhouse-rest-services"&gt;dreamhouseapp/dreamhouse-rest-services&lt;/a&gt; by &lt;a href="https://twitter.com/ccoenraets"&gt;Christophe Coenraets (@ccoenraets)&lt;/a&gt; to &lt;a href="https://github.com/rasor/dreamhouse-rest-services"&gt;rasor/dreamhouse-rest-services&lt;/a&gt;.&lt;br&gt;
Why? Because I need to give VSTS access to my GitHub account. I can't give it access to @ccoenraets's repo.&lt;br&gt;
You can fork &lt;a href="https://github.com/rasor/dreamhouse-rest-services"&gt;mine&lt;/a&gt;, since it is modified a bit with web.config, making it runable in Azure.&lt;br&gt;
BTW - You can read about @ccoenraets's code here: &lt;a href="http://coenraets.org/blog/2017/04/dreamhouse-sample-application-ionic3-angular4/"&gt;DreamHouse: Sample Application with Ionic 3 and Angular 4&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;web.config&lt;/code&gt; file you need for node.js projects running in IIS looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!--&lt;/span&gt;
&lt;span class="c"&gt;     This configuration file is required if iisnode is used to run node processes behind&lt;/span&gt;
&lt;span class="c"&gt;     IIS or IIS Express.  For more information, visit:&lt;/span&gt;
&lt;span class="c"&gt;     https://github.com/tjanczuk/iisnode/blob/master/src/samples/configuration/web.config&lt;/span&gt;
&lt;span class="c"&gt;--&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;system.webServer&amp;gt;&lt;/span&gt;
    &lt;span class="c"&gt;&amp;lt;!-- Visit http://blogs.msdn.com/b/windowsazure/archive/2013/11/14/introduction-to-websockets-on-windows-azure-web-sites.aspx for more information on WebSocket support --&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;webSocket&lt;/span&gt; &lt;span class="na"&gt;enabled=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;false&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;handlers&amp;gt;&lt;/span&gt;
      &lt;span class="c"&gt;&amp;lt;!-- Indicates that the server.js file is a node.js site to be handled by the iisnode module --&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;add&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;iisnode&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;path=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;server.js&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;verb=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;*&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;modules=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;iisnode&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/handlers&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rewrite&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;rules&amp;gt;&lt;/span&gt;
        &lt;span class="c"&gt;&amp;lt;!-- Do not interfere with requests for node-inspector debugging --&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;NodeInspector&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;patternSyntax=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ECMAScript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;stopProcessing=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;match&lt;/span&gt; &lt;span class="na"&gt;url=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;^server.js\/debug[\/]?&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

        &lt;span class="c"&gt;&amp;lt;!-- First we consider whether the incoming URL matches a physical file in the /public folder --&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;StaticContent&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;action&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Rewrite&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;url=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;public{REQUEST_URI}&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;

        &lt;span class="c"&gt;&amp;lt;!-- All other URLs are mapped to the node.js site entry point --&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;DynamicContent&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;conditions&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;add&lt;/span&gt; &lt;span class="na"&gt;input=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{REQUEST_FILENAME}&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;matchType=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;IsFile&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;negate=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;True&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;/conditions&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;action&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Rewrite&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;url=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;server.js&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rewrite&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;&amp;lt;!-- &amp;#39;bin&amp;#39; directory has no special meaning in node.js and apps can be placed in it --&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;security&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;requestFiltering&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;hiddenSegments&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;remove&lt;/span&gt; &lt;span class="na"&gt;segment=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bin&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/hiddenSegments&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/requestFiltering&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/security&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;&amp;lt;!-- Make sure error responses are left untouched --&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;httpErrors&lt;/span&gt; &lt;span class="na"&gt;existingResponse=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;PassThrough&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;&amp;lt;!--&lt;/span&gt;
&lt;span class="c"&gt;      You can control how Node is hosted within IIS using the following options:&lt;/span&gt;
&lt;span class="c"&gt;        * watchedFiles: semi-colon separated list of files that will be watched for changes to restart the server&lt;/span&gt;
&lt;span class="c"&gt;        * node_env: will be propagated to node as NODE_ENV environment variable&lt;/span&gt;
&lt;span class="c"&gt;        * debuggingEnabled - controls whether the built-in debugger is enabled&lt;/span&gt;

&lt;span class="c"&gt;      See https://github.com/tjanczuk/iisnode/blob/master/src/samples/configuration/web.config for a full list of options&lt;/span&gt;
&lt;span class="c"&gt;    --&amp;gt;&lt;/span&gt;
    &lt;span class="c"&gt;&amp;lt;!--&amp;lt;iisnode watchedFiles=&amp;quot;web.config;*.js&amp;quot;/&amp;gt;--&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/system.webServer&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It seems like the web.confog is generated for you, when you choose Node.js as target environment during Release Definition in VSTS.&lt;/p&gt;
&lt;h2&gt;Your local repo&lt;/h2&gt;
&lt;p&gt;When you have forked a repo do:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/yourgithubusername/dreamhouse-rest-services
&lt;span class="nb"&gt;cd&lt;/span&gt; dreamhouse-rest-services
npm install &lt;span class="c1"&gt;# download node_modules&lt;/span&gt;
start &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://localhost:5000/properties&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;#start browser - this work in windows&lt;/span&gt;
node server &lt;span class="c1"&gt;# start webserver&lt;/span&gt;
&lt;span class="c1"&gt;# refresh browser (F5) if it timed out before the server was started&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Build to drop folder in VSTS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When you have created a VSTS account via &lt;a href="https://www.visualstudio.com/"&gt;Visual Studio VSTS&lt;/a&gt; browse to &lt;a href="https://yourvstsusername.visualstudio.com/_projects"&gt;https://yourvstsusername.visualstudio.com/_projects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Since you already have a build project from part 1, you can reuse that project and just create yet a build definion on:
&lt;a href="https://yourvstsusername.visualstudio.com/dreamhouse-mobile-ionic/_build?path=%5C&amp;amp;_a=allDefinitions"&gt;https://yourvstsusername.visualstudio.com/dreamhouse-mobile-ionic/_build?path=%5C&amp;amp;_a=allDefinitions&lt;/a&gt;&lt;br&gt;
or you can browse to there: Press &lt;code&gt;Build and Release&lt;/code&gt; then  &lt;code&gt;All Definitions&lt;/code&gt;. There you see your Build Definition for building your Ionic project.&lt;/li&gt;
&lt;li&gt;press &lt;code&gt;+ New&lt;/code&gt; to add a new Build Definition - more or less as you might be used to from TFS.  &lt;/li&gt;
&lt;li&gt;Choose an Empty process - meaning there are no build steps to start out with  &lt;/li&gt;
&lt;li&gt;Now you need to connect to GitHub. Select &lt;code&gt;Get sources&lt;/code&gt; in left pane and select &lt;code&gt;Remote repo&lt;/code&gt; in right pane. You need to authenticate towards GitHub - go through that process.&lt;br&gt;
Name: &lt;code&gt;yourgithubusername_dreamhouse-rest-services&lt;/code&gt;
Repo: &lt;code&gt;https://github.com/yourgithubusername/dreamhouse-rest-services&lt;/code&gt;
Set Clean to &lt;code&gt;true&lt;/code&gt;, so the source files from the Ionic build will be removed - Set clean options to &lt;code&gt;Sources&lt;/code&gt;&lt;br&gt;
Notice - this is like when you did git clone locally&lt;/li&gt;
&lt;li&gt;Just above &lt;code&gt;Get Sources&lt;/code&gt; there is &lt;code&gt;Process&lt;/code&gt; - select it.&lt;br&gt;
Name: dreamhouse-rest-services-Build&lt;br&gt;
Agent Queue: Hosted VS2017&lt;/li&gt;
&lt;li&gt;So what did you do after git clone? &lt;code&gt;npm install&lt;/code&gt;. In Phase 1 press &lt;code&gt;+&lt;/code&gt; and select npm task.
&lt;img alt="Select npm task" src="img/2017/2017-10-09-VSTS5.PNG" title="Select npm task"&gt;&lt;/li&gt;
&lt;li&gt;Configure npm task by pressing the dropdown list and select &lt;code&gt;install&lt;/code&gt;&lt;br&gt;
&lt;img alt="Configure npm install" src="img/2017/2017-10-09-VSTS6.PNG" title="Configure npm install"&gt;&lt;/li&gt;
&lt;li&gt;After install you started the browser and did &lt;code&gt;node server&lt;/code&gt;. But that was a development task - not a build task  &lt;/li&gt;
&lt;li&gt;So we ran out of steps locally, but on the build server we still need to package the build output and send it to Azure&lt;br&gt;
Next task is a zip-task. Press &lt;code&gt;+&lt;/code&gt; and select &lt;code&gt;Archive Files&lt;/code&gt;&lt;br&gt;
&lt;img alt="Select zip task" src="img/2017/2017-10-09-VSTS8.PNG" title="Select zip task"&gt;&lt;/li&gt;
&lt;li&gt;Root folder is the build code you want to deploy. It is located in the &lt;code&gt;.\&lt;/code&gt; folder - just as when you work locally.&lt;br&gt;
Unselect "Prefix root folder ..."&lt;br&gt;
The name of the zipped package should be &lt;code&gt;$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Final build step to do is to put the package in a drop folder&lt;br&gt;
Next task is a publish task. Press &lt;code&gt;+&lt;/code&gt; and select &lt;code&gt;Publish Build Artifacts&lt;/code&gt;&lt;br&gt;
Notice - you can create PowerShell, Shell Script and Batch Script tasks. So if you npm installed a nice utility, you could then do anything with it in a script which could be in your code e.g. `.\scripts\runkarmaandprotractortests.cmd
&lt;img alt="Select publish task" src="img/2017/2017-10-09-VSTS10.PNG" title="Select publish task"&gt;&lt;/li&gt;
&lt;li&gt;Path to publish is the zip file you created in last step&lt;br&gt;
Artifact Name is the name of the drop folder. Call it &lt;code&gt;drop-rest&lt;/code&gt;, so it can't be confused with the Ionic drop.&lt;br&gt;
And location must be &lt;code&gt;TFS&lt;/code&gt; (opposed to File Share)  &lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;Save &amp;amp; queue&lt;/code&gt;. In top of the screen you'll see &lt;code&gt;Build #&amp;lt;some-number&amp;gt; has been queued.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;#&amp;lt;some-number&amp;gt;&lt;/code&gt;. Now you can see the progress of the build.&lt;br&gt;
When the build has finished you'll see &lt;code&gt;Build Succeeded&lt;/code&gt; and above that &lt;code&gt;dreamhouse-rest-services-Build / Build &amp;lt;some-number&amp;gt; / Phase 1&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;Build &amp;lt;some-number&amp;gt;&lt;/code&gt;. Now you get 5 tabs for that build: &lt;code&gt;Summary - Timeline - Artifacts - Code coverage* - Tests&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;Artifacts&lt;/code&gt;. Now you see the dropfolder. Check it out and see if it contains what you expected.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Have you noticed that these Build Tasks correspond to the features in &lt;a href="https://www.jetbrains.com/teamcity/"&gt;TeamCity&lt;/a&gt;? &lt;/p&gt;
&lt;p&gt;Next up is to deploy the package to Azure.&lt;/p&gt;
&lt;h2&gt;Setup WebApp in Azure&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When you have created a free Azure account via &lt;a href="https://azure.microsoft.com/en-in/free/"&gt;Microsoft Azure&lt;/a&gt; browse to &lt;a href="https://portal.azure.com/"&gt;Azure Portal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;In Part 1 you created a Resource Group e.g. &lt;code&gt;ResGroupNorthEurope&lt;/code&gt;. This is where all your stuff in Azure lives.
&lt;img alt="Configure Resource Group" src="img/2017/2017-10-09-Azure2.PNG" title="Configure Resource Group"&gt;&lt;/li&gt;
&lt;li&gt;This time you could also have chosen  webapp as before, but Azure has another option called Mobile App. This has the option of offering Notifications and other MBaaS (Mobile Backend) services.&lt;br&gt;
You find that under &lt;code&gt;App Services&lt;/code&gt;. Click &lt;code&gt;+ Add&lt;/code&gt; then &lt;code&gt;Filter&lt;/code&gt;&lt;br&gt;
Enter &lt;code&gt;Mobile Apps&lt;/code&gt;&lt;br&gt;
Then you see a small selection of mobile apps  &lt;/li&gt;
&lt;li&gt;Select &lt;code&gt;Mobile App&lt;/code&gt;&lt;br&gt;
Since I have already taken subdomain dreamhouse-rest-services you have to choose another one - e.g.  &lt;code&gt;yourvstsusername-dreamhouse-rest-services&lt;/code&gt;&lt;br&gt;
Resourse Group: Use the one you created before: &lt;code&gt;`Use Existing&lt;/code&gt;&lt;br&gt;
App Service Plan is the Dyno in Heroku or EC2 in AWS - the size of your PaaS.&lt;br&gt;
Resuse the one you created in Part 1 e.g. &lt;code&gt;AppSvcPlanNorthEuropeWindows (Standard: 1 Small)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You're done in Azure. Next up is to release to Azure from VSTS.&lt;/p&gt;
&lt;h2&gt;Release to Azure from VSTS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Go back to &lt;a href="https://yourvstsusername.visualstudio.com/dreamhouse-mobile-ionic/_build"&gt;https://yourvstsusername.visualstudio.com/dreamhouse-mobile-ionic/_build&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can deploy to many environments and services. This time we want to deploy to our Mobile App.&lt;br&gt;
First step is to select that target environment in a Release&lt;br&gt;
Click tab &lt;code&gt;Releases&lt;/code&gt; then &lt;code&gt;+&lt;/code&gt; - &lt;code&gt;Create Release Definition&lt;/code&gt; - Select &lt;code&gt;Deploy Node.js App to App Service&lt;/code&gt; and click Apply &lt;br&gt;
&lt;img alt="Add Release Definition" src="img/2017/2017-10-29-VSTSRelease1.PNG" title="Add Release Definition"&gt;&lt;/li&gt;
&lt;li&gt;Notice the ´!´ - something needs attention - click either of them&lt;br&gt;
&lt;img alt="Tasks needs attention" src="img/2017/2017-10-09-VSTSRelease2.PNG" title="Tasks needs attention"&gt;&lt;/li&gt;
&lt;li&gt;Hey - that looks familiar - a list of steps in a task list - just as under tab &lt;code&gt;Build&lt;/code&gt;&lt;br&gt;
Yes, but heading is &lt;code&gt;Environment 1&lt;/code&gt; - not &lt;code&gt;Phase 1&lt;/code&gt;. And for the environmet you have to connect to Azure.
Azure subscription click on the drop down list to select the one you connected to in Part 1.&lt;br&gt;
When connected you can click the dropdown list to select your mobile app &lt;code&gt;yourvstsusername-dreamhouse-rest-services&lt;/code&gt;&lt;br&gt;
&lt;img alt="Connect to Azure" src="img/2017/2017-10-29-VSTSRelease3.PNG" title="Connect to Azure"&gt;&lt;/li&gt;
&lt;li&gt;Head back to tab &lt;code&gt;Pipeline&lt;/code&gt; - we need to fetch a source to deploy&lt;br&gt;
Select &lt;code&gt;Add Artifact&lt;/code&gt; and select source type: &lt;code&gt;Build&lt;/code&gt;, so we can fetch the zip file from drop.&lt;br&gt;
Notice: Source type can also be: &lt;code&gt;Git, GitHub, Jenkins and Team Foundation Version Control&lt;/code&gt;.&lt;br&gt;
Project: Select &lt;code&gt;dreamhouse-mobile-ionic&lt;/code&gt;&lt;br&gt;
Build Definition: Select &lt;code&gt;dreamhouse-rest-services-Build&lt;/code&gt;.&lt;br&gt;
Notice that since you did a build before VSTS knows it created &lt;code&gt;drop-rest&lt;/code&gt;
Accept default values and press Add.&lt;br&gt;
&lt;img alt="Add Artifact" src="img/2017/2017-10-29-VSTSRelease4.PNG" title="Add Artifact"&gt;&lt;/li&gt;
&lt;li&gt;Press the lightning icon on the Artifact. &lt;/li&gt;
&lt;li&gt;Enable Continous deployment. Notice the trigger is whenever a new drop has been made.&lt;br&gt;
&lt;img alt="Release Trigger" src="img/2017/2017-10-09-VSTSRelease5.PNG" title="Release Trigger"&gt;&lt;/li&gt;
&lt;li&gt;Now that we have a source we can head back to &lt;code&gt;Tasks&lt;/code&gt;, select &lt;code&gt;Deploy Azure App Service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;App Service name: &lt;code&gt;yourvstsusername-dreamhouse-mobile-rest&lt;/code&gt;&lt;br&gt;
Package: &lt;code&gt;$(System.DefaultWorkingDirectory)\**\*.zip&lt;/code&gt;. You can browse to it by pressing &lt;code&gt;...&lt;/code&gt;&lt;br&gt;
&lt;img alt="Pick zip file" src="img/2017/2017-10-09-VSTSRelease6.PNG" title="Pick zip file"&gt;&lt;/li&gt;
&lt;li&gt;Before we save the Release Definition head to &lt;code&gt;Pipeline&lt;/code&gt; - and select the Lightning in the Environment&lt;br&gt;
Notice you have a possibility to select persons to approve deployment. This can be tester that approves one environment before a build is rolled out for the next environment.&lt;br&gt;
&lt;img alt="Approvers" src="img/2017/2017-10-09-VSTSRelease7.PNG" title="Approvers"&gt;
We don't want approvers - so go on and save as &lt;code&gt;dreamhouse-rest-Release&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Have you noticed that these Release workflow correspond to the features in &lt;a href="https://octopus.com/"&gt;Octopus Deploy&lt;/a&gt;? &lt;/p&gt;
&lt;h2&gt;Trig a build and a release to Azure&lt;/h2&gt;
&lt;p&gt;Now we are ready for the big show - deploy to Azure
(Notice - all the images are reused from Part 1)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Head back to &lt;code&gt;Builds&lt;/code&gt; - tab &lt;code&gt;All Definitions&lt;/code&gt; - click on the &lt;code&gt;dreamhouse-rest-services-Build&lt;/code&gt;&lt;br&gt;
&lt;img alt="Prepare to build" src="img/2017/2017-10-09-VSTSQueue1.PNG" title="Prepare to build"&gt;&lt;/li&gt;
&lt;li&gt;Click &lt;code&gt;Queue New Build...&lt;/code&gt; - then click &lt;code&gt;Queue&lt;/code&gt; &lt;br&gt;
&lt;img alt="Queue build" src="img/2017/2017-10-09-VSTSQueue2.PNG" title="Queue build"&gt;&lt;/li&gt;
&lt;li&gt;If the Build succeded head to &lt;code&gt;Releases&lt;/code&gt; tab and verify that the build triggered a release&lt;br&gt;
&lt;img alt="Triggered release" src="img/2017/2017-10-09-VSTSQueue4.PNG" title="Triggered release"&gt;&lt;/li&gt;
&lt;li&gt;If the release succeeded, too head to &lt;code&gt;Azure App Services&lt;/code&gt; in &lt;a href="https://portal.azure.com"&gt;Azure&lt;/a&gt;&lt;br&gt;
Select your service and scroll down to &lt;code&gt;Continous Delivery&lt;/code&gt;&lt;br&gt;
You should see the Release has been Deployed Successfully&lt;br&gt;
&lt;img alt="Succeeded release" src="img/2017/2017-10-09-VSTSQueue5.PNG" title="Succeeded release"&gt;
In my case the relese ended with this warning:&lt;br&gt;
&lt;code&gt;2017-10-29T19:44:36.5445296Z ##[warning]Failed to update App Service configuration details. Error: Error: connect ETIMEDOUT 157.56.31.170:443&lt;/code&gt; That meant that the above image did not show a succeeded release. 
Instead I could browse in the App Service Console and the files were alse viewable from App Service Editor.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So to verify that browse to you service on&lt;br&gt;
&lt;a href="http://yourvstsusername-dreamhouse-mobile-rest.azurewebsites.net/properties"&gt;http://yourvstsusername-dreamhouse-mobile-rest.azurewebsites.net/properties&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you are just reading along you can also find my site &lt;a href="http://dreamhouse-mobile-rest.azurewebsites.net/properties"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The End.&lt;/p&gt;</content><category term="DevOps"></category><category term="#npm"></category><category term="#git"></category><category term="#express"></category><category term="#nodejs"></category><category term="#azure"></category></entry><entry><title>Contributing to Open Source</title><link href="https://rasor.github.io/contributing-to-open-source.html" rel="alternate"></link><published>2017-10-14T23:00:00+02:00</published><updated>2017-10-27T21:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-10-14:/contributing-to-open-source.html</id><summary type="html">&lt;p&gt;What is needed to contribute to Open Source hosted in Git?&lt;br&gt;
It is quite a bit - read all about it &lt;a href="https://opensource.guide/how-to-contribute/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This blog post assumes you contribute by doing changes to a git repo.&lt;br&gt;
So In short you need to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Choose a project you will do changes into&lt;/li&gt;
&lt;li&gt;Follow below …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;What is needed to contribute to Open Source hosted in Git?&lt;br&gt;
It is quite a bit - read all about it &lt;a href="https://opensource.guide/how-to-contribute/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This blog post assumes you contribute by doing changes to a git repo.&lt;br&gt;
So In short you need to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Choose a project you will do changes into&lt;/li&gt;
&lt;li&gt;Follow below Git Workflow&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Abbreviations&lt;/h2&gt;
&lt;p&gt;Before start you need to get a little list of vocabulary&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Abbr&lt;/th&gt;
&lt;th&gt;Full&lt;/th&gt;
&lt;th&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PR&lt;/td&gt;
&lt;td&gt;Pull Request&lt;/td&gt;
&lt;td&gt;Your code submitted for review before merge into Upstream&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Repo&lt;/td&gt;
&lt;td&gt;Repository&lt;/td&gt;
&lt;td&gt;A project folder under source control having a \.git\ subfolder&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WIP&lt;/td&gt;
&lt;td&gt;Work In Progress&lt;/td&gt;
&lt;td&gt;Comment in PR for unfinished code - indication feedback wanted before going too far on a wrong tangent&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;#&lt;/td&gt;
&lt;td&gt;“Closes #37.”&lt;/td&gt;
&lt;td&gt;Comment with reference to an issue&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Git Contributer&lt;/td&gt;
&lt;td&gt;Person, who sends a Pull Request&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Git Maintainer&lt;/td&gt;
&lt;td&gt;Person, who merges a Pull Request&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Fork and Pull model&lt;/td&gt;
&lt;td&gt;One out of two &lt;a href="https://help.github.com/articles/about-collaborative-development-models/"&gt;development models&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Shared Repository model&lt;/td&gt;
&lt;td&gt;One out of two &lt;a href="https://help.github.com/articles/about-collaborative-development-models/"&gt;development models&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Upstream&lt;/td&gt;
&lt;td&gt;A repo where you want to merge PR's into&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Next thing you need to know is that the &lt;code&gt;master&lt;/code&gt; branch is always production - meaning - you do your work in a feature branch and you ask the owner of the repo if he wants your changes. Often a discussion will follow and possible more changes you will have to do - including deploy to test - before it perhaps is accepted by being merged into the master.
In more details &lt;a href="https://guides.github.com/introduction/flow/"&gt;here is a visual flow&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Since you are just starting you are probably not member of a team, that has access to a shared repo.&lt;br&gt;
Thus you need to contribute with the &lt;a href="https://help.github.com/articles/about-collaborative-development-models/"&gt;Fork and Pull model&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Fork and Pull model" src="img/2017/2017-10-14-Fork-and-Pull.png" title="Fork and Pull model"&gt;&lt;/p&gt;
&lt;p&gt;I use two phases&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A. Prepare&lt;/li&gt;
&lt;li&gt;B. Do the work, PR and cleanup&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In that way you can do A. Prepare only once and repeat phase B.&lt;/p&gt;
&lt;h3&gt;A. Prepare&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 1. Create a Fork of the repo you will contribute to&lt;/span&gt;
&lt;span class="c1"&gt;# 2. Download your Fork (origin)&lt;/span&gt;
git clone https://github.com/your_userid/ORIGINAL_REPOSITORY.git
&lt;span class="nb"&gt;cd&lt;/span&gt; ORIGINAL_REPOSITORY
&lt;span class="c1"&gt;# 3. Add Upstream as a remote&lt;/span&gt;
git remote add upstream https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git
git remote -v
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;B. Do the work, PR and cleanup&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 4. Download latest changes from upstream&lt;/span&gt;
git pull upstream master &lt;span class="c1"&gt;# or rebase&lt;/span&gt;
&lt;span class="c1"&gt;# handle possible conflicts: https://help.github.com/articles/addressing-merge-conflicts/&lt;/span&gt;
git status
git commit -a -m &lt;span class="s2"&gt;&amp;quot;upstream changes added&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# 5. Create a feature branch&lt;/span&gt;
git checkout -b mynewfeaturebranch
&lt;span class="c1"&gt;# 6. Do some work and save&lt;/span&gt;
git commit -a -m &lt;span class="s2"&gt;&amp;quot;made a nice feature&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# 7. Push branch to fork&lt;/span&gt;
git push -u origin mynewfeaturebranch
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://help.github.com/articles/creating-a-pull-request-from-a-fork/"&gt;8a. Pull Request to upstream - from Fork&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;You are then rewarded with this image for the first PR, if it was GitHub you contributed to&lt;br&gt;
&lt;img alt="The first Pull Request" src="img/2017/2017-10-14-profile-first-pr.png" title="The first Pull Request"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;8b. Listen for feedback&lt;br&gt;
You can see your PR's &lt;a href="https://github.com/pulls"&gt;here&lt;/a&gt;. Maintainers will make comments in there.&lt;/li&gt;
&lt;li&gt;8c. Maintainer merges feature branch to upstream&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Remember - Always be polite. Maintainers are in their good right to not care about your contribution.&lt;br&gt;
If you don't like that you can just keep working on your perfect fork.&lt;/p&gt;
&lt;p&gt;But if you only have your fork for PR's, then it is time to do clean-up, so you can do another cycle.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 9. Delete mynewfeaturebranch&lt;/span&gt;
git checkout mynewfeaturebranch
git branch -d
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Find a project&lt;/h3&gt;
&lt;p&gt;Knowing how to create a PR, you can now go out and look for a project to contribute to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Read CONTRIBUTING, CODE_OF_CONDUCT and/or README&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/MunGell/awesome-for-beginners"&gt;https://github.com/MunGell/awesome-for-beginners&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/showcases/great-for-new-contributors"&gt;https://github.com/showcases/great-for-new-contributors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://hacktoberfest.digitalocean.com/?utm_source=local&amp;amp;utm_medium=email&amp;amp;utm_campaign=Hacktoberfest2017#projects"&gt;Hacktoberfest - DigitalOcean&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/search?q=state%3Aopen+label%3Ahacktoberfest+is%3Aissue&amp;amp;type=Issues&amp;amp;utf8=%E2%9C%93&amp;amp;utm_source=DigitalOcean_Hacktoberfest2017"&gt;#Hacktoberfest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Next steps&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://opensource.guide/"&gt;https://opensource.guide/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;See bottom of &lt;a href="http://jlord.us/patchwork/"&gt;Patchwork&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;@osteele's GIT commands&lt;/h2&gt;
&lt;p&gt;&lt;img alt="@osteele's GIT commands" src="http://images.osteele.com/2008/git-transport.png" title="@osteele's GIT commands"&gt;&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.digitalocean.com/community/tutorials/how-to-rebase-and-update-a-pull-request"&gt;How To Rebase and Update a PR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://opensource.guide/how-to-contribute/#orienting-yourself-to-a-new-project"&gt;https://opensource.guide/how-to-contribute/#orienting-yourself-to-a-new-project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.freecodecamp.org/a-beginners-very-bumpy-journey-through-the-world-of-open-source-4d108d540b39"&gt;https://medium.freecodecamp.org/a-beginners-very-bumpy-journey-through-the-world-of-open-source-4d108d540b39&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.firsttimersonly.com/"&gt;http://www.firsttimersonly.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/articles/github-flow/"&gt;https://help.github.com/articles/github-flow/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/articles/working-with-forks/"&gt;https://help.github.com/articles/working-with-forks/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/categories/collaborating-with-issues-and-pull-requests/"&gt;Content - When Asking for Pull Requests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/articles/merging-an-upstream-repository-into-your-fork/"&gt;Merge local from upstream - when using Fork and pull&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/articles/allowing-changes-to-a-pull-request-branch-created-from-a-fork/"&gt;Allow maintainers to make changes to your branch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Get started links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://* [Git-it (Desktop App)](https://github.com/jlord/git-it-electron)"&gt;Git-it - a git exercise&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.osteele.com/2008/05/my-git-workflow/"&gt;@osteele's GIT Workflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://slides.com/acanimal/git#/"&gt;Git - by slides by @acanimal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ndpsoftware.com/git-cheatsheet.html#loc=remote_repo;"&gt;Git Cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://guides.github.com/introduction/flow/"&gt;the GitHub Flow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://guides.github.com/activities/hello-world/"&gt;GitHub hello-world&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/vsts/git/gitquickstart?tabs=visual-studio"&gt;Git and VS2017&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://nvie.com/posts/a-successful-git-branching-model/"&gt;A Git branching model&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#git"></category></entry><entry><title>Deploying Ionic to Azure</title><link href="https://rasor.github.io/deploying-ionic-to-azure.html" rel="alternate"></link><published>2017-10-10T21:00:00+02:00</published><updated>2018-05-10T12:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-10-10:/deploying-ionic-to-azure.html</id><summary type="html">&lt;p&gt;This blog is part of a series.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-ionic-to-azure.html"&gt;Deploying Ionic to Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-express-rest-api-to-azure.html"&gt;Deploying Express REST API to Azure&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The blog is based on &lt;a href="https://twitter.com/sethreidnz"&gt;@sethreidnz&lt;/a&gt;'s 
article &lt;a href="https://sethreid.co.nz/deploying-angular-cli-project-using-vsts-build-release/"&gt;Deploying an Angular CLI project using VSTS Build and Release&lt;/a&gt;.&lt;br&gt;
This blog deploys a Ionic 3 / Angular 4 app to Azure.&lt;/p&gt;
&lt;h1&gt;The final workflow&lt;/h1&gt;
&lt;p&gt;After …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This blog is part of a series.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-ionic-to-azure.html"&gt;Deploying Ionic to Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/deploying-express-rest-api-to-azure.html"&gt;Deploying Express REST API to Azure&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The blog is based on &lt;a href="https://twitter.com/sethreidnz"&gt;@sethreidnz&lt;/a&gt;'s 
article &lt;a href="https://sethreid.co.nz/deploying-angular-cli-project-using-vsts-build-release/"&gt;Deploying an Angular CLI project using VSTS Build and Release&lt;/a&gt;.&lt;br&gt;
This blog deploys a Ionic 3 / Angular 4 app to Azure.&lt;/p&gt;
&lt;h1&gt;The final workflow&lt;/h1&gt;
&lt;p&gt;After your Ionic project has been connected with Azure through VSTS then you have this workflow:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;From you editor: Add feature to you project and git push to origin&lt;/li&gt;
&lt;li&gt;From VSTS: Queue a new build&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;That's it. Done. You have deployed your Ionic project to Azure as a webapp.&lt;/p&gt;
&lt;p&gt;So why doesn't the pipeline just hook a webhook into your git origin and queue a build by itself (as you are used to from e.g. Heroku)?&lt;br&gt;
Well - if you use VSTS as Version Control, then it will work - I have used "Remote repo" option - apparently it is not ready yet.&lt;/p&gt;
&lt;p&gt;And why would you want to deploy a Ionic app as a webapp, when it is supposed to be installed on phones?&lt;br&gt;
Ionic is born as PWA - you might want to use those features.&lt;br&gt;
Also you just might want to demo the app as webapp before sending it to the app store.&lt;br&gt;
So with Ionic you have only one codebase to maintain - checkout &lt;a href="https://www.millioneyez.com"&gt;MillionEyez&lt;/a&gt; on the web and download their app. Same code.  &lt;/p&gt;
&lt;p&gt;BTW - In the coming Ionic 4 Ionic will have moved to WebComponents, which enables layout components to be loaded before the content components giving a much better experience.&lt;br&gt;
You will also be able to use Ionic from any other webframework - e.g. React or VueJs.&lt;/p&gt;
&lt;h1&gt;Here is how to do&lt;/h1&gt;
&lt;h2&gt;The Build server (VSTS)&lt;/h2&gt;
&lt;p&gt;Currently the build server (VSTS) is running&lt;br&gt;
&lt;code&gt;user-agent = "npm/3.10.10 node/v6.10.0 win32 x64"&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So you should also build your app with &lt;code&gt;node v6&lt;/code&gt; or perhaps a bit lower. It is a bit like in .NET you would also want to build with a framework e.g. &lt;code&gt;.NET 4.5.2&lt;/code&gt; when the build server has &lt;code&gt;.NET 4.7&lt;/code&gt; - at least you don't get too big surprises when your code is build on the build server.&lt;/p&gt;
&lt;p&gt;It should be possible to specify another node version with &lt;code&gt;WEBSITE_NODE_DEFAULT_VERSION&lt;/code&gt;, though I haven't tried. Look for more info &lt;a href="http://blog.stevensanderson.com/2016/10/04/angular2-template-for-visual-studio/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Your local repo&lt;/h2&gt;
&lt;p&gt;So before you start deploy you should verify that your code can build for prod on &lt;code&gt;node v6&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# If you got nvm switch to v6&lt;/span&gt;
nvm list
nvm use &lt;span class="m"&gt;6&lt;/span&gt;.11.4
&lt;span class="c1"&gt;# or just check that you have v6&lt;/span&gt;
node -v
&lt;span class="c1"&gt;# If you don&amp;#39;t have v6 you might get surprises when you build in VSTS, but purhaps you won&amp;#39;t.&lt;/span&gt;

&lt;span class="c1"&gt;# Build for prod&lt;/span&gt;
npm run build --prod --aot
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If no errors then we can continue.&lt;/p&gt;
&lt;h2&gt;Your remote origin&lt;/h2&gt;
&lt;p&gt;I have forked &lt;a href="https://github.com/dreamhouseapp/dreamhouse-mobile-ionic"&gt;dreamhouseapp/dreamhouse-mobile-ionic&lt;/a&gt; by &lt;a href="https://twitter.com/ccoenraets"&gt;Christophe Coenraets (@ccoenraets)&lt;/a&gt; to &lt;a href="https://github.com/rasor/dreamhouse-mobile-ionic"&gt;rasor/dreamhouse-mobile-ionic&lt;/a&gt;.&lt;br&gt;
Why? Because I need to give VSTS access to my GitHub account. I can't give it access to @ccoenraets's repo.&lt;br&gt;
You can fork &lt;a href="https://github.com/rasor/dreamhouse-mobile-ionic"&gt;mine&lt;/a&gt;, since it is modified a bit with web.config, making it runable in Azure.&lt;br&gt;
BTW - You can read about @ccoenraets's code here: &lt;a href="http://coenraets.org/blog/2017/04/dreamhouse-sample-application-ionic3-angular4/"&gt;DreamHouse: Sample Application with Ionic 3 and Angular 4&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;\src\web.config&lt;/code&gt; file you need (again - thanks to @sethreidnz) for Angular projects running in IIS looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;system.webServer&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rewrite&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;rules&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;rule&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;AngularJS Routes&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;stopProcessing=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;match&lt;/span&gt; &lt;span class="na"&gt;url=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;.*&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;conditions&lt;/span&gt; &lt;span class="na"&gt;logicalGrouping=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;MatchAll&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;add&lt;/span&gt; &lt;span class="na"&gt;input=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{REQUEST_FILENAME}&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;matchType=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;IsFile&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;negate=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;add&lt;/span&gt; &lt;span class="na"&gt;input=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{REQUEST_FILENAME}&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;matchType=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;IsDirectory&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;negate=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;/conditions&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;action&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Rewrite&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;url=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/rules&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rewrite&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/system.webServer&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It accepts Angular roouting.&lt;/p&gt;
&lt;p&gt;To be able to include the web.config in the build you could do like this:&lt;/p&gt;
&lt;p&gt;package.json&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="s2"&gt;&amp;quot;config&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;quot;ionic_copy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;./config/copy.config.js&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;,&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The ionic-app-scripts will then pick up the file, when it comes to its copy step.&lt;/p&gt;
&lt;p&gt;\config\copy.config.json&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;// Copy extra files from /src/ to /www/&lt;/span&gt;
&lt;span class="c1"&gt;// https://forum.ionicframework.com/t/rc0-injecting-custom-scripts/65281/20&lt;/span&gt;
&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;exports&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;require&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;@ionic/app-scripts/config/copy.config.js&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;exports&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;copyIndexContent&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;src&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{{SRC}}/web.config&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Your local repo&lt;/h2&gt;
&lt;p&gt;If you forked my repo do:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;npm install -g cordova@7.0.1 ionic@3.12.0 &lt;span class="c1"&gt;# just in case you have not installed Ionic&lt;/span&gt;
git clone https://github.com/yourgithubusername/dreamhouse-mobile-ionic
&lt;span class="nb"&gt;cd&lt;/span&gt; dreamhouse-mobile-ionic
npm install &lt;span class="c1"&gt;# download node_modules&lt;/span&gt;
ionic serve &lt;span class="c1"&gt;# does code run without build?&lt;/span&gt;
npm run build --prod --aot &lt;span class="c1"&gt;# can you build?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Build to drop folder in VSTS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When you have created a VSTS account via &lt;a href="https://www.visualstudio.com/"&gt;Visual Studio VSTS&lt;/a&gt; browse to &lt;a href="https://yourvstsusername.visualstudio.com/_projects"&gt;https://yourvstsusername.visualstudio.com/_projects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Create a project for dreamhouse-mobile-ionic - Press &lt;code&gt;New Project&lt;/code&gt; and enter name &lt;code&gt;dreamhouse-mobile-ionic&lt;/code&gt;.&lt;br&gt;
&lt;img alt="New VSTS project" src="img/2017/2017-10-09-VSTS1.PNG" title="New VSTS project"&gt;&lt;/li&gt;
&lt;li&gt;Since your code is in GitHub, you don't need to have it in VSTS, too. So no need to look in tab &lt;code&gt;Code&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Instead goto tab &lt;code&gt;Build and Release&lt;/code&gt; and press &lt;code&gt;+ New&lt;/code&gt; to add a new Build Definition - more or less as you might be used to from TFS.&lt;br&gt;
&lt;img alt="New Build definition" src="img/2017/2017-10-09-VSTS2.PNG" title="New Build definition"&gt;&lt;/li&gt;
&lt;li&gt;Choose an Empty template - meaning there are no build steps to start out with&lt;br&gt;
&lt;img alt="Select Empty template" src="img/2017/2017-10-09-VSTS3.PNG" title="Select Empty template"&gt;&lt;/li&gt;
&lt;li&gt;Now you need to connect to GitHub. Select &lt;code&gt;Get sources&lt;/code&gt; in left pane and select &lt;code&gt;Remote repo&lt;/code&gt; in right pane. You need to authenticate towards GitHub - go through that process. In the image below I have already connected&lt;br&gt;
Name: &lt;code&gt;yourgithubusername_dreamhouse-mobile-ionic&lt;/code&gt;
Repo: &lt;code&gt;https://github.com/yourgithubusername/dreamhouse-mobile-ionic&lt;/code&gt;
Set Clean to &lt;code&gt;true&lt;/code&gt; - Set clean options to &lt;code&gt;Sources&lt;/code&gt;&lt;br&gt;
Notice - this is like when you did git clone locally
&lt;img alt="Connect to GitHub" src="img/2017/2017-10-09-VSTS4.PNG" title="Connect to GitHub"&gt;&lt;/li&gt;
&lt;li&gt;Just above &lt;code&gt;Get Sources&lt;/code&gt; there is &lt;code&gt;Process&lt;/code&gt; - select it.&lt;br&gt;
Name: dreamhouse-mobile-ionic-Build&lt;br&gt;
Agent Queue: Hosted VS2017&lt;/li&gt;
&lt;li&gt;So what did you do after git clone? &lt;code&gt;npm install&lt;/code&gt;. In Phase 1 press &lt;code&gt;+&lt;/code&gt; and select npm task.
&lt;img alt="Select npm task" src="img/2017/2017-10-09-VSTS5.PNG" title="Select npm task"&gt;&lt;/li&gt;
&lt;li&gt;Configure npm task by pressing the dropdown list and select &lt;code&gt;install&lt;/code&gt;&lt;br&gt;
&lt;img alt="Configure npm install" src="img/2017/2017-10-09-VSTS6.PNG" title="Configure npm install"&gt;&lt;/li&gt;
&lt;li&gt;After install you did &lt;code&gt;Ionic serve&lt;/code&gt;. But that was a development task - not a build task&lt;br&gt;
Next build task is &lt;code&gt;npm run build --prod --aot&lt;/code&gt;. Go on - add yet a npm task as you did before&lt;/li&gt;
&lt;li&gt;Configure npm task by pressing the dropdown list and select &lt;code&gt;custom&lt;/code&gt;, since you can't select run&lt;br&gt;
Add &lt;code&gt;run build --prod --aot&lt;/code&gt; as Command and arguments&lt;br&gt;
You probably recognize &lt;code&gt;--aot&lt;/code&gt; - &lt;a href="https://angular.io/guide/aot-compiler"&gt;Ahead-of-Time&lt;/a&gt; from Angular 4. It gives faster load time, so it is quite important&lt;br&gt;
&lt;img alt="Configure npm run" src="img/2017/2017-10-09-VSTS7.PNG" title="Configure npm run"&gt;&lt;/li&gt;
&lt;li&gt;So we ran out of steps locally, but on the build server we still need to package the build output and send it to Azure&lt;br&gt;
Next task is a zip-task. Press &lt;code&gt;+&lt;/code&gt; and select &lt;code&gt;Archive Files&lt;/code&gt;&lt;br&gt;
&lt;img alt="Select zip task" src="img/2017/2017-10-09-VSTS8.PNG" title="Select zip task"&gt;&lt;/li&gt;
&lt;li&gt;Root folder is the build code you want to deploy. It is located in the &lt;code&gt;www&lt;/code&gt; folder - just as when you work locally&lt;br&gt;
Unselect "Prefix root folder ..."&lt;br&gt;
The name of the zipped package should be &lt;code&gt;$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip&lt;/code&gt;&lt;br&gt;
&lt;img alt="Configure zip" src="img/2017/2017-10-09-VSTS9.PNG" title="Configure zip"&gt;&lt;/li&gt;
&lt;li&gt;Final build step to do is to put the package in a drop folder&lt;br&gt;
Next task is a publish task. Press &lt;code&gt;+&lt;/code&gt; and select &lt;code&gt;Publish Build Artifacts&lt;/code&gt;&lt;br&gt;
Notice - you can create PowerShell, Shell Script and Batch Script tasks. So if you npm installed a nice utility, you could then do anything with it in a script which could be in your code e.g. `.\scripts\runkarmaandprotractortests.cmd
&lt;img alt="Select publish task" src="img/2017/2017-10-09-VSTS10.PNG" title="Select publish task"&gt;&lt;/li&gt;
&lt;li&gt;Path to publish is the zip file you created in last step&lt;br&gt;
Artifact Name is the name of the drop folder. It must be called &lt;code&gt;drop&lt;/code&gt;&lt;br&gt;
And Location must be &lt;code&gt;TFS&lt;/code&gt; - that used to be called Type: &lt;code&gt;Server&lt;/code&gt; (opposed to File Share)&lt;br&gt;
&lt;img alt="Configure publish" src="img/2017/2017-10-09-VSTS11.PNG" title="Configure publish"&gt;&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;Save &amp;amp; queue&lt;/code&gt;. In top of the screen you'll see &lt;code&gt;Build #&amp;lt;some-number&amp;gt; has been queued.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;#&amp;lt;some-number&amp;gt;&lt;/code&gt;. Now you can see the progress of the build.&lt;br&gt;
When the build has finished you'll see &lt;code&gt;Build Succeeded&lt;/code&gt; and above that &lt;code&gt;dreamhouse-mobile-ionic-Build / Build &amp;lt;some-number&amp;gt; / Phase 1&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;Build &amp;lt;some-number&amp;gt;&lt;/code&gt;. Now you get 5 tabs for that build: &lt;code&gt;Summary - Timeline - Artifacts - Code coverage* - Tests&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Click on &lt;code&gt;Artifacts&lt;/code&gt;. Now you see the dropfolder. Check it out and see if it contains what you expected.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Have you noticed that these Build Tasks correspond to the features in &lt;a href="https://www.jetbrains.com/teamcity/"&gt;TeamCity&lt;/a&gt;? &lt;/p&gt;
&lt;p&gt;Next up is to deploy the package to Azure.&lt;/p&gt;
&lt;h2&gt;Setup WebApp in Azure&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When you have created a free Azure account via &lt;a href="https://azure.microsoft.com/en-in/free/"&gt;Microsoft Azure&lt;/a&gt; browse to &lt;a href="https://portal.azure.com/"&gt;Azure Portal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The first thing you need is a place for all your stuff at Azure to live. That is called a &lt;code&gt;Resource Group&lt;/code&gt;&lt;br&gt;
Click &lt;code&gt;Resource Groups&lt;/code&gt; then &lt;code&gt;+ Add&lt;/code&gt;&lt;br&gt;
&lt;img alt="Add Resource Group" src="img/2017/2017-10-09-Azure1.PNG" title="Add Resource Group"&gt;&lt;/li&gt;
&lt;li&gt;Name - I have called mine &lt;code&gt;ResGroupNorthEurope&lt;/code&gt;&lt;br&gt;
Location - I live in area &lt;code&gt;North Europe&lt;/code&gt;&lt;br&gt;
&lt;img alt="Configure Resource Group" src="img/2017/2017-10-09-Azure2.PNG" title="Configure Resource Group"&gt;&lt;/li&gt;
&lt;li&gt;So what do you want there? A webapp. You find that under &lt;code&gt;App Services&lt;/code&gt;. Click &lt;code&gt;+ Add&lt;/code&gt; then &lt;code&gt;Filter&lt;/code&gt;&lt;br&gt;
Then you see a variaty of categories of webapps
&lt;img alt="Add WebApp" src="img/2017/2017-10-09-Azure3.PNG" title="Add WebApp"&gt;&lt;/li&gt;
&lt;li&gt;Select &lt;code&gt;Web App&lt;/code&gt; 
Since I have already taken subdomain dreamhouse-mobile-ionic you have to choose another one - e.g.  &lt;code&gt;yourvstsusername-dreamhouse-mobile-ionic&lt;/code&gt;&lt;br&gt;
Resourse Group: Use the one you created before: &lt;code&gt;`Use Existing&lt;/code&gt;&lt;br&gt;
App Service Plan is the Dyno in Heroku or EC2 in AWS - the size of your PaaS. I have chosen the smallest: S1&lt;br&gt;
Tip: You can reuse the Resource Group and the App Service Plan for several resources e.g. webapps.
&lt;img alt="Configure WebApp" src="img/2017/2017-10-09-Azure4.PNG" title="Configure WebApp"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You're done in Azure. Next up is to release to Azure from VSTS.&lt;/p&gt;
&lt;h2&gt;Release to Azure from VSTS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Go back to &lt;a href="https://yourvstsusername.visualstudio.com/dreamhouse-mobile-ionic/_build"&gt;https://yourvstsusername.visualstudio.com/dreamhouse-mobile-ionic/_build&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can deploy to many environments and services. We just want to deploy to our App Service.&lt;br&gt;
First step is to select that target environment in a Release&lt;br&gt;
Click tab &lt;code&gt;Releases&lt;/code&gt; then &lt;code&gt;+&lt;/code&gt; - &lt;code&gt;Create Release Definition&lt;/code&gt; - Select &lt;code&gt;Azure App Service Deployment&lt;/code&gt; and click Apply &lt;br&gt;
&lt;img alt="Add Release Definition" src="img/2017/2017-10-09-VSTSRelease1.PNG" title="Add Release Definition"&gt;&lt;/li&gt;
&lt;li&gt;Notice the ´!´ - something needs attention - click either of them&lt;br&gt;
&lt;img alt="Tasks needs attention" src="img/2017/2017-10-09-VSTSRelease2.PNG" title="Tasks needs attention"&gt;&lt;/li&gt;
&lt;li&gt;Hey - that looks familiar - a list of steps in a task list - just as under tab &lt;code&gt;Build&lt;/code&gt;&lt;br&gt;
Yes, but heading is &lt;code&gt;Environment 1&lt;/code&gt; - not &lt;code&gt;Phase 1&lt;/code&gt;. And for the environmet you have to connect to Azure.
Click on &lt;code&gt;Manage&lt;/code&gt; subscribtion and go through an authentication process&lt;br&gt;
When connected you can click the dropdown list to select your website&lt;br&gt;
&lt;img alt="Connect to Azure" src="img/2017/2017-10-09-VSTSRelease3.PNG" title="Connect to Azure"&gt;&lt;/li&gt;
&lt;li&gt;Head back to tab &lt;code&gt;Pipeline&lt;/code&gt; - we need to fetch a source to deploy&lt;br&gt;
Select &lt;code&gt;Add Artifact&lt;/code&gt; and select source type: &lt;code&gt;Build&lt;/code&gt;, so we can fetch the zip file from drop.&lt;br&gt;
Notice: Source type can also be: &lt;code&gt;Git, GitHub, Jenkins and Team Foundation Version Control&lt;/code&gt;.&lt;br&gt;
Build Definition: Select the only one from the list.&lt;br&gt;
Accept default values and press Add.&lt;br&gt;
&lt;img alt="Add Artifact" src="img/2017/2017-10-09-VSTSRelease4.PNG" title="Add Artifact"&gt;&lt;/li&gt;
&lt;li&gt;Press the lightning icon on the Artifact. Notice the trigger is whenever a new drop has been made.&lt;br&gt;
&lt;img alt="Release Trigger" src="img/2017/2017-10-09-VSTSRelease5.PNG" title="Release Trigger"&gt;&lt;/li&gt;
&lt;li&gt;Now that we have a source we can head back to &lt;code&gt;Tasks&lt;/code&gt;, select &lt;code&gt;Deploy Azure App Service&lt;/code&gt; and enter the missing zipfile: &lt;code&gt;$(System.DefaultWorkingDirectory)\**\*.zip&lt;/code&gt;. You can browse to it by pressing &lt;code&gt;...&lt;/code&gt;&lt;br&gt;
&lt;img alt="Pick zip file" src="img/2017/2017-10-09-VSTSRelease6.PNG" title="Pick zip file"&gt;&lt;/li&gt;
&lt;li&gt;Before we save the Release Definition head to &lt;code&gt;Pipeline&lt;/code&gt; - and select the Lightning in the Environment&lt;br&gt;
Notice you have a possibility to select persons to approve deployment. This can be tester that approves one environment before a build is rolled out for the next environment.&lt;br&gt;
&lt;img alt="Approvers" src="img/2017/2017-10-09-VSTSRelease7.PNG" title="Approvers"&gt;
We don't want approvers - so go on and save as &lt;code&gt;dreamhouse-Release&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Have you noticed that these Release workflow correspond to the features in &lt;a href="https://octopus.com/"&gt;Octopus Deploy&lt;/a&gt;? &lt;/p&gt;
&lt;h2&gt;Trig a build and a release to Azure&lt;/h2&gt;
&lt;p&gt;Now we are ready for the big show - deploy to Azure&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Head back to &lt;code&gt;Builds&lt;/code&gt; - tab &lt;code&gt;All Definitions&lt;/code&gt; - click on the only one &lt;code&gt;dreamhouse-mobile-ionic-Build&lt;/code&gt;&lt;br&gt;
&lt;img alt="Prepare to build" src="img/2017/2017-10-09-VSTSQueue1.PNG" title="Prepare to build"&gt;&lt;/li&gt;
&lt;li&gt;Click &lt;code&gt;Queue New Build...&lt;/code&gt;&lt;br&gt;
&lt;img alt="Queue build" src="img/2017/2017-10-09-VSTSQueue2.PNG" title="Queue build"&gt;&lt;/li&gt;
&lt;li&gt;Click &lt;code&gt;Queue&lt;/code&gt;
&lt;img alt="npm run build" src="img/2017/2017-10-09-VSTSQueue3.PNG" title="npm run build"&gt;&lt;/li&gt;
&lt;li&gt;If the Build succeded head to &lt;code&gt;Releases&lt;/code&gt; tab and verify that the build triggered a release&lt;br&gt;
&lt;img alt="Triggered release" src="img/2017/2017-10-09-VSTSQueue4.PNG" title="Triggered release"&gt;&lt;/li&gt;
&lt;li&gt;If the release succeeded, too head to &lt;code&gt;Azure App Services&lt;/code&gt; in &lt;a href="https://portal.azure.com"&gt;Azure&lt;/a&gt;&lt;br&gt;
Select your service and scroll down to &lt;code&gt;Continous Delivery&lt;/code&gt;&lt;br&gt;
You should see the Release has been Deployed Successfully&lt;br&gt;
&lt;img alt="Succeeded release" src="img/2017/2017-10-09-VSTSQueue5.PNG" title="Succeeded release"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If that is true then you site should be live on&lt;br&gt;
&lt;a href="http://yourvstsusername-dreamhouse-mobile-ionic.azurewebsites.net"&gt;http://yourvstsusername-dreamhouse-mobile-ionic.azurewebsites.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you are just reading along you can also find my site &lt;a href="http://dreamhouse-mobile-ionic.azurewebsites.net/"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1&gt;Alternative deployments tp Azure&lt;/h1&gt;
&lt;p&gt;There are also alternative options for hosting SPA's in Azure.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/tutorials/functions-extension/getting-started"&gt;Azure Functions&lt;/a&gt;. I assume this is the best pick for SPA's or API's with low load.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/tutorials/static-website/getting-started"&gt;Azure Storage&lt;/a&gt;.&lt;br&gt;
I don't think Azure Storage can handle SSR. Instead it is a great place for static websites like this blog.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.visualstudio.com/tutorials/docker-extension/getting-started"&gt;Docker images&lt;/a&gt; - good for porting entire environments from dev to prod in Azure or any other cloud.&lt;/li&gt;
&lt;li&gt;And finally a tutorial like this blog deploying to &lt;a href="https://code.visualstudio.com/tutorials/app-service-extension/getting-started"&gt;App Services&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.wordpress.com/2017/06/29/deploying-ionic1-as-a-webapp-to-heroku/"&gt;Deploying Ionic1 to Heroku&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/vsts/build-release/apps/cd/azure/aspnet-core-to-azure-webapp?tabs=vsts"&gt;Deploy your .NET core app to an Azure web app&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://my.visualstudio.com"&gt;MSDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://yarnpkg.com/en/docs/install-ci#travis-tab"&gt;Yarn with Travis CI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/app-service/app-service-authentication-overview"&gt;Authentication and authorization in Azure App Service&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-cordova-get-started-users"&gt;Add authentication on Cordova with Mobile Apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/aspnet/core/client-side/spa-services"&gt;SSR with .NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk"&gt;Azure Mobile Apps - MBaaS - C#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk"&gt;Azure Mobile Apps - MBaaS - NodeJs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/cli/azure/overview?view=azure-cli-latest"&gt;Azure CLI 2.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/app-service/app-service-cli-samples"&gt;Azure CLI Samples - App Service&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#npm"></category><category term="#git"></category><category term="#ionic"></category><category term="#ngx"></category><category term="#azure"></category><category term="#pwa"></category></entry><entry><title>Using NVM for Windows and Yarn</title><link href="https://rasor.github.io/using-nvm-for-windows-and-yarn.html" rel="alternate"></link><published>2017-10-08T11:00:00+02:00</published><updated>2019-04-19T11:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-10-08:/using-nvm-for-windows-and-yarn.html</id><summary type="html">&lt;p&gt;Microsoft created Taco (Tools for Apache Cordova) - a set of Node.js tools with specific versions. It was to be used from within Visual Studio, so they knew what was global in their Cordova apps.
I blogged about it &lt;a href="https://rasor.wordpress.com/2017/03/13/ionic-in-visual-studio-2017/" target="_blank"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With Nvm For Windows you can stay in the shell …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Microsoft created Taco (Tools for Apache Cordova) - a set of Node.js tools with specific versions. It was to be used from within Visual Studio, so they knew what was global in their Cordova apps.
I blogged about it &lt;a href="https://rasor.wordpress.com/2017/03/13/ionic-in-visual-studio-2017/" target="_blank"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With Nvm For Windows you can stay in the shell and select yourself what you want to include in your set.&lt;/p&gt;
&lt;p&gt;I need it to be able to switch between Node v6 and Node v8.
In my usecase there is v6 installed on a host (Azure), so I also need v6 locally for debugging.
And when not debugging for prod I can use newest v8.&lt;/p&gt;
&lt;h2&gt;Using &lt;a href="https://github.com/coreybutler/nvm-windows" target="_blank"&gt;nvm4windows&lt;/a&gt;&lt;/h2&gt;
&lt;h3&gt;Before you install nvm4windows you need to&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;uninstall node&lt;/li&gt;
&lt;li&gt;Delete folder C:\Program Files\nodejs&lt;/li&gt;
&lt;li&gt;Delete folder C:\Users\username\AppData\Roaming\npm&lt;/li&gt;
&lt;li&gt;Delete folder C:\Users\username\AppData\Roaming\npm-cache&lt;/li&gt;
&lt;li&gt;Remove envir var %NODE_ENV%&lt;/li&gt;
&lt;li&gt;Remove part of %path% C:\Users\username\AppData\Roaming\npm&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Download, install and use &lt;a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank"&gt;nvm4windows&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;nvm list&lt;/code&gt; # shows nothing installed&lt;/li&gt;
&lt;li&gt;goto &lt;a href="https://nodejs.org/en/download/" target="_blank"&gt;Node downloads&lt;/a&gt; and &lt;ul&gt;
&lt;li&gt;checkout LTS version - currently 6.11.4 (includes npm 3.10.10)&lt;/li&gt;
&lt;li&gt;checkout current version - currently 8.6.0 (includes npm 5.3.0)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Install the two versions:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nvm install &lt;span class="m"&gt;6&lt;/span&gt;.11.4 &lt;span class="c1"&gt;# Installs into \nvm\v6.11.4&lt;/span&gt;
nvm install &lt;span class="m"&gt;8&lt;/span&gt;.6.0 &lt;span class="c1"&gt;# Installs into \nvm\v8.6.0&lt;/span&gt;
nvm list

&lt;span class="c1"&gt;#    8.6.0&lt;/span&gt;
&lt;span class="c1"&gt;#    6.11.4&lt;/span&gt;

nvm use &lt;span class="m"&gt;8&lt;/span&gt;.6.0 &lt;span class="c1"&gt;# Creates a shortcut \nodejs\ pointing to the above \vx.x.x\ folder&lt;/span&gt;
&lt;span class="c1"&gt;# Now using node v8.6.0 (64-bit)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The shortcut \nodejs\ is also saved as %NVM_SYMLINK% and saved to %path%&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nvm list

&lt;span class="c1"&gt;#  * 8.6.0 (Currently using 64-bit executable)&lt;/span&gt;
&lt;span class="c1"&gt;#    6.11.4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You need to &lt;code&gt;npm install -g&lt;/code&gt; (globally install js libs into each of the nodejs versions you are using) e.g. &lt;code&gt;npm install -g cordova&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Note&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cli tools (e.g. cordova) are installed in &lt;code&gt;%ProgramFiles%\nodejs&lt;/code&gt;, which might not be the path you chose for node.&lt;br&gt;
If not you need to add &lt;code&gt;%ProgramFiles%\nodejs&lt;/code&gt; to &lt;code&gt;%path%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;node_modules are scattered around the disk(s)&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C:\Users\username\AppData\Roaming\npm-cache&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Nvm path &lt;code&gt;%NVM_HOME%\vx.x.x\node_modules\npm\node_modules&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Nvm Nodejs paths &lt;code&gt;%NVM_SYMLINK%\node_modules&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Normal Nodejs paths &lt;code&gt;%ProgramFiles%\nodejs\node_modules&lt;/code&gt; - CLI's installed with -g&lt;/li&gt;
&lt;li&gt;and locally in project subfolder &lt;code&gt;\node_modules&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Well it seems like installation of nvm must be done to the default paths, since in the setup on my PC -g installs still ends up in a common place. I'll have to test that on another occation.&lt;/p&gt;
&lt;p&gt;You might also need to set environment variable (for Express?):
&lt;code&gt;NODE_ENV=%NVM_SYMLINK%&lt;/code&gt; and &lt;code&gt;refreshenv&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Using Yarn&lt;/h2&gt;
&lt;p&gt;The npm v5 coming with node v8 has a package.lock file - yes idea taken from Yarn. Meaning we don't need Yarn anymore - unless you need other features from Yarn.&lt;br&gt;
For npm v3 (node v6) we often need yarn.lock.&lt;/p&gt;
&lt;p&gt;We need the lock file to keep track of all exact versions of dependencies in a project.&lt;/p&gt;
&lt;h3&gt;Install Yarn&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://yarnpkg.com/en/docs/install" target="_blank"&gt;Download Yarn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://chocolatey.org/install" target="_blank"&gt;Chocolatey&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install Yarn &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nvm use &lt;span class="m"&gt;6&lt;/span&gt;.11.4 &lt;span class="c1"&gt;# yarn checks for npm&lt;/span&gt;
choco install yarn
yarn -v
&lt;span class="c1"&gt;#1.1.0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Using Yarn&lt;/h3&gt;
&lt;h4&gt;When starting from empty project&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;yarn init &lt;span class="c1"&gt;# create the yarn.lock file and a package.json&lt;/span&gt;
yarn add &lt;span class="o"&gt;[&lt;/span&gt;package&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# same as npm -install -save [package]&lt;/span&gt;
yarn add &lt;span class="o"&gt;[&lt;/span&gt;package&lt;span class="o"&gt;]&lt;/span&gt; --dev &lt;span class="c1"&gt;# same as npm -install --save-dev [package]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;When starting from a working npm project&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;yarn import &lt;span class="c1"&gt;# create the yarn.lock file from node_modules folder&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If it fails with &lt;code&gt;error An unexpected error occurred: "should have a resolved reference"&lt;/code&gt;&lt;br&gt;
then it might work to just issue &lt;code&gt;yarn&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;When starting from a cloned npm project having yarn.lock&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone &lt;span class="s2"&gt;&amp;quot;https://github.com/.....&amp;quot;&lt;/span&gt;
yarn install &lt;span class="c1"&gt;# same as npm install, but using yarn.lock: download modules&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;When upgrading existing package in package.json&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;yarn upgrade &lt;span class="o"&gt;[&lt;/span&gt;package&lt;span class="o"&gt;]&lt;/span&gt;@latest &lt;span class="c1"&gt;# same as npm update [package]@latest, but using yarn.lock&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://yarnpkg.com/en/docs/usage" target="_blank"&gt;Yarn usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://yarnpkg.com/en/docs/migrating-from-npm" target="_blank"&gt;Npm vs. Yarn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://yarnpkg.com/en/docs/cli/" target="_blank"&gt;Yarn commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.npmjs.com/cli" target="_blank"&gt;Npm commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rasor/awesome-tables/blob/master/awesome-cli-on-windows.md#chocolatey" target="_blank"&gt;Awesome CLI - on Windows - Chocolatey&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#nvm"></category><category term="#nodejs"></category><category term="#npm"></category><category term="#yarn"></category><category term="#chocolatay"></category></entry><entry><title>Using SSH keys - Connect to Ionic Pro</title><link href="https://rasor.github.io/using-ssh-keys-connect-to-ionic-pro.html" rel="alternate"></link><published>2017-10-03T20:30:00+02:00</published><updated>2020-01-13T22:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-10-03:/using-ssh-keys-connect-to-ionic-pro.html</id><summary type="html">&lt;p&gt;HowTo connect to Ionic Pro, when &lt;code&gt;ionic link&lt;/code&gt; fails?&lt;br&gt;
&lt;em&gt;&lt;a href="https://ionicframework.com/docs/pro/" target="_blank"&gt;Ionic Pro&lt;/a&gt; is a new site taking over the features from Ionic Cloud - a hosted mobile build, test and deploy service&lt;/em&gt;&lt;/p&gt;
&lt;h1&gt;Intro&lt;/h1&gt;
&lt;h3&gt;The problem&lt;/h3&gt;
&lt;p&gt;I wanted to connect to Ionic Pro from Windows.&lt;br&gt;
But the attempt failed.&lt;/p&gt;
&lt;p&gt;It kept coming with …&lt;/p&gt;</summary><content type="html">&lt;p&gt;HowTo connect to Ionic Pro, when &lt;code&gt;ionic link&lt;/code&gt; fails?&lt;br&gt;
&lt;em&gt;&lt;a href="https://ionicframework.com/docs/pro/" target="_blank"&gt;Ionic Pro&lt;/a&gt; is a new site taking over the features from Ionic Cloud - a hosted mobile build, test and deploy service&lt;/em&gt;&lt;/p&gt;
&lt;h1&gt;Intro&lt;/h1&gt;
&lt;h3&gt;The problem&lt;/h3&gt;
&lt;p&gt;I wanted to connect to Ionic Pro from Windows.&lt;br&gt;
But the attempt failed.&lt;/p&gt;
&lt;p&gt;It kept coming with one error after the other. The latest I had difficulty to pass was:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;ionic link
× Looking up your apps - failed!
Request: GET https://api.ionicjs.com/apps?page&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nv"&gt;page_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;25&lt;/span&gt;
Response: &lt;span class="m"&gt;401&lt;/span&gt;
Body:
&lt;span class="o"&gt;{&lt;/span&gt; type: &lt;span class="s1"&gt;&amp;#39;Unauthorized&amp;#39;&lt;/span&gt;, link: null, message: &lt;span class="s1"&gt;&amp;#39;Invalid Token&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This blog has a &lt;strong&gt;workaround&lt;/strong&gt; for &lt;code&gt;ionic link&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;ionic link&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://ionicframework.com/docs/cli/link/" target="_blank"&gt;&lt;code&gt;ionic link&lt;/code&gt;&lt;/a&gt; CLI command connects your local git repo with a remote repo at Ionic Pro.
That remote repo was created when you manually created an app at &lt;a href="https://dashboard.ionicjs.com/apps" target="_blank"&gt;Ionic Pro&lt;/a&gt; site.&lt;/p&gt;
&lt;p&gt;It does that by doing probably all these tasks&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;creating a set of SSH keys, &lt;/li&gt;
&lt;li&gt;uploading the public key to Ionic Pro and&lt;/li&gt;
&lt;li&gt;adding the app id to project-root\ionic.config.json&lt;/li&gt;
&lt;li&gt;adding remote ionic repo to your local project&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So when it won't we can do it ourselves.&lt;/p&gt;
&lt;h1&gt;The workaround&lt;/h1&gt;
&lt;h3&gt;Prerequisites&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Create a ionic app in &lt;a href="https://dashboard.ionicjs.com" target="_blank"&gt;Ionic Pro&lt;/a&gt;&lt;br&gt;
After creation the id of the app will be the last part of the url - e.g. as in https://apps.ionic.io/app/09faf85a&lt;/li&gt;
&lt;li&gt;Create a &lt;a href="http://ionicframework.com/getting-started/" target="_blank"&gt;ionic starter app&lt;/a&gt; on your PC&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;1. Create a set of SSH keys&lt;/h3&gt;
&lt;p&gt;You need &lt;code&gt;ssh-keygen.exe&lt;/code&gt; to generate a set of public/private SSH keys.
&lt;code&gt;ssh-keygen.exe&lt;/code&gt; is installed as part of &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Git (default installed into &lt;code&gt;C:\Program Files\Git\usr\bin&lt;/code&gt;) or&lt;/li&gt;
&lt;li&gt;OpenSSH (default installed into &lt;code&gt;C:\Program Files\OpenSSH-Win64&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On my PC I also had HerokuToolkit installed with a path in &lt;code&gt;ssh-keygen.bat&lt;/code&gt; to &lt;code&gt;ssh-keygen.exe&lt;/code&gt;.&lt;br&gt;
But this path was wrong. It seemed to be part of some problems. Rename that file, so it is not called instead of one of the real .exe files.&lt;/p&gt;
&lt;p&gt;From Git bash:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/&lt;/span&gt;

&lt;span class="c1"&gt;# Generate key-pair into C:\Users\your_userid\.ssh\&lt;/span&gt;
c:
&lt;span class="nb"&gt;cd&lt;/span&gt; C:/Users/your_userid/.ssh
&lt;span class="c1"&gt;# http://docs.ionic.io/services/ssh-keys/&lt;/span&gt;
ssh-keygen.exe -t rsa -b &lt;span class="m"&gt;4096&lt;/span&gt; -C &lt;span class="s2"&gt;&amp;quot;your_email@example.com&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Check if ssh agent is running&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="k"&gt;$(&lt;/span&gt;ssh-agent -s&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# Agent pid 12345 - yes&lt;/span&gt;

&lt;span class="c1"&gt;# Add private key to agent - &lt;/span&gt;
ssh-add C:/Users/your_userid/.ssh/id_rsa
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. Upload the public key to Ionic Pro&lt;/h3&gt;
&lt;p&gt;Paste the content of file &lt;code&gt;id_rsa.pub&lt;/code&gt; to a new key in &lt;a href="https://dashboard.ionicjs.com/settings/ssh-keys" target="_blank"&gt;Ionic Pro's SSH store&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;3. Add the app id to your Ionic config in your local repo&lt;/h3&gt;
&lt;p&gt;Edit &lt;code&gt;project-root\ionic.config.json&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;{&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Your&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;Magic&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;App&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;app_id&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;09faf85a&amp;quot;&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;# replace with your id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. Add remote ionic repo to your local project&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# https://dashboard.ionicjs.com/app/09faf85a/settings/git&lt;/span&gt;
&lt;span class="c1"&gt;# Add Ionic Pro as remote repo&lt;/span&gt;
git remote add ionic ssh://git@git.ionicjs.com:your_ionic_userid/your_ionic_appname.git
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;After the workaround&lt;/h1&gt;
&lt;h3&gt;5. Upload your app to Ionic Pro&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Upload to Ionic Pro&lt;/span&gt;
git push ionic master
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;6. Make Github your default remote repo&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Add github as remote repo&lt;/span&gt;
git remote add origin https://github.com/your_git_userid/your_git_appname.git
&lt;span class="c1"&gt;# Upload to github and set it default (for pull)&lt;/span&gt;
git push --set-upstream origin master
&lt;span class="c1"&gt;# Check your remotes&lt;/span&gt;
git remote -v
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;7. Continue to use Ionic Pro&lt;/h3&gt;
&lt;p&gt;On the url for your app - e.g. https://dashboard.ionicjs.com/app/09faf85a/code/builds/list you can continue to deploy, preview and more.&lt;/p&gt;
&lt;p&gt;You might also need to modify &lt;code&gt;src/app/app.module.ts&lt;/code&gt;. &lt;a href="http://docs.ionic.io/setup.html#configuration" target="_blank"&gt;Define a CloudSettings object&lt;/a&gt;. &lt;/p&gt;
&lt;hr&gt;
&lt;h1&gt;Tips&lt;/h1&gt;
&lt;h3&gt;Download an app as a starter app&lt;/h3&gt;
&lt;p&gt;If you have access to a Ionic Pro app, you can &lt;code&gt;git clone&lt;/code&gt; it with&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ionic start --pro-id 09faf85a
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;... if I am asuming correct.&lt;/p&gt;
&lt;h3&gt;If you want OpenSSH on Windows&lt;/h3&gt;
&lt;p&gt;.. then here is how you &lt;a href="https://github.com/PowerShell/Win32-OpenSSH/wiki/Win32-OpenSSH-Automated-Install-and-Upgrade-using-Chocolatey" target="_blank"&gt;install OpenSSH&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# do this from an admin prompt&lt;/span&gt;
choco install openssh &lt;span class="c1"&gt;# takes a while&lt;/span&gt;
&lt;span class="c1"&gt;# reload environment variables&lt;/span&gt;
refresh env
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;If you want Git Bash to add your Github SSH key to an agent&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://dev.to/bsara/how-to-setup-ssh-authentication-for-git-bash-on-windows-a63"&gt;How to Setup SSH Authentication for Git Bash on Windows&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;If you want Powershell to add your SSH key to an agent&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/remote/troubleshooting#_setting-up-the-ssh-agent"&gt;Setting up the SSH Agent&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# PS1&lt;/span&gt;
&lt;span class="c"&gt;# Make sure you&amp;#39;re running as an Administrator&lt;/span&gt;
&lt;span class="nb"&gt;Set-Service&lt;/span&gt; &lt;span class="n"&gt;ssh-agent&lt;/span&gt; &lt;span class="n"&gt;-StartupType&lt;/span&gt; &lt;span class="n"&gt;Automatic&lt;/span&gt;
&lt;span class="nb"&gt;Start-Service&lt;/span&gt; &lt;span class="n"&gt;ssh-agent&lt;/span&gt;
&lt;span class="nb"&gt;Get-Service&lt;/span&gt; &lt;span class="n"&gt;ssh-agent&lt;/span&gt;
&lt;span class="c"&gt;# Add SSH private key to agent&lt;/span&gt;
&lt;span class="n"&gt;ssh-add&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;&lt;span class="n"&gt;users&lt;/span&gt;&lt;span class="p"&gt;\&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;yourid&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;\.&lt;/span&gt;&lt;span class="n"&gt;ssh&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;&lt;span class="n"&gt;id_rsa&lt;/span&gt;
&lt;span class="c"&gt;# Verity key added&lt;/span&gt;
&lt;span class="n"&gt;ssh-add&lt;/span&gt; &lt;span class="n"&gt;-l&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ionicframework.com/docs/pro/basics/getting-started/" target="_blank"&gt;http://ionicframework.com/docs/pro/basics/getting-started/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/PowerShell/Win32-OpenSSH/wiki/ssh.exe-examples" target="_blank"&gt;https://github.com/PowerShell/Win32-OpenSSH/wiki/ssh.exe-examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#git"></category><category term="#ssh"></category><category term="#ionic"></category></entry><entry><title>Use Google Drive as your Desktop</title><link href="https://rasor.github.io/use-google-drive-as-your-desktop.html" rel="alternate"></link><published>2017-09-30T12:00:00+02:00</published><updated>2017-09-30T12:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-09-30:/use-google-drive-as-your-desktop.html</id><summary type="html">&lt;p&gt;If you have had the thought of using Google Drive as the place where you store your links - just as when you have them on your desktop, then you will learn that you can't navigate to the URL by double-clicking on them.&lt;/p&gt;
&lt;p&gt;There are several plugins for Chrome.
The first …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you have had the thought of using Google Drive as the place where you store your links - just as when you have them on your desktop, then you will learn that you can't navigate to the URL by double-clicking on them.&lt;/p&gt;
&lt;p&gt;There are several plugins for Chrome.
The first one I found useful was &lt;a href="https://chrome.google.com/webstore/detail/linkto/goapcakmlfahhdehdkbejkcpoddbdikm" target="_blank"&gt;LinkTo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With LinkTo installed you can both right-click or double-click in Google Drive on a link to navigate to that URL.&lt;/p&gt;
&lt;p&gt;&lt;img alt="picture alt" src="img/2017/2017-09-30-GDriveLinkTo.PNG" title="A Link in Google Drive"&gt;&lt;/p&gt;
&lt;p&gt;It also has more features, but the double-click feature is the only one I need so far.&lt;/p&gt;
&lt;p&gt;Thanks a lot, &lt;a href="https://github.com/ntxcode" target="_blank"&gt;ntxDev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Biz"></category><category term="#googledrive"></category><category term="#chrome"></category><category term="#desktop"></category></entry><entry><title>Using Pelican Themes</title><link href="https://rasor.github.io/using-pelican-themes.html" rel="alternate"></link><published>2017-09-30T11:00:00+02:00</published><updated>2017-09-30T15:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-09-30:/using-pelican-themes.html</id><summary type="html">&lt;p&gt;This blog is part of a serie &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-themes.html"&gt;Using Pelican Themes&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html"&gt;Setting Pelican blogs in "draft"&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Installation - Plugins and Themes&lt;/h2&gt;
&lt;p&gt;Plugins and Themes are two seperate repos being used by some themes.
To be able to reach them from &lt;code&gt;pelicanconf.py&lt;/code&gt; is best …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-themes.html"&gt;Using Pelican Themes&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html"&gt;Setting Pelican blogs in "draft"&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Installation - Plugins and Themes&lt;/h2&gt;
&lt;p&gt;Plugins and Themes are two seperate repos being used by some themes.
To be able to reach them from &lt;code&gt;pelicanconf.py&lt;/code&gt; is best to clone them to place with an absolute path.&lt;/p&gt;
&lt;p&gt;Since preference will differ I will put part of the path in system-wide environment variables&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SystemPropertiesAdvanced.exe&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Environment Variables – System vars – New&lt;/li&gt;
&lt;li&gt;Name: &lt;code&gt;PYTHON_HOME&lt;/code&gt;, Value: &lt;code&gt;C:\ProgramFilesExtra\Python\Python36-32&lt;/code&gt;(Use the path to Python installed in top of previous blog)&lt;/li&gt;
&lt;li&gt;Press OK until all dialogs are closed, so you are sure the variable is stored&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Start new cmd promt (this will load the new environment variable)&lt;/li&gt;
&lt;li&gt;Create a folder for the cloned repos:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;c:
&lt;span class="nb"&gt;cd&lt;/span&gt; %PYTHON_HOME%
md pelican-addon-clones
&lt;span class="nb"&gt;cd&lt;/span&gt; pelican-addon-clones
&lt;span class="c1"&gt;# Download plugins and themes&lt;/span&gt;
git clone --recursive https://github.com/getpelican/pelican-plugins
git clone --recursive https://github.com/getpelican/pelican-themes
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The above repo pelican-themes in some cases is not linked to the latest version of a theme.
So for those themes you can clone them into another folder called pelican-themes-extra.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;c:
&lt;span class="nb"&gt;cd&lt;/span&gt; %PYTHON_HOME%&lt;span class="se"&gt;\p&lt;/span&gt;elican-addon-clones
md pelican-themes-extra
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Testing Themes&lt;/h1&gt;
&lt;h2&gt;View installed themes and themes you can install&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Which themes are ready to use by Pelican? - By default Pelican is running theme &amp;quot;notmyidea&amp;quot;&lt;/span&gt;
&amp;gt; pelican-themes -v -l
c:&lt;span class="se"&gt;\p&lt;/span&gt;rogramfilesextra&lt;span class="se"&gt;\p&lt;/span&gt;ython&lt;span class="se"&gt;\p&lt;/span&gt;ython36-32&lt;span class="se"&gt;\l&lt;/span&gt;ib&lt;span class="se"&gt;\s&lt;/span&gt;ite-packages&lt;span class="se"&gt;\p&lt;/span&gt;elican&lt;span class="se"&gt;\t&lt;/span&gt;hemes&lt;span class="se"&gt;\n&lt;/span&gt;otmyidea
c:&lt;span class="se"&gt;\p&lt;/span&gt;rogramfilesextra&lt;span class="se"&gt;\p&lt;/span&gt;ython&lt;span class="se"&gt;\p&lt;/span&gt;ython36-32&lt;span class="se"&gt;\l&lt;/span&gt;ib&lt;span class="se"&gt;\s&lt;/span&gt;ite-packages&lt;span class="se"&gt;\p&lt;/span&gt;elican&lt;span class="se"&gt;\t&lt;/span&gt;hemes&lt;span class="se"&gt;\s&lt;/span&gt;imple
&lt;span class="c1"&gt;# Which themes are downloaded and ready to install?&lt;/span&gt;
&amp;gt; start %PYTHON_HOME%&lt;span class="se"&gt;\p&lt;/span&gt;elican-addon-clones&lt;span class="se"&gt;\p&lt;/span&gt;elican-themes&lt;span class="se"&gt;\&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Command &lt;code&gt;start&lt;/code&gt; opens an explorer, so you can go into the folders and see if there are any images showing how the theme looks like.
Or you can checkout &lt;a href="http://www.pelicanthemes.com/" target="_blank"&gt;http://www.pelicanthemes.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I am at time of writing running with theme Flex.&lt;/p&gt;
&lt;p&gt;Ref: Command &lt;a href="http://docs.getpelican.com/en/stable/pelican-themes.html"&gt;pelican-themes&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Switch to Theme "Flex"&lt;/h2&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/alexandrevicenzi/Flex" target="_blank"&gt;Online Instruction&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Flex is one of the themes that is not latest in pelican-themes repo, so I want to download latest from its own repo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;c:
&lt;span class="nb"&gt;cd&lt;/span&gt; %PYTHON_HOME%&lt;span class="se"&gt;\p&lt;/span&gt;elican-addon-clones&lt;span class="se"&gt;\p&lt;/span&gt;elican-themes-extra
&lt;span class="c1"&gt;# Download Flex&lt;/span&gt;
git clone https://github.com/alexandrevicenzi/Flex
&lt;span class="c1"&gt;# Install Flex into Pelican&lt;/span&gt;
pelican-themes --install C:&lt;span class="se"&gt;\P&lt;/span&gt;rogramFilesExtra&lt;span class="se"&gt;\P&lt;/span&gt;ython&lt;span class="se"&gt;\P&lt;/span&gt;ython36-32&lt;span class="se"&gt;\p&lt;/span&gt;elican-addon-clones&lt;span class="se"&gt;\p&lt;/span&gt;elican-themes-extra&lt;span class="se"&gt;\F&lt;/span&gt;lex --verbose
&lt;span class="c1"&gt;# pelican-themes --remove Flex&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Add to &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/pelicanconf.py" target="_blank"&gt;&lt;code&gt;pelicanconf.py&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Flex&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;STATIC_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;img&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;static&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;FAVICON&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;img/favicon.ico&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;CUSTOM_CSS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;static/custom.css&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Notice: If you don't want to add extra CSS, then &lt;code&gt;THEME&lt;/code&gt; is all you have to set&lt;/li&gt;
&lt;li&gt;In the CUSTOM_CSS I am just adding a shadow to images&lt;/li&gt;
&lt;li&gt;In \content\static\ create a file called &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/content/static/custom.css" target="_blank"&gt;&lt;code&gt;custom.css&lt;/code&gt;&lt;/a&gt; with the content:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;img&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;box-shadow&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="kt"&gt;px&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="kt"&gt;px&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="kt"&gt;px&lt;/span&gt; &lt;span class="kc"&gt;grey&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;More configurations you can add: &lt;a href="https://github.com/alexandrevicenzi/Flex/wiki/Configuration-example" target="_blank"&gt;https://github.com/alexandrevicenzi/Flex/wiki/Configuration-example&lt;/a&gt;. You probably will want many of them.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Verdict&lt;/h3&gt;
&lt;h4&gt;Pros&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Nice looking&lt;/li&gt;
&lt;li&gt;Images are shown in its full width - and resized to screen width&lt;/li&gt;
&lt;li&gt;Syntax highligting is good&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Cons&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Modified/Updated date is not shown&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Switch to Theme "HTML5 Up striped"&lt;/h2&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-striped-html5up" target="_blank"&gt;Online Instruction&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;c:
&lt;span class="c1"&gt;# Install striped-html5up into Pelican&lt;/span&gt;
pelican-themes --install C:&lt;span class="se"&gt;\P&lt;/span&gt;rogramFilesExtra&lt;span class="se"&gt;\P&lt;/span&gt;ython&lt;span class="se"&gt;\P&lt;/span&gt;ython36-32&lt;span class="se"&gt;\p&lt;/span&gt;elican-addon-clones&lt;span class="se"&gt;\p&lt;/span&gt;elican-themes&lt;span class="se"&gt;\p&lt;/span&gt;elican-striped-html5up --verbose
&lt;span class="c1"&gt;#pelican-themes --remove pelican-striped-html5up&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Plugin &lt;code&gt;neighbors&lt;/code&gt; is needed by the theme&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add to &lt;code&gt;pythonconf.py&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PLUGIN_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;C:\ProgramFilesExtra\Python\Python36-32\pelican-addon-clones\pelican-plugins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;neighbors&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;pelican-striped-html5up&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Verdict&lt;/h3&gt;
&lt;h4&gt;Pros&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Nice looking&lt;/li&gt;
&lt;li&gt;Images are shown in its full width&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Cons&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;It does not have any syntax coding and block around code&lt;/li&gt;
&lt;li&gt;It is missing links to categories and tags links&lt;/li&gt;
&lt;li&gt;Links in the left black sidemenu are not hooked to content from publishconf or other&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Extending Themes&lt;/h1&gt;
&lt;p&gt;I extended theme "Flex" so it shows Modified date.&lt;/p&gt;
&lt;p&gt;The workflow for updating a theme can be:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Edit the theme in its local repo&lt;/li&gt;
&lt;li&gt;Remove the theme from Pelican&lt;/li&gt;
&lt;li&gt;Re-intall the theme to Pelican&lt;/li&gt;
&lt;li&gt;Build your output and see the change&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;1. Edit Theme&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Goto the root of your theme folder and open the theme in your favorite editor. In this case I edit Flex in VS Code&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;c:
&lt;span class="nb"&gt;cd&lt;/span&gt; %PYHON_HOME%&lt;span class="se"&gt;\p&lt;/span&gt;elican-addon-clones&lt;span class="se"&gt;\p&lt;/span&gt;elican-themes-extra&lt;span class="se"&gt;\F&lt;/span&gt;lex
&lt;span class="c1"&gt;# start VS Code&lt;/span&gt;
code .
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;On each blog post I want to add the &lt;code&gt;Modified&lt;/code&gt; field below the publish date. Add to &lt;a href="https://github.com/alexandrevicenzi/Flex/blob/master/templates/article.html" target="_blank"&gt;&lt;code&gt;templates\article.html&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      &lt;span class="c"&gt;&amp;lt;!-- Inside p-tag contining when=article.locale_date --&amp;gt;&lt;/span&gt;
      &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;br&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
      {% if article.modified %}
        Updated: {{ article.modified |strftime(DEFAULT_DATE_FORMAT) }}
      {% endif %}
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Before you re-install the theme you should also goto your Pelican project and make sure you have &lt;code&gt;DEFAULT_DATE_FORMAT&lt;/code&gt; set to the same format as &lt;code&gt;locale_date&lt;/code&gt;. In &lt;code&gt;pelicanconf.py&lt;/code&gt; you could do it like this&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;DEFAULT_LANG&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;en&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;DEFAULT_DATE_FORMAT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;%B &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;, %Y&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;DATE_FORMATS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;en&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;DEFAULT_DATE_FORMAT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. Remove Theme from Pelican&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Easiest way to remove a theme from Pelican is to delete the folder where it is installed into&lt;/span&gt;
start %PYTHON_HOME%&lt;span class="se"&gt;\l&lt;/span&gt;ib&lt;span class="se"&gt;\s&lt;/span&gt;ite-packages&lt;span class="se"&gt;\p&lt;/span&gt;elican&lt;span class="se"&gt;\t&lt;/span&gt;hemes
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. Install Theme to Pelican&lt;/h3&gt;
&lt;p&gt;See "Switch to Theme" above.&lt;/p&gt;
&lt;h3&gt;4. Build and see output&lt;/h3&gt;
&lt;p&gt;See "Day to day Workflow" in &lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html" target="_blank"&gt;previous&lt;/a&gt; blog.&lt;/p&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.pelicanthemes.com/" target="_blank"&gt;http://www.pelicanthemes.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/getpelican/pelican-themes" target="_blank"&gt;https://github.com/getpelican/pelican-themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/stable/pelican-themes.html" target="_blank"&gt;http://docs.getpelican.com/en/stable/pelican-themes.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://media.readthedocs.org/css/sphinx_rtd_theme.css" target="_blank"&gt;https://media.readthedocs.org/css/sphinx_rtd_theme.css&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pygments.org/languages/" target="_blank"&gt;http://pygments.org/languages/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/getpelican/pelican-plugins" target="_blank"&gt;https://github.com/getpelican/pelican-plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.fullstackpython.com/blog/generating-static-websites-pelican-jinja2-markdown.html" target="_blank"&gt;https://www.fullstackpython.com/blog/generating-static-websites-pelican-jinja2-markdown.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Some Pelican Themes I looked at&lt;ul&gt;
&lt;li&gt;Days &lt;a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank"&gt;https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;6M &lt;a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-striped-html5up" target="_blank"&gt;https://github.com/getpelican/pelican-themes/tree/master/pelican-striped-html5up&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;10M &lt;a href="https://github.com/alexandrevicenzi/Flex/tree/5bc235cf579cb03bcc8f54b6029ff74493a0cb44" target="_blank"&gt;https://github.com/alexandrevicenzi/Flex/tree/5bc235cf579cb03bcc8f54b6029ff74493a0cb44&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2Y &lt;a href="https://github.com/Parbhat/pelican-blue/tree/1dda054242f9267f4bd49891b022ac41c9ecfbe8" target="_blank"&gt;https://github.com/Parbhat/pelican-blue/tree/1dda054242f9267f4bd49891b022ac41c9ecfbe8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2Y &lt;a href="https://github.com/jody-frankowski/blue-penguin/tree/c5e23e7753367b5beacce87b732cd1567c4818f9" target="_blank"&gt;https://github.com/jody-frankowski/blue-penguin/tree/c5e23e7753367b5beacce87b732cd1567c4818f9&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;3Y &lt;a href="https://github.com/nasskach/pelican-blueidea/tree/8f11c0e3b4b8e9ef45d1243b0175db91b7b42ba8" target="_blank"&gt;https://github.com/nasskach/pelican-blueidea/tree/8f11c0e3b4b8e9ef45d1243b0175db91b7b42ba8&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Images &lt;a href="https://unsplash.com/" target="_blank"&gt;https://unsplash.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#blog"></category><category term="#pelican"></category><category term="#themes"></category><category term="#cms"></category><category term="#install"></category></entry><entry><title>Ngx: Template for Visual Studio 2017</title><link href="https://rasor.github.io/ngx-template-for-visual-studio-2017.html" rel="alternate"></link><published>2017-09-24T17:00:00+02:00</published><updated>2017-11-05T14:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-09-24:/ngx-template-for-visual-studio-2017.html</id><summary type="html">&lt;p&gt;At my work all web developers are getting an Angular 4 course.
But there are a couple of issues with that.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When you work with ngx in Visual Studio code you get a &lt;code&gt;.gitnore&lt;/code&gt; file from the Angular CLI to take care of what not to commit to GIT.
Since …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;At my work all web developers are getting an Angular 4 course.
But there are a couple of issues with that.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When you work with ngx in Visual Studio code you get a &lt;code&gt;.gitnore&lt;/code&gt; file from the Angular CLI to take care of what not to commit to GIT.
Since we are not yet using GIT at work (but TFS), then TFS don't know what to checkin.&lt;/li&gt;
&lt;li&gt;Since the develpers feel more comfortable with VS 2017, then we also have a chance to get control of files to Checkin with a &lt;code&gt;.csproj&lt;/code&gt; file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So HowTo import a Angular CLI project into VS 2017 on Windows?&lt;/p&gt;
&lt;p&gt;Luckily there is a &lt;code&gt;.vsix&lt;/code&gt; for that: &lt;a href="https://marketplace.visualstudio.com/items?itemName=AndreyFomin.AngularCLIProjectTemplate" target="_blank"&gt;Angular CLI Project Template&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Optionally install &lt;a href="https://rasor.github.io/using-nvm-for-windows-and-yarn.html" target="_blank"&gt;Nvm for Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://www.visualstudio.com/vs/community/" target="_blank"&gt;VS 2017&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Include web development including TypeScript&lt;/li&gt;
&lt;li&gt;Framework ASP.NET Core 1.1.2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Node 6.9.0 or higher (&lt;code&gt;node -v&lt;/code&gt;) - Should come with VS&lt;/li&gt;
&lt;li&gt;Npm 3 or higher (&lt;code&gt;npm -v&lt;/code&gt;) - Should come with VS&lt;/li&gt;
&lt;li&gt;&lt;a href="https://git-scm.com/download/win" target="_blank"&gt;Git for Windows&lt;/a&gt; (&lt;code&gt;git -version&lt;/code&gt;) - Should come with VS &lt;/li&gt;
&lt;li&gt;Install latest &lt;a href="https://www.npmjs.com/package/@angular/cli/tutorial" target="_blank"&gt;Angular CLI&lt;/a&gt; (&lt;code&gt;ng version&lt;/code&gt;)
** Note: The CLI you install will be the one that is used for creating Ng SPA&lt;/li&gt;
&lt;li&gt;Exit VisualStudio&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://marketplace.visualstudio.com/items?itemName=AndreyFomin.AngularCLIProjectTemplate" target="_blank"&gt;Angular CLI Project Template&lt;/a&gt; by executing the &lt;code&gt;.vsix&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Ready-Set-Go&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Start VisualStudio&lt;/li&gt;
&lt;li&gt;New - Project - Other Languages - TypeScript - Angular CLI Application - Name: &lt;YourNgAppName&gt;
** Note: You can also do New - Item into an existing .NET Core project - &lt;a href="https://github.com/damienbod/angular-auth-oidc-client"&gt;details&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="New Angular CLI Project in Visual Studio 2017" src="img/2017/2017-09-24-NewAngularCLIProject.PNG" title="New Angular CLI Project in Visual Studio 2017"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In the project options choises select both if you are in doubt&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="Angular CLI Project options" src="img/2017/2017-09-24-AngularCLIProjectOptions.PNG" title="Angular CLI Project options"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Installing the npm packages takes a long time. I prefer to skip that step and do it manually from a command prompt, where I feel I better can see what is going on, if something fails&lt;ul&gt;
&lt;li&gt;Open a command prompt and CD into the root of your Angular project&lt;/li&gt;
&lt;li&gt;&lt;code&gt;npm install&lt;/code&gt; # install all the node_modules found in package.json&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now start the app with F5&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VS 2017 will read .\properties\launchsettings.json&lt;ul&gt;
&lt;li&gt;If you started IIS Express, then VS will start dotnet.exe on &lt;a href="http://localhost:58162/"&gt;http://localhost:58162/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;If you started [yourapp], then VS will start dotnet.exe on &lt;a href="http://localhost:58163/"&gt;http://localhost:58163/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="F5 startup 1" src="img/2017/2017-09-24-F5Startup1.PNG" title="F5 startup 1"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In both cases Angular CLI will serve you app after buiding it with the Angular CLI on &lt;a href="http://localhost:4200/"&gt;http://localhost:4200/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="F5 startup 2" src="img/2017/2017-09-24-F5Startup2.PNG" title="F5 startup 2"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This is very good news. Why? Because it does not matter what webserver or editor you are using.
But the best of is that you use standard node.js deployment methods, so you can deploy your app anywhere. You can use standard npm or yarn managers without having to do a lot of strange Visual Studio configuration.&lt;/li&gt;
&lt;li&gt;You can now stop F5 debugging.&lt;/li&gt;
&lt;li&gt;Instead start a webserver manually from a command prompt (in the root of your project) with &lt;code&gt;ng serve&lt;/code&gt;
Now you can see that it is Angular CLI (via .angular-cli.json) that in both cases uses webpack to build packages (via \src\tsconfig.app.json) to serve once again on &lt;a href="http://localhost:4200/"&gt;http://localhost:4200/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Press Ctrl-C to stop the webserver&lt;/li&gt;
&lt;li&gt;Checkin your code using your favorite VCS (e.g. TFS or GIT)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/aspnet/core/client-side/spa-services"&gt;SSR with .NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.npmjs.com/package/@angular/cli/" target="_blank"&gt;@angular/cli&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://angular.io/guide/visual-studio-2015" target="_blank"&gt;Visual Studio 2015 QuickStart&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="Develop"></category><category term="#npm"></category><category term="#ngx"></category><category term="#typescript"></category><category term="#visualstudio"></category><category term="#tfs"></category></entry><entry><title>Using Pelican blog on Github pages</title><link href="https://rasor.github.io/using-pelican-blog-on-github-pages.html" rel="alternate"></link><published>2017-09-23T20:20:00+02:00</published><updated>2017-11-26T21:00:00+01:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-09-23:/using-pelican-blog-on-github-pages.html</id><summary type="html">&lt;p&gt;This blog is part of a serie &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-themes.html"&gt;Using Pelican Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html"&gt;Setting Pelican blogs in "draft"&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I had some reasons for moving a blog from Wordpress to GitHubPages. You can read about reason, pro and cons &lt;a href="https://rasor.github.io/welcome-to-my-pelican-blog-on-github-pages.html" target="_blank"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this blog I setup a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This blog is part of a serie &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;Using Pelican blog on Github pages&lt;/a&gt; (this blog)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/using-pelican-themes.html"&gt;Using Pelican Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rasor.github.io/setting-pelican-blogs-in-draft-4-review-howto.html"&gt;Setting Pelican blogs in "draft"&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I had some reasons for moving a blog from Wordpress to GitHubPages. You can read about reason, pro and cons &lt;a href="https://rasor.github.io/welcome-to-my-pelican-blog-on-github-pages.html" target="_blank"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this blog I setup a &lt;a href="http://docs.getpelican.com/en/stable/quickstart.html" target="_blank"&gt;Pelican blog site&lt;/a&gt; from Windows and host it on &lt;a href="https://pages.github.com/" target="_blank"&gt;GitHub Pages&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;HowTo&lt;/h2&gt;
&lt;h3&gt;Installation - Prerequisites&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Install &lt;a href="https://www.python.org/downloads/" target="_blank"&gt;Python&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Create an account at &lt;a href="https://github.com"&gt;https://github.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;On Windows: Install &lt;a href="https://git-scm.com/download/win" target="_blank"&gt;Git for Windows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Installation - Pelican&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;As admin:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pip install pelican markdown&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create a folder for the Pelican source&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MD username.github.io&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CD username.github.io&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create a pelican site following &lt;a href="http://docs.getpelican.com/en/stable/quickstart.html"&gt;http://docs.getpelican.com/en/stable/quickstart.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pelican-quickstart&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Do you want to specify URL prefix? Answer https://username.github.io&lt;/li&gt;
&lt;li&gt;Do you want to upload using xxx? Answer N untill the xxx = GitHub Pages&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Create some content&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Create a blog e.g &lt;code&gt;~/content/yourcategoryno1/myfirstblog.md&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Preview content&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pelican content&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd output&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;python -m pelican.server&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Browse to  &lt;a href="http://localhost:8000/"&gt;http://localhost:8000/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;On Windows - in root create a file called &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/serve.bat" target="_blank"&gt;serve.bat&lt;/a&gt; with the content:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pelican content
&lt;span class="nb"&gt;cd&lt;/span&gt; output
start &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://localhost:8000/&amp;quot;&lt;/span&gt;
python -m pelican.server
REM Ctrl-C to quit
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;... then you can pre-view your content with &lt;code&gt;.\serve&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Images&lt;ul&gt;
&lt;li&gt;In &lt;code&gt;pelicanconf.py&lt;/code&gt; add line &lt;code&gt;STATIC_PATHS = ['img', 'pdf']&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create an image e.g &lt;code&gt;~/content/img/hello.png&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Link to the file with
&lt;code&gt;![picture alt](img/hello.png "Mickey Mouse")&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Links&lt;ul&gt;
&lt;li&gt;External: &lt;code&gt;[link desc](https://blog.getpelican.com/){:target="_blank"}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Internal: &lt;code&gt;[link desc]({filename}/yourcategoryno1/myfirstblog.md){:target="_blank"}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Optionally edit more settings in &lt;code&gt;pelicanconf.py&lt;/code&gt; - see &lt;a href="http://docs.getpelican.com/en/3.7.1/settings.html"&gt;http://docs.getpelican.com/en/3.7.1/settings.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;add a &lt;code&gt;favicon.ico&lt;/code&gt; to root&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Prepare GIT as VersionControlSystem&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fetch &lt;code&gt;.gitignore&lt;/code&gt;from &lt;a href="https://github.com/getpelican/pelican-blog/blob/master/.gitignore"&gt;https://github.com/getpelican/pelican-blog/blob/master/.gitignore&lt;/a&gt; - save it to root&lt;/li&gt;
&lt;li&gt;Create a &lt;code&gt;~/README.md&lt;/code&gt; - just for the source branch&lt;/li&gt;
&lt;li&gt;Install publish tool&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pip install ghp-import&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create local git repo&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git init&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create a remote repo via github.com for your github page build in GitHub. Call it &lt;code&gt;username.github.io&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Connect to repo and print remote repo&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git remote add origin https://github.com/username/username.github.io.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git remote -v&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create new branch for the pelican source&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git checkout -b pelican&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deploy you blog&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;(Foreach) Commit source&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git add .&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git commit -a -m "Initial commit"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git push -u origin pelican&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;(Foreach) &lt;a href="http://docs.getpelican.com/en/3.7.1/tips.html#publishing-to-github" target="_blank"&gt;Publish&lt;/a&gt; build to master then publish&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pelican content -o output -s pelicanconf.py&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ghp-import output -r origin -b master&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git push origin master&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git checkout pelican&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;On Windows - in root create a file called &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/publish.bat" target="_blank"&gt;publish.bat&lt;/a&gt; with the content:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git add .
git commit -a -m %1
git push -u origin pelican
pelican content -o output -s pelicanconf.py
ghp-import output -r origin -b master
git push origin master
git checkout pelican
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;... then you can publish by &lt;code&gt;.\publish "some comment"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Editor&lt;/h2&gt;
&lt;p&gt;I'm using Visual Studio Code, that has a nice Markdown preview - probably a plugin.
But you could use NotePad for that matter.&lt;/p&gt;
&lt;p&gt;&lt;img alt="picture alt" src="img/2017/2017-09-23-PelicanInVSCode.PNG" title="Pelican In VS Code"&gt;&lt;/p&gt;
&lt;h2&gt;Day to day Workflow&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Open VS Code&lt;/li&gt;
&lt;li&gt;Open VS Code terminal 1 - T1&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.\serve&lt;/code&gt; &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/serve.bat"&gt;#code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A browser opens and navigates to http://localhost:8000&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Add a new &lt;code&gt;.md&lt;/code&gt; file in \content\ and add some content&lt;/li&gt;
&lt;li&gt;Open VS Code terminal 2 - T2&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.\build&lt;/code&gt; &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/build.bat"&gt;#code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;F5 - refresh browser to see the new content&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.\publish "file new.md published"&lt;/code&gt; &lt;a href="https://github.com/rasor/rasor.github.io/blob/pelican/publish.bat"&gt;#code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Browse to https://username.github.io&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Tip: If I don't want to publish a file I rename it to &lt;code&gt;.txt&lt;/code&gt; - then it won't be published before I rename it back to &lt;code&gt;.md&lt;/code&gt;.&lt;br&gt;
It will still end up on your host - GitHubPages, so don't keep secrests in there.&lt;br&gt;
If you want it published for review without being included in any content lists, then you can &lt;a href="http://docs.getpelican.com/en/3.6.3/content.html#publishing-drafts"&gt;publish the document as draft&lt;/a&gt; with &lt;code&gt;Status: draft&lt;/code&gt;.&lt;br&gt;
Then the document will be put in the &lt;code&gt;/drafts/&lt;/code&gt; folder. &lt;/p&gt;
&lt;p&gt;Continue in &lt;a href="https://rasor.github.io/using-pelican-themes.html" target="_blank"&gt;Using Pelican Themes&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;Links&lt;/h3&gt;
&lt;h4&gt;GitHub pages&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pages.github.com/" target="_blank"&gt;Create a repo for your github page site&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://jlord.us/forkngo/" target="_blank"&gt;Fork-n-Go&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Pelican&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/stable/publish.html" target="_blank"&gt;http://docs.getpelican.com/en/stable/publish.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/3.6.3/content.html#linking-to-static-files" target="_blank"&gt;http://docs.getpelican.com/en/3.6.3/content.html#linking-to-static-files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/stable/faq.html" target="_blank"&gt;http://docs.getpelican.com/en/stable/faq.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.getpelican.com/" target="_blank"&gt;https://blog.getpelican.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.github.com/articles/about-supported-custom-domains/" target="_blank"&gt;https://help.github.com/articles/about-supported-custom-domains/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Another &lt;a href="https://www.fullstackpython.com/blog/generating-static-websites-pelican-jinja2-markdown.html" target="_blank"&gt;install Pelican blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Pelican &lt;a href="https://github.com/getpelican/pelican/wiki/Tutorials" target="_blank"&gt;tutorial for deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/getpelican" target="_blank"&gt;Pelican on Twitter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Markdown&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://stackedit.io/editor" target="_blank"&gt;StackEdit – Editor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tchapi/markdown-cheatsheet" target="_blank"&gt;https://github.com/tchapi/markdown-cheatsheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tinker.kotaweaver.com/blog/?p=152" target="_blank"&gt;Syntax highlighting languages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pythonhosted.org/Markdown/reference.html" target="_blank"&gt;http://pythonhosted.org/Markdown/reference.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references" target="_blank"&gt;List of XML and HTML characters&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;Other&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.wordpress.com/" target="_blank"&gt;My old Wordpress blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The End&lt;/p&gt;</content><category term="DevOps"></category><category term="#blog"></category><category term="#pelican"></category><category term="#githubpages"></category><category term="#cms"></category><category term="#git"></category><category term="#install"></category><category term="#python"></category></entry><entry><title>Welcome to my Pelican blog on Github pages</title><link href="https://rasor.github.io/welcome-to-my-pelican-blog-on-github-pages.html" rel="alternate"></link><published>2017-09-23T20:00:00+02:00</published><updated>2017-09-30T10:00:00+02:00</updated><author><name>rasor</name></author><id>tag:rasor.github.io,2017-09-23:/welcome-to-my-pelican-blog-on-github-pages.html</id><summary type="html">&lt;p&gt;Hi there.&lt;/p&gt;
&lt;p&gt;I have moved. Previously I was living on &lt;a href="https://rasor.wordpress.com/"&gt;https://rasor.wordpress.com/&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Reason for move&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;I wanted Mardown markup&lt;/li&gt;
&lt;li&gt;I wanted better &lt;a href="http://docs.getpelican.com/en/stable/content.html#syntax-highlighting" target="_blank"&gt;syntax highligting&lt;/a&gt; for code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Pro and Cons compared to Wordpress&lt;/h2&gt;
&lt;h3&gt;Pros&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;I got an easier way of editing categories and tags&lt;ul&gt;
&lt;li&gt;Categories: In your content folder …&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Hi there.&lt;/p&gt;
&lt;p&gt;I have moved. Previously I was living on &lt;a href="https://rasor.wordpress.com/"&gt;https://rasor.wordpress.com/&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Reason for move&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;I wanted Mardown markup&lt;/li&gt;
&lt;li&gt;I wanted better &lt;a href="http://docs.getpelican.com/en/stable/content.html#syntax-highlighting" target="_blank"&gt;syntax highligting&lt;/a&gt; for code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Pro and Cons compared to Wordpress&lt;/h2&gt;
&lt;h3&gt;Pros&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;I got an easier way of editing categories and tags&lt;ul&gt;
&lt;li&gt;Categories: In your content folder you create a subfolder for each tag and you store your .md file in there.&lt;/li&gt;
&lt;li&gt;Tags: You just write them inside your .md&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You own your content and have a local copy of it&lt;/li&gt;
&lt;li&gt;Your content is very easy to move to somehwere else, since you have a local copy on your PC&lt;/li&gt;
&lt;li&gt;Updates to a blog has its own field e.g. Modified: 2017-09-24 09:00&lt;/li&gt;
&lt;li&gt;If you have a blog series then it is much easier to add the list of articles in top of all articles inclused, since they are all on your PC and will all be republished&lt;/li&gt;
&lt;li&gt;An &lt;a href="http://docs.getpelican.com/en/stable/importer.html"&gt;importer&lt;/a&gt; exists&lt;/li&gt;
&lt;li&gt;You can customize a theme for your own needs - it is not much hazzle&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Cons&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;No central editing of tags - well that is a releaf, because it was cumbersome to add one, when you in the middle of editing in Wordpress&lt;/li&gt;
&lt;li&gt;No img size editing tool&lt;/li&gt;
&lt;li&gt;You need to be used to work with GIT and a command promt&lt;/li&gt;
&lt;li&gt;Preview of markup is only instantly, if your editor supports it. Same goes for WYSIWIG editor.&lt;/li&gt;
&lt;li&gt;Setting up to be published in GitHupPages was not described well, so I had to create a &lt;a href="https://rasor.github.io/using-pelican-blog-on-github-pages.html"&gt;procedure&lt;/a&gt; myself. I am quite pleased with the workflow now. Not too much hazzle, when you are working with code and a terminal anyway.&lt;/li&gt;
&lt;li&gt;Making links open in a new window with {:target="_blank"} really needs a snippet.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Links&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rasor.wordpress.com/2017/04/15/markdown-saas-blogs/"&gt;Thinking about moving&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The end&lt;/p&gt;</content><category term="Study"></category><category term="#blog"></category><category term="#pelican"></category><category term="#githubpages"></category><category term="#cms"></category></entry></feed>